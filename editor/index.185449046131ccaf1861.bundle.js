/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is not neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkfrontend_industry"] = self["webpackChunkfrontend_industry"] || []).push([["index"],{

/***/ "./node_modules/@vaadin/router/dist/vaadin-router.js":
/*!***********************************************************!*\
  !*** ./node_modules/@vaadin/router/dist/vaadin-router.js ***!
  \***********************************************************/
/*! namespace exports */
/*! export Resolver [provided] [no usage info] [missing usage info prevents renaming] */
/*! export Router [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Resolver\": () => /* binding */ Resolver,\n/* harmony export */   \"Router\": () => /* binding */ Router\n/* harmony export */ });\nfunction toArray(objectOrArray) {\n  objectOrArray = objectOrArray || [];\n  return Array.isArray(objectOrArray) ? objectOrArray : [objectOrArray];\n}\n\nfunction log(msg) {\n  return `[Vaadin.Router] ${msg}`;\n}\n\nfunction logValue(value) {\n  if (typeof value !== 'object') {\n    return String(value);\n  }\n\n  const stringType = Object.prototype.toString.call(value).match(/ (.*)\\]$/)[1];\n  if (stringType === 'Object' || stringType === 'Array') {\n    return `${stringType} ${JSON.stringify(value)}`;\n  } else {\n    return stringType;\n  }\n}\n\nconst MODULE = 'module';\nconst NOMODULE = 'nomodule';\nconst bundleKeys = [MODULE, NOMODULE];\n\nfunction ensureBundle(src) {\n  if (!src.match(/.+\\.[m]?js$/)) {\n    throw new Error(\n      log(`Unsupported type for bundle \"${src}\": .js or .mjs expected.`)\n    );\n  }\n}\n\nfunction ensureRoute(route) {\n  if (!route || !isString(route.path)) {\n    throw new Error(\n      log(`Expected route config to be an object with a \"path\" string property, or an array of such objects`)\n    );\n  }\n\n  const bundle = route.bundle;\n\n  const stringKeys = ['component', 'redirect', 'bundle'];\n  if (\n    !isFunction(route.action) &&\n    !Array.isArray(route.children) &&\n    !isFunction(route.children) &&\n    !isObject(bundle) &&\n    !stringKeys.some(key => isString(route[key]))\n  ) {\n    throw new Error(\n      log(\n        `Expected route config \"${route.path}\" to include either \"${stringKeys.join('\", \"')}\" ` +\n        `or \"action\" function but none found.`\n      )\n    );\n  }\n\n  if (bundle) {\n    if (isString(bundle)) {\n      ensureBundle(bundle);\n    } else if (!bundleKeys.some(key => key in bundle)) {\n      throw new Error(\n        log('Expected route bundle to include either \"' + NOMODULE + '\" or \"' + MODULE + '\" keys, or both')\n      );\n    } else {\n      bundleKeys.forEach(key => key in bundle && ensureBundle(bundle[key]));\n    }\n  }\n\n  if (route.redirect) {\n    ['bundle', 'component'].forEach(overriddenProp => {\n      if (overriddenProp in route) {\n        console.warn(\n          log(\n            `Route config \"${route.path}\" has both \"redirect\" and \"${overriddenProp}\" properties, ` +\n            `and \"redirect\" will always override the latter. Did you mean to only use \"${overriddenProp}\"?`\n          )\n        );\n      }\n    });\n  }\n}\n\nfunction ensureRoutes(routes) {\n  toArray(routes).forEach(route => ensureRoute(route));\n}\n\nfunction loadScript(src, key) {\n  let script = document.head.querySelector('script[src=\"' + src + '\"][async]');\n  if (!script) {\n    script = document.createElement('script');\n    script.setAttribute('src', src);\n    if (key === MODULE) {\n      script.setAttribute('type', MODULE);\n    } else if (key === NOMODULE) {\n      script.setAttribute(NOMODULE, '');\n    }\n    script.async = true;\n  }\n  return new Promise((resolve, reject) => {\n    script.onreadystatechange = script.onload = e => {\n      script.__dynamicImportLoaded = true;\n      resolve(e);\n    };\n    script.onerror = e => {\n      if (script.parentNode) {\n        script.parentNode.removeChild(script);\n      }\n      reject(e);\n    };\n    if (script.parentNode === null) {\n      document.head.appendChild(script);\n    } else if (script.__dynamicImportLoaded) {\n      resolve();\n    }\n  });\n}\n\nfunction loadBundle(bundle) {\n  if (isString(bundle)) {\n    return loadScript(bundle);\n  } else {\n    return Promise.race(\n      bundleKeys\n        .filter(key => key in bundle)\n        .map(key => loadScript(bundle[key], key))\n    );\n  }\n}\n\nfunction fireRouterEvent(type, detail) {\n  return !window.dispatchEvent(new CustomEvent(\n    `vaadin-router-${type}`,\n    {cancelable: type === 'go', detail}\n  ));\n}\n\nfunction isObject(o) {\n  // guard against null passing the typeof check\n  return typeof o === 'object' && !!o;\n}\n\nfunction isFunction(f) {\n  return typeof f === 'function';\n}\n\nfunction isString(s) {\n  return typeof s === 'string';\n}\n\nfunction getNotFoundError(context) {\n  const error = new Error(log(`Page not found (${context.pathname})`));\n  error.context = context;\n  error.code = 404;\n  return error;\n}\n\nconst notFoundResult = new (class NotFoundResult {})();\n\n/* istanbul ignore next: coverage is calculated in Chrome, this code is for IE */\nfunction getAnchorOrigin(anchor) {\n  // IE11: on HTTP and HTTPS the default port is not included into\n  // window.location.origin, so won't include it here either.\n  const port = anchor.port;\n  const protocol = anchor.protocol;\n  const defaultHttp = protocol === 'http:' && port === '80';\n  const defaultHttps = protocol === 'https:' && port === '443';\n  const host = (defaultHttp || defaultHttps)\n    ? anchor.hostname // does not include the port number (e.g. www.example.org)\n    : anchor.host; // does include the port number (e.g. www.example.org:80)\n  return `${protocol}//${host}`;\n}\n\n// The list of checks is not complete:\n//  - SVG support is missing\n//  - the 'rel' attribute is not considered\nfunction vaadinRouterGlobalClickHandler(event) {\n  // ignore the click if the default action is prevented\n  if (event.defaultPrevented) {\n    return;\n  }\n\n  // ignore the click if not with the primary mouse button\n  if (event.button !== 0) {\n    return;\n  }\n\n  // ignore the click if a modifier key is pressed\n  if (event.shiftKey || event.ctrlKey || event.altKey || event.metaKey) {\n    return;\n  }\n\n  // find the <a> element that the click is at (or within)\n  let anchor = event.target;\n  const path = event.composedPath\n    ? event.composedPath()\n    : (event.path || []);\n\n  // FIXME(web-padawan): `Symbol.iterator` used by webcomponentsjs is broken for arrays\n  // example to check: `for...of` loop here throws the \"Not yet implemented\" error\n  for (let i = 0; i < path.length; i++) {\n    const target = path[i];\n    if (target.nodeName && target.nodeName.toLowerCase() === 'a') {\n      anchor = target;\n      break;\n    }\n  }\n\n  while (anchor && anchor.nodeName.toLowerCase() !== 'a') {\n    anchor = anchor.parentNode;\n  }\n\n  // ignore the click if not at an <a> element\n  if (!anchor || anchor.nodeName.toLowerCase() !== 'a') {\n    return;\n  }\n\n  // ignore the click if the <a> element has a non-default target\n  if (anchor.target && anchor.target.toLowerCase() !== '_self') {\n    return;\n  }\n\n  // ignore the click if the <a> element has the 'download' attribute\n  if (anchor.hasAttribute('download')) {\n    return;\n  }\n\n  // ignore the click if the <a> element has the 'router-ignore' attribute\n  if (anchor.hasAttribute('router-ignore')) {\n    return;\n  }\n\n  // ignore the click if the target URL is a fragment on the current page\n  if (anchor.pathname === window.location.pathname && anchor.hash !== '') {\n    return;\n  }\n\n  // ignore the click if the target is external to the app\n  // In IE11 HTMLAnchorElement does not have the `origin` property\n  const origin = anchor.origin || getAnchorOrigin(anchor);\n  if (origin !== window.location.origin) {\n    return;\n  }\n\n  // if none of the above, convert the click into a navigation event\n  const {pathname, search, hash} = anchor;\n  if (fireRouterEvent('go', {pathname, search, hash})) {\n    event.preventDefault();\n  }\n}\n\n/**\n * A navigation trigger for Vaadin Router that translated clicks on `<a>` links\n * into Vaadin Router navigation events.\n *\n * Only regular clicks on in-app links are translated (primary mouse button, no\n * modifier keys, the target href is within the app's URL space).\n *\n * @memberOf Router.NavigationTrigger\n * @type {NavigationTrigger}\n */\nconst CLICK = {\n  activate() {\n    window.document.addEventListener('click', vaadinRouterGlobalClickHandler);\n  },\n\n  inactivate() {\n    window.document.removeEventListener('click', vaadinRouterGlobalClickHandler);\n  }\n};\n\n// PopStateEvent constructor shim\nconst isIE = /Trident/.test(navigator.userAgent);\n\n/* istanbul ignore next: coverage is calculated in Chrome, this code is for IE */\nif (isIE && !isFunction(window.PopStateEvent)) {\n  window.PopStateEvent = function(inType, params) {\n    params = params || {};\n    var e = document.createEvent('Event');\n    e.initEvent(inType, Boolean(params.bubbles), Boolean(params.cancelable));\n    e.state = params.state || null;\n    return e;\n  };\n  window.PopStateEvent.prototype = window.Event.prototype;\n}\n\nfunction vaadinRouterGlobalPopstateHandler(event) {\n  if (event.state === 'vaadin-router-ignore') {\n    return;\n  }\n  const {pathname, search, hash} = window.location;\n  fireRouterEvent('go', {pathname, search, hash});\n}\n\n/**\n * A navigation trigger for Vaadin Router that translates popstate events into\n * Vaadin Router navigation events.\n *\n * @memberOf Router.NavigationTrigger\n * @type {NavigationTrigger}\n */\nconst POPSTATE = {\n  activate() {\n    window.addEventListener('popstate', vaadinRouterGlobalPopstateHandler);\n  },\n\n  inactivate() {\n    window.removeEventListener('popstate', vaadinRouterGlobalPopstateHandler);\n  }\n};\n\n/**\n * Expose `pathToRegexp`.\n */\nvar pathToRegexp_1 = pathToRegexp;\nvar parse_1 = parse;\nvar compile_1 = compile;\nvar tokensToFunction_1 = tokensToFunction;\nvar tokensToRegExp_1 = tokensToRegExp;\n\n/**\n * Default configs.\n */\nvar DEFAULT_DELIMITER = '/';\nvar DEFAULT_DELIMITERS = './';\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \":test(\\\\d+)?\" => [\"test\", \"\\d+\", undefined, \"?\"]\n  // \"(\\\\d+)\"  => [undefined, undefined, \"\\d+\", undefined]\n  '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\n].join('|'), 'g');\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER;\n  var delimiters = (options && options.delimiters) || DEFAULT_DELIMITERS;\n  var pathEscaped = false;\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length;\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1];\n      pathEscaped = true;\n      continue\n    }\n\n    var prev = '';\n    var next = str[index];\n    var name = res[2];\n    var capture = res[3];\n    var group = res[4];\n    var modifier = res[5];\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1;\n\n      if (delimiters.indexOf(path[k]) > -1) {\n        prev = path[k];\n        path = path.slice(0, k);\n      }\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path);\n      path = '';\n      pathEscaped = false;\n    }\n\n    var partial = prev !== '' && next !== undefined && next !== prev;\n    var repeat = modifier === '+' || modifier === '*';\n    var optional = modifier === '?' || modifier === '*';\n    var delimiter = prev || defaultDelimiter;\n    var pattern = capture || group;\n\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      pattern: pattern ? escapeGroup(pattern) : '[^' + escapeString(delimiter) + ']+?'\n    });\n  }\n\n  // Push any remaining characters.\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index));\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length);\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$');\n    }\n  }\n\n  return function (data, options) {\n    var path = '';\n    var encode = (options && options.encode) || encodeURIComponent;\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n        continue\n      }\n\n      var value = data ? data[token.name] : undefined;\n      var segment;\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue\n\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j], token);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value), token);\n\n        if (!matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"')\n        }\n\n        path += token.prefix + segment;\n        continue\n      }\n\n      if (token.optional) {\n        // Prepend partial segment prefixes.\n        if (token.partial) path += token.prefix;\n\n        continue\n      }\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'))\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1')\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  if (!keys) return path\n\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        pattern: null\n      });\n    }\n  }\n\n  return path\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options))\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  options = options || {};\n\n  var strict = options.strict;\n  var start = options.start !== false;\n  var end = options.end !== false;\n  var delimiter = escapeString(options.delimiter || DEFAULT_DELIMITER);\n  var delimiters = options.delimiters || DEFAULT_DELIMITERS;\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|');\n  var route = start ? '^' : '';\n  var isEndDelimited = tokens.length === 0;\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n      isEndDelimited = i === tokens.length - 1 && delimiters.indexOf(token[token.length - 1]) > -1;\n    } else {\n      var capture = token.repeat\n        ? '(?:' + token.pattern + ')(?:' + escapeString(token.delimiter) + '(?:' + token.pattern + '))*'\n        : token.pattern;\n\n      if (keys) keys.push(token);\n\n      if (token.optional) {\n        if (token.partial) {\n          route += escapeString(token.prefix) + '(' + capture + ')?';\n        } else {\n          route += '(?:' + escapeString(token.prefix) + '(' + capture + '))?';\n        }\n      } else {\n        route += escapeString(token.prefix) + '(' + capture + ')';\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + delimiter + ')?';\n\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')';\n  } else {\n    if (!strict) route += '(?:' + delimiter + '(?=' + endsWith + '))?';\n    if (!isEndDelimited) route += '(?=' + delimiter + '|' + endsWith + ')';\n  }\n\n  return new RegExp(route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys)\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), keys, options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), keys, options)\n}\npathToRegexp_1.parse = parse_1;\npathToRegexp_1.compile = compile_1;\npathToRegexp_1.tokensToFunction = tokensToFunction_1;\npathToRegexp_1.tokensToRegExp = tokensToRegExp_1;\n\n/**\n * Universal Router (https://www.kriasoft.com/universal-router/)\n *\n * Copyright (c) 2015-present Kriasoft.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nconst {hasOwnProperty} = Object.prototype;\nconst cache = new Map();\n// see https://github.com/pillarjs/path-to-regexp/issues/148\ncache.set('|false', {\n  keys: [],\n  pattern: /(?:)/\n});\n\nfunction decodeParam(val) {\n  try {\n    return decodeURIComponent(val);\n  } catch (err) {\n    return val;\n  }\n}\n\nfunction matchPath(routepath, path, exact, parentKeys, parentParams) {\n  exact = !!exact;\n  const cacheKey = `${routepath}|${exact}`;\n  let regexp = cache.get(cacheKey);\n\n  if (!regexp) {\n    const keys = [];\n    regexp = {\n      keys,\n      pattern: pathToRegexp_1(routepath, keys, {\n        end: exact,\n        strict: routepath === ''\n      }),\n    };\n    cache.set(cacheKey, regexp);\n  }\n\n  const m = regexp.pattern.exec(path);\n  if (!m) {\n    return null;\n  }\n\n  const params = Object.assign({}, parentParams);\n\n  for (let i = 1; i < m.length; i++) {\n    const key = regexp.keys[i - 1];\n    const prop = key.name;\n    const value = m[i];\n    if (value !== undefined || !hasOwnProperty.call(params, prop)) {\n      if (key.repeat) {\n        params[prop] = value ? value.split(key.delimiter).map(decodeParam) : [];\n      } else {\n        params[prop] = value ? decodeParam(value) : value;\n      }\n    }\n  }\n\n  return {\n    path: m[0],\n    keys: (parentKeys || []).concat(regexp.keys),\n    params,\n  };\n}\n\n/**\n * Universal Router (https://www.kriasoft.com/universal-router/)\n *\n * Copyright (c) 2015-present Kriasoft.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n/**\n * Traverses the routes tree and matches its nodes to the given pathname from\n * the root down to the leaves. Each match consumes a part of the pathname and\n * the matching process continues for as long as there is a matching child\n * route for the remaining part of the pathname.\n *\n * The returned value is a lazily evaluated iterator.\n *\n * The leading \"/\" in a route path matters only for the root of the routes\n * tree (or if all parent routes are \"\"). In all other cases a leading \"/\" in\n * a child route path has no significance.\n *\n * The trailing \"/\" in a _route path_ matters only for the leaves of the\n * routes tree. A leaf route with a trailing \"/\" matches only a pathname that\n * also has a trailing \"/\".\n *\n * The trailing \"/\" in a route path does not affect matching of child routes\n * in any way.\n *\n * The trailing \"/\" in a _pathname_ generally does not matter (except for\n * the case of leaf nodes described above).\n *\n * The \"\" and \"/\" routes have special treatment:\n *  1. as a single route\n *     the \"\" and \"/\" routes match only the \"\" and \"/\" pathnames respectively\n *  2. as a parent in the routes tree\n *     the \"\" route matches any pathname without consuming any part of it\n *     the \"/\" route matches any absolute pathname consuming its leading \"/\"\n *  3. as a leaf in the routes tree\n *     the \"\" and \"/\" routes match only if the entire pathname is consumed by\n *         the parent routes chain. In this case \"\" and \"/\" are equivalent.\n *  4. several directly nested \"\" or \"/\" routes\n *     - directly nested \"\" or \"/\" routes are 'squashed' (i.e. nesting two\n *       \"/\" routes does not require a double \"/\" in the pathname to match)\n *     - if there are only \"\" in the parent routes chain, no part of the\n *       pathname is consumed, and the leading \"/\" in the child routes' paths\n *       remains significant\n *\n * Side effect:\n *   - the routes tree { path: '' } matches only the '' pathname\n *   - the routes tree { path: '', children: [ { path: '' } ] } matches any\n *     pathname (for the tree root)\n *\n * Prefix matching can be enabled also by `children: true`.\n */\nfunction matchRoute(route, pathname, ignoreLeadingSlash, parentKeys, parentParams) {\n  let match;\n  let childMatches;\n  let childIndex = 0;\n  let routepath = route.path || '';\n  if (routepath.charAt(0) === '/') {\n    if (ignoreLeadingSlash) {\n      routepath = routepath.substr(1);\n    }\n    ignoreLeadingSlash = true;\n  }\n\n  return {\n    next(routeToSkip) {\n      if (route === routeToSkip) {\n        return {done: true};\n      }\n\n      const children = route.__children = route.__children || route.children;\n\n      if (!match) {\n        match = matchPath(routepath, pathname, !children, parentKeys, parentParams);\n\n        if (match) {\n          return {\n            done: false,\n            value: {\n              route,\n              keys: match.keys,\n              params: match.params,\n              path: match.path\n            },\n          };\n        }\n      }\n\n      if (match && children) {\n        while (childIndex < children.length) {\n          if (!childMatches) {\n            const childRoute = children[childIndex];\n            childRoute.parent = route;\n\n            let matchedLength = match.path.length;\n            if (matchedLength > 0 && pathname.charAt(matchedLength) === '/') {\n              matchedLength += 1;\n            }\n\n            childMatches = matchRoute(\n              childRoute,\n              pathname.substr(matchedLength),\n              ignoreLeadingSlash,\n              match.keys,\n              match.params\n            );\n          }\n\n          const childMatch = childMatches.next(routeToSkip);\n          if (!childMatch.done) {\n            return {\n              done: false,\n              value: childMatch.value,\n            };\n          }\n\n          childMatches = null;\n          childIndex++;\n        }\n      }\n\n      return {done: true};\n    },\n  };\n}\n\n/**\n * Universal Router (https://www.kriasoft.com/universal-router/)\n *\n * Copyright (c) 2015-present Kriasoft.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nfunction resolveRoute(context) {\n  if (isFunction(context.route.action)) {\n    return context.route.action(context);\n  }\n  return undefined;\n}\n\n/**\n * Universal Router (https://www.kriasoft.com/universal-router/)\n *\n * Copyright (c) 2015-present Kriasoft.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nfunction isChildRoute(parentRoute, childRoute) {\n  let route = childRoute;\n  while (route) {\n    route = route.parent;\n    if (route === parentRoute) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction generateErrorMessage(currentContext) {\n  let errorMessage = `Path '${currentContext.pathname}' is not properly resolved due to an error.`;\n  const routePath = (currentContext.route || {}).path;\n  if (routePath) {\n    errorMessage += ` Resolution had failed on route: '${routePath}'`;\n  }\n  return errorMessage;\n}\n\nfunction updateChainForRoute(context, match) {\n  const {route, path} = match;\n\n  if (route && !route.__synthetic) {\n    const item = {path, route};\n    if (!context.chain) {\n      context.chain = [];\n    } else {\n      // Discard old items\n      if (route.parent) {\n        let i = context.chain.length;\n        while (i-- && context.chain[i].route && context.chain[i].route !== route.parent) {\n          context.chain.pop();\n        }\n      }\n    }\n    context.chain.push(item);\n  }\n}\n\n/**\n */\nclass Resolver {\n  constructor(routes, options = {}) {\n    if (Object(routes) !== routes) {\n      throw new TypeError('Invalid routes');\n    }\n\n    this.baseUrl = options.baseUrl || '';\n    this.errorHandler = options.errorHandler;\n    this.resolveRoute = options.resolveRoute || resolveRoute;\n    this.context = Object.assign({resolver: this}, options.context);\n    this.root = Array.isArray(routes) ? {path: '', __children: routes, parent: null, __synthetic: true} : routes;\n    this.root.parent = null;\n  }\n\n  /**\n   * Returns the current list of routes (as a shallow copy). Adding / removing\n   * routes to / from the returned array does not affect the routing config,\n   * but modifying the route objects does.\n   *\n   * @return {!Array<!Router.Route>}\n   */\n  getRoutes() {\n    return [...this.root.__children];\n  }\n\n  /**\n   * Sets the routing config (replacing the existing one).\n   *\n   * @param {!Array<!Router.Route>|!Router.Route} routes a single route or an array of those\n   *    (the array is shallow copied)\n   */\n  setRoutes(routes) {\n    ensureRoutes(routes);\n    const newRoutes = [...toArray(routes)];\n    this.root.__children = newRoutes;\n  }\n\n  /**\n   * Appends one or several routes to the routing config and returns the\n   * effective routing config after the operation.\n   *\n   * @param {!Array<!Router.Route>|!Router.Route} routes a single route or an array of those\n   *    (the array is shallow copied)\n   * @return {!Array<!Router.Route>}\n   * @protected\n   */\n  addRoutes(routes) {\n    ensureRoutes(routes);\n    this.root.__children.push(...toArray(routes));\n    return this.getRoutes();\n  }\n\n  /**\n   * Removes all existing routes from the routing config.\n   */\n  removeRoutes() {\n    this.setRoutes([]);\n  }\n\n  /**\n   * Asynchronously resolves the given pathname, i.e. finds all routes matching\n   * the pathname and tries resolving them one after another in the order they\n   * are listed in the routes config until the first non-null result.\n   *\n   * Returns a promise that is fulfilled with the return value of an object that consists of the first\n   * route handler result that returns something other than `null` or `undefined` and context used to get this result.\n   *\n   * If no route handlers return a non-null result, or if no route matches the\n   * given pathname the returned promise is rejected with a 'page not found'\n   * `Error`.\n   *\n   * @param {!string|!{pathname: !string}} pathnameOrContext the pathname to\n   *    resolve or a context object with a `pathname` property and other\n   *    properties to pass to the route resolver functions.\n   * @return {!Promise<any>}\n   */\n  resolve(pathnameOrContext) {\n    const context = Object.assign(\n      {},\n      this.context,\n      isString(pathnameOrContext) ? {pathname: pathnameOrContext} : pathnameOrContext\n    );\n    const match = matchRoute(\n      this.root,\n      this.__normalizePathname(context.pathname),\n      this.baseUrl\n    );\n    const resolve = this.resolveRoute;\n    let matches = null;\n    let nextMatches = null;\n    let currentContext = context;\n\n    function next(resume, parent = matches.value.route, prevResult) {\n      const routeToSkip = prevResult === null && matches.value.route;\n      matches = nextMatches || match.next(routeToSkip);\n      nextMatches = null;\n\n      if (!resume) {\n        if (matches.done || !isChildRoute(parent, matches.value.route)) {\n          nextMatches = matches;\n          return Promise.resolve(notFoundResult);\n        }\n      }\n\n      if (matches.done) {\n        return Promise.reject(getNotFoundError(context));\n      }\n\n      currentContext = Object.assign(\n        currentContext\n          ? {chain: (currentContext.chain ? currentContext.chain.slice(0) : [])}\n          : {},\n        context,\n        matches.value\n      );\n      updateChainForRoute(currentContext, matches.value);\n\n      return Promise.resolve(resolve(currentContext)).then(resolution => {\n        if (resolution !== null && resolution !== undefined && resolution !== notFoundResult) {\n          currentContext.result = resolution.result || resolution;\n          return currentContext;\n        }\n        return next(resume, parent, resolution);\n      });\n    }\n\n    context.next = next;\n\n    return Promise.resolve()\n      .then(() => next(true, this.root))\n      .catch((error) => {\n        const errorMessage = generateErrorMessage(currentContext);\n        if (!error) {\n          error = new Error(errorMessage);\n        } else {\n          console.warn(errorMessage);\n        }\n        error.context = error.context || currentContext;\n        // DOMException has its own code which is read-only\n        if (!(error instanceof DOMException)) {\n          error.code = error.code || 500;\n        }\n        if (this.errorHandler) {\n          currentContext.result = this.errorHandler(error);\n          return currentContext;\n        }\n        throw error;\n      });\n  }\n\n  /**\n   * URL constructor polyfill hook. Creates and returns an URL instance.\n   */\n  static __createUrl(url, base) {\n    return new URL(url, base);\n  }\n\n  /**\n   * If the baseUrl property is set, transforms the baseUrl and returns the full\n   * actual `base` string for using in the `new URL(path, base);` and for\n   * prepernding the paths with. The returned base ends with a trailing slash.\n   *\n   * Otherwise, returns empty string.\n   */\n  get __effectiveBaseUrl() {\n    return this.baseUrl\n      ? this.constructor.__createUrl(\n        this.baseUrl,\n        document.baseURI || document.URL\n      ).href.replace(/[^\\/]*$/, '')\n      : '';\n  }\n\n  /**\n   * If the baseUrl is set, matches the pathname with the router’s baseUrl,\n   * and returns the local pathname with the baseUrl stripped out.\n   *\n   * If the pathname does not match the baseUrl, returns undefined.\n   *\n   * If the `baseUrl` is not set, returns the unmodified pathname argument.\n   */\n  __normalizePathname(pathname) {\n    if (!this.baseUrl) {\n      // No base URL, no need to transform the pathname.\n      return pathname;\n    }\n\n    const base = this.__effectiveBaseUrl;\n    const normalizedUrl = this.constructor.__createUrl(pathname, base).href;\n    if (normalizedUrl.slice(0, base.length) === base) {\n      return normalizedUrl.slice(base.length);\n    }\n  }\n}\n\nResolver.pathToRegexp = pathToRegexp_1;\n\n/**\n * Universal Router (https://www.kriasoft.com/universal-router/)\n *\n * Copyright (c) 2015-present Kriasoft.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nconst {pathToRegexp: pathToRegexp$1} = Resolver;\nconst cache$1 = new Map();\n\nfunction cacheRoutes(routesByName, route, routes) {\n  const name = route.name || route.component;\n  if (name) {\n    if (routesByName.has(name)) {\n      routesByName.get(name).push(route);\n    } else {\n      routesByName.set(name, [route]);\n    }\n  }\n\n  if (Array.isArray(routes)) {\n    for (let i = 0; i < routes.length; i++) {\n      const childRoute = routes[i];\n      childRoute.parent = route;\n      cacheRoutes(routesByName, childRoute, childRoute.__children || childRoute.children);\n    }\n  }\n}\n\nfunction getRouteByName(routesByName, routeName) {\n  const routes = routesByName.get(routeName);\n  if (routes && routes.length > 1) {\n    throw new Error(\n      `Duplicate route with name \"${routeName}\".`\n      + ` Try seting unique 'name' route properties.`\n    );\n  }\n  return routes && routes[0];\n}\n\nfunction getRoutePath(route) {\n  let path = route.path;\n  path = Array.isArray(path) ? path[0] : path;\n  return path !== undefined ? path : '';\n}\n\nfunction generateUrls(router, options = {}) {\n  if (!(router instanceof Resolver)) {\n    throw new TypeError('An instance of Resolver is expected');\n  }\n\n  const routesByName = new Map();\n\n  return (routeName, params) => {\n    let route = getRouteByName(routesByName, routeName);\n    if (!route) {\n      routesByName.clear(); // clear cache\n      cacheRoutes(routesByName, router.root, router.root.__children);\n\n      route = getRouteByName(routesByName, routeName);\n      if (!route) {\n        throw new Error(`Route \"${routeName}\" not found`);\n      }\n    }\n\n    let regexp = cache$1.get(route.fullPath);\n    if (!regexp) {\n      let fullPath = getRoutePath(route);\n      let rt = route.parent;\n      while (rt) {\n        const path = getRoutePath(rt);\n        if (path) {\n          fullPath = path.replace(/\\/$/, '') + '/' + fullPath.replace(/^\\//, '');\n        }\n        rt = rt.parent;\n      }\n      const tokens = pathToRegexp$1.parse(fullPath);\n      const toPath = pathToRegexp$1.tokensToFunction(tokens);\n      const keys = Object.create(null);\n      for (let i = 0; i < tokens.length; i++) {\n        if (!isString(tokens[i])) {\n          keys[tokens[i].name] = true;\n        }\n      }\n      regexp = {toPath, keys};\n      cache$1.set(fullPath, regexp);\n      route.fullPath = fullPath;\n    }\n\n    let url = regexp.toPath(params, options) || '/';\n\n    if (options.stringifyQueryParams && params) {\n      const queryParams = {};\n      const keys = Object.keys(params);\n      for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        if (!regexp.keys[key]) {\n          queryParams[key] = params[key];\n        }\n      }\n      const query = options.stringifyQueryParams(queryParams);\n      if (query) {\n        url += query.charAt(0) === '?' ? query : `?${query}`;\n      }\n    }\n\n    return url;\n  };\n}\n\n/**\n * @typedef NavigationTrigger\n * @type {object}\n * @property {function()} activate\n * @property {function()} inactivate\n */\n\n/** @type {Array<NavigationTrigger>} */\nlet triggers = [];\n\nfunction setNavigationTriggers(newTriggers) {\n  triggers.forEach(trigger => trigger.inactivate());\n\n  newTriggers.forEach(trigger => trigger.activate());\n\n  triggers = newTriggers;\n}\n\nconst willAnimate = elem => {\n  const name = getComputedStyle(elem).getPropertyValue('animation-name');\n  return name && name !== 'none';\n};\n\nconst waitForAnimation = (elem, cb) => {\n  const listener = () => {\n    elem.removeEventListener('animationend', listener);\n    cb();\n  };\n  elem.addEventListener('animationend', listener);\n};\n\nfunction animate(elem, className) {\n  elem.classList.add(className);\n\n  return new Promise(resolve => {\n    if (willAnimate(elem)) {\n      const rect = elem.getBoundingClientRect();\n      const size = `height: ${rect.bottom - rect.top}px; width: ${rect.right - rect.left}px`;\n      elem.setAttribute('style', `position: absolute; ${size}`);\n      waitForAnimation(elem, () => {\n        elem.classList.remove(className);\n        elem.removeAttribute('style');\n        resolve();\n      });\n    } else {\n      elem.classList.remove(className);\n      resolve();\n    }\n  });\n}\n\nconst MAX_REDIRECT_COUNT = 256;\n\nfunction isResultNotEmpty(result) {\n  return result !== null && result !== undefined;\n}\n\nfunction copyContextWithoutNext(context) {\n  const copy = Object.assign({}, context);\n  delete copy.next;\n  return copy;\n}\n\nfunction createLocation({pathname = '', search = '', hash = '', chain = [], params = {}, redirectFrom, resolver}, route) {\n  const routes = chain.map(item => item.route);\n  return {\n    baseUrl: resolver && resolver.baseUrl || '',\n    pathname,\n    search,\n    hash,\n    routes,\n    route: route || routes.length && routes[routes.length - 1] || null,\n    params,\n    redirectFrom,\n    getUrl: (userParams = {}) => getPathnameForRouter(\n      Router.pathToRegexp.compile(\n        getMatchedPath(routes)\n      )(Object.assign({}, params, userParams)),\n      resolver\n    )\n  };\n}\n\nfunction createRedirect(context, pathname) {\n  const params = Object.assign({}, context.params);\n  return {\n    redirect: {\n      pathname,\n      from: context.pathname,\n      params\n    }\n  };\n}\n\nfunction renderElement(context, element) {\n  element.location = createLocation(context);\n  const index = context.chain.map(item => item.route).indexOf(context.route);\n  context.chain[index].element = element;\n  return element;\n}\n\nfunction runCallbackIfPossible(callback, args, thisArg) {\n  if (isFunction(callback)) {\n    return callback.apply(thisArg, args);\n  }\n}\n\nfunction amend(amendmentFunction, args, element) {\n  return amendmentResult => {\n    if (amendmentResult && (amendmentResult.cancel || amendmentResult.redirect)) {\n      return amendmentResult;\n    }\n\n    if (element) {\n      return runCallbackIfPossible(element[amendmentFunction], args, element);\n    }\n  };\n}\n\nfunction processNewChildren(newChildren, route) {\n  if (!Array.isArray(newChildren) && !isObject(newChildren)) {\n    throw new Error(\n      log(\n        `Incorrect \"children\" value for the route ${route.path}: expected array or object, but got ${newChildren}`\n      )\n    );\n  }\n\n  route.__children = [];\n  const childRoutes = toArray(newChildren);\n  for (let i = 0; i < childRoutes.length; i++) {\n    ensureRoute(childRoutes[i]);\n    route.__children.push(childRoutes[i]);\n  }\n}\n\nfunction removeDomNodes(nodes) {\n  if (nodes && nodes.length) {\n    const parent = nodes[0].parentNode;\n    for (let i = 0; i < nodes.length; i++) {\n      parent.removeChild(nodes[i]);\n    }\n  }\n}\n\nfunction getPathnameForRouter(pathname, router) {\n  const base = router.__effectiveBaseUrl;\n  return base\n    ? router.constructor.__createUrl(pathname.replace(/^\\//, ''), base).pathname\n    : pathname;\n}\n\nfunction getMatchedPath(chain) {\n  return chain.map(item => item.path).reduce((a, b) => {\n    if (b.length) {\n      return a.replace(/\\/$/, '') + '/' + b.replace(/^\\//, '');\n    }\n    return a;\n  }, '');\n}\n\n/**\n * A simple client-side router for single-page applications. It uses\n * express-style middleware and has a first-class support for Web Components and\n * lazy-loading. Works great in Polymer and non-Polymer apps.\n *\n * Use `new Router(outlet, options)` to create a new Router instance.\n *\n * * The `outlet` parameter is a reference to the DOM node to render\n *   the content into.\n *\n * * The `options` parameter is an optional object with options. The following\n *   keys are supported:\n *   * `baseUrl` — the initial value for [\n *     the `baseUrl` property\n *   ](#/classes/Router#property-baseUrl)\n *\n * The Router instance is automatically subscribed to navigation events\n * on `window`.\n *\n * See [Live Examples](#/classes/Router/demos/demo/index.html) for the detailed usage demo and code snippets.\n *\n * See also detailed API docs for the following methods, for the advanced usage:\n *\n * * [setOutlet](#/classes/Router#method-setOutlet) – should be used to configure the outlet.\n * * [setTriggers](#/classes/Router#method-setTriggers) – should be used to configure the navigation events.\n * * [setRoutes](#/classes/Router#method-setRoutes) – should be used to configure the routes.\n *\n * Only `setRoutes` has to be called manually, others are automatically invoked when creating a new instance.\n *\n * @extends Resolver\n * @demo demo/index.html\n * @summary JavaScript class that renders different DOM content depending on\n *    a given path. It can re-render when triggered or automatically on\n *    'popstate' and / or 'click' events.\n */\nclass Router extends Resolver {\n\n  /**\n   * Creates a new Router instance with a given outlet, and\n   * automatically subscribes it to navigation events on the `window`.\n   * Using a constructor argument or a setter for outlet is equivalent:\n   *\n   * ```\n   * const router = new Router();\n   * router.setOutlet(outlet);\n   * ```\n   * @param {?Node=} outlet\n   * @param {?RouterOptions=} options\n   */\n  constructor(outlet, options) {\n    const baseElement = document.head.querySelector('base');\n    const baseHref = baseElement && baseElement.getAttribute('href');\n    super([], Object.assign({\n      // Default options\n      baseUrl: baseHref && Resolver.__createUrl(baseHref, document.URL).pathname.replace(/[^\\/]*$/, '')\n    }, options));\n\n    this.resolveRoute = context => this.__resolveRoute(context);\n\n    const triggers = Router.NavigationTrigger;\n    Router.setTriggers.apply(Router, Object.keys(triggers).map(key => triggers[key]));\n\n    /**\n     * The base URL for all routes in the router instance. By default,\n     * if the base element exists in the `<head>`, vaadin-router\n     * takes the `<base href>` attribute value, resolves against current `document.URL`\n     * and gets the `pathname` from the result.\n     *\n     * @public\n     * @type {string}\n     */\n    this.baseUrl;\n\n    /**\n     * A promise that is settled after the current render cycle completes. If\n     * there is no render cycle in progress the promise is immediately settled\n     * with the last render cycle result.\n     *\n     * @public\n     * @type {!Promise<!RouterLocation>}\n     */\n    this.ready;\n    this.ready = Promise.resolve(outlet);\n\n    /**\n     * Contains read-only information about the current router location:\n     * pathname, active routes, parameters. See the\n     * [Location type declaration](#/classes/RouterLocation)\n     * for more details.\n     *\n     * @public\n     * @type {!RouterLocation}\n     */\n    this.location;\n    this.location = createLocation({resolver: this});\n\n    this.__lastStartedRenderId = 0;\n    this.__navigationEventHandler = this.__onNavigationEvent.bind(this);\n    this.setOutlet(outlet);\n    this.subscribe();\n    // Using WeakMap instead of WeakSet because WeakSet is not supported by IE11\n    this.__createdByRouter = new WeakMap();\n    this.__addedByRouter = new WeakMap();\n  }\n\n  __resolveRoute(context) {\n    const route = context.route;\n\n    let callbacks = Promise.resolve();\n\n    if (isFunction(route.children)) {\n      callbacks = callbacks\n        .then(() => route.children(copyContextWithoutNext(context)))\n        .then(children => {\n          // The route.children() callback might have re-written the\n          // route.children property instead of returning a value\n          if (!isResultNotEmpty(children) && !isFunction(route.children)) {\n            children = route.children;\n          }\n          processNewChildren(children, route);\n        });\n    }\n\n    const commands = {\n      redirect: path => createRedirect(context, path),\n      component: (component) => {\n        const element = document.createElement(component);\n        this.__createdByRouter.set(element, true);\n        return element;\n      }\n    };\n\n    return callbacks\n      .then(() => {\n        if (this.__isLatestRender(context)) {\n          return runCallbackIfPossible(route.action, [context, commands], route);\n        }\n      })\n      .then(result => {\n        if (isResultNotEmpty(result)) {\n          // Actions like `() => import('my-view.js')` are not expected to\n          // end the resolution, despite the result is not empty. Checking\n          // the result with a whitelist of values that end the resolution.\n          if (result instanceof HTMLElement ||\n              result.redirect ||\n              result === notFoundResult) {\n            return result;\n          }\n        }\n\n        if (isString(route.redirect)) {\n          return commands.redirect(route.redirect);\n        }\n\n        if (route.bundle) {\n          return loadBundle(route.bundle)\n            .then(() => {}, () => {\n              throw new Error(log(`Bundle not found: ${route.bundle}. Check if the file name is correct`));\n            });\n        }\n      })\n      .then(result => {\n        if (isResultNotEmpty(result)) {\n          return result;\n        }\n        if (isString(route.component)) {\n          return commands.component(route.component);\n        }\n      });\n  }\n\n  /**\n   * Sets the router outlet (the DOM node where the content for the current\n   * route is inserted). Any content pre-existing in the router outlet is\n   * removed at the end of each render pass.\n   *\n   * NOTE: this method is automatically invoked first time when creating a new Router instance.\n   *\n   * @param {?Node} outlet the DOM node where the content for the current route\n   *     is inserted.\n   */\n  setOutlet(outlet) {\n    if (outlet) {\n      this.__ensureOutlet(outlet);\n    }\n    this.__outlet = outlet;\n  }\n\n  /**\n   * Returns the current router outlet. The initial value is `undefined`.\n   *\n   * @return {?Node} the current router outlet (or `undefined`)\n   */\n  getOutlet() {\n    return this.__outlet;\n  }\n\n  /**\n   * Sets the routing config (replacing the existing one) and triggers a\n   * navigation event so that the router outlet is refreshed according to the\n   * current `window.location` and the new routing config.\n   *\n   * Each route object may have the following properties, listed here in the processing order:\n   * * `path` – the route path (relative to the parent route if any) in the\n   * [express.js syntax](https://expressjs.com/en/guide/routing.html#route-paths\").\n   *\n   * * `children` – an array of nested routes or a function that provides this\n   * array at the render time. The function can be synchronous or asynchronous:\n   * in the latter case the render is delayed until the returned promise is\n   * resolved. The `children` function is executed every time when this route is\n   * being rendered. This allows for dynamic route structures (e.g. backend-defined),\n   * but it might have a performance impact as well. In order to avoid calling\n   * the function on subsequent renders, you can override the `children` property\n   * of the route object and save the calculated array there\n   * (via `context.route.children = [ route1, route2, ...];`).\n   * Parent routes are fully resolved before resolving the children. Children\n   * 'path' values are relative to the parent ones.\n   *\n   * * `action` – the action that is executed before the route is resolved.\n   * The value for this property should be a function, accepting `context`\n   * and `commands` parameters described below. If present, this function is\n   * always invoked first, disregarding of the other properties' presence.\n   * The action can return a result directly or within a `Promise`, which\n   * resolves to the result. If the action result is an `HTMLElement` instance,\n   * a `commands.component(name)` result, a `commands.redirect(path)` result,\n   * or a `context.next()` result, the current route resolution is finished,\n   * and other route config properties are ignored.\n   * See also **Route Actions** section in [Live Examples](#/classes/Router/demos/demo/index.html).\n   *\n   * * `redirect` – other route's path to redirect to. Passes all route parameters to the redirect target.\n   * The target route should also be defined.\n   * See also **Redirects** section in [Live Examples](#/classes/Router/demos/demo/index.html).\n   *\n   * * `bundle` – string containing the path to `.js` or `.mjs` bundle to load before resolving the route,\n   * or the object with \"module\" and \"nomodule\" keys referring to different bundles.\n   * Each bundle is only loaded once. If \"module\" and \"nomodule\" are set, only one bundle is loaded,\n   * depending on whether the browser supports ES modules or not.\n   * The property is ignored when either an `action` returns the result or `redirect` property is present.\n   * Any error, e.g. 404 while loading bundle will cause route resolution to throw.\n   * See also **Code Splitting** section in [Live Examples](#/classes/Router/demos/demo/index.html).\n   *\n   * * `component` – the tag name of the Web Component to resolve the route to.\n   * The property is ignored when either an `action` returns the result or `redirect` property is present.\n   * If route contains the `component` property (or an action that return a component)\n   * and its child route also contains the `component` property, child route's component\n   * will be rendered as a light dom child of a parent component.\n   *\n   * * `name` – the string name of the route to use in the\n   * [`router.urlForName(name, params)`](#/classes/Router#method-urlForName)\n   * navigation helper method.\n   *\n   * For any route function (`action`, `children`) defined, the corresponding `route` object is available inside the callback\n   * through the `this` reference. If you need to access it, make sure you define the callback as a non-arrow function\n   * because arrow functions do not have their own `this` reference.\n   *\n   * `context` object that is passed to `action` function holds the following properties:\n   * * `context.pathname` – string with the pathname being resolved\n   *\n   * * `context.search` – search query string\n   *\n   * * `context.hash` – hash string\n   *\n   * * `context.params` – object with route parameters\n   *\n   * * `context.route` – object that holds the route that is currently being rendered.\n   *\n   * * `context.next()` – function for asynchronously getting the next route\n   * contents from the resolution chain (if any)\n   *\n   * `commands` object that is passed to `action` function has\n   * the following methods:\n   *\n   * * `commands.redirect(path)` – function that creates a redirect data\n   * for the path specified.\n   *\n   * * `commands.component(component)` – function that creates a new HTMLElement\n   * with current context. Note: the component created by this function is reused if visiting the same path twice in row.\n   *\n   *\n   * @param {!Array<!Route>|!Route} routes a single route or an array of those\n   * @param {?boolean} skipRender configure the router but skip rendering the\n   *     route corresponding to the current `window.location` values\n   *\n   * @return {!Promise<!Node>}\n   */\n  setRoutes(routes, skipRender = false) {\n    this.__previousContext = undefined;\n    this.__urlForName = undefined;\n    super.setRoutes(routes);\n    if (!skipRender) {\n      this.__onNavigationEvent();\n    }\n    return this.ready;\n  }\n\n  /**\n   * Asynchronously resolves the given pathname and renders the resolved route\n   * component into the router outlet. If no router outlet is set at the time of\n   * calling this method, or at the time when the route resolution is completed,\n   * a `TypeError` is thrown.\n   *\n   * Returns a promise that is fulfilled with the router outlet DOM Node after\n   * the route component is created and inserted into the router outlet, or\n   * rejected if no route matches the given path.\n   *\n   * If another render pass is started before the previous one is completed, the\n   * result of the previous render pass is ignored.\n   *\n   * @param {!string|!{pathname: !string, search: ?string, hash: ?string}} pathnameOrContext\n   *    the pathname to render or a context object with a `pathname` property,\n   *    optional `search` and `hash` properties, and other properties\n   *    to pass to the resolver.\n   * @param {boolean=} shouldUpdateHistory\n   *    update browser history with the rendered location\n   * @return {!Promise<!Node>}\n   */\n  render(pathnameOrContext, shouldUpdateHistory) {\n    const renderId = ++this.__lastStartedRenderId;\n    const context = Object.assign(\n      {\n        search: '',\n        hash: ''\n      },\n      isString(pathnameOrContext)\n        ? {pathname: pathnameOrContext}\n        : pathnameOrContext,\n      {\n        __renderId: renderId\n      }\n    );\n\n    // Find the first route that resolves to a non-empty result\n    this.ready = this.resolve(context)\n\n      // Process the result of this.resolve() and handle all special commands:\n      // (redirect / prevent / component). If the result is a 'component',\n      // then go deeper and build the entire chain of nested components matching\n      // the pathname. Also call all 'on before' callbacks along the way.\n      .then(context => this.__fullyResolveChain(context))\n\n      .then(context => {\n        if (this.__isLatestRender(context)) {\n          const previousContext = this.__previousContext;\n\n          // Check if the render was prevented and make an early return in that case\n          if (context === previousContext) {\n            // Replace the history with the previous context\n            // to make sure the URL stays the same.\n            this.__updateBrowserHistory(previousContext, true);\n            return this.location;\n          }\n\n          this.location = createLocation(context);\n\n          if (shouldUpdateHistory) {\n            // Replace only if first render redirects, so that we don’t leave\n            // the redirecting record in the history\n            this.__updateBrowserHistory(context, renderId === 1);\n          }\n\n          fireRouterEvent('location-changed', {router: this, location: this.location});\n\n          // Skip detaching/re-attaching there are no render changes\n          if (context.__skipAttach) {\n            this.__copyUnchangedElements(context, previousContext);\n            this.__previousContext = context;\n            return this.location;\n          }\n\n          this.__addAppearingContent(context, previousContext);\n          const animationDone = this.__animateIfNeeded(context);\n\n          this.__runOnAfterEnterCallbacks(context);\n          this.__runOnAfterLeaveCallbacks(context, previousContext);\n\n          return animationDone.then(() => {\n            if (this.__isLatestRender(context)) {\n              // If there is another render pass started after this one,\n              // the 'disappearing content' would be removed when the other\n              // render pass calls `this.__addAppearingContent()`\n              this.__removeDisappearingContent();\n\n              this.__previousContext = context;\n              return this.location;\n            }\n          });\n        }\n      })\n      .catch(error => {\n        if (renderId === this.__lastStartedRenderId) {\n          if (shouldUpdateHistory) {\n            this.__updateBrowserHistory(context);\n          }\n          removeDomNodes(this.__outlet && this.__outlet.children);\n          this.location = createLocation(Object.assign(context, {resolver: this}));\n          fireRouterEvent('error', Object.assign({router: this, error}, context));\n          throw error;\n        }\n      });\n    return this.ready;\n  }\n\n  // `topOfTheChainContextBeforeRedirects` is a context coming from Resolver.resolve().\n  // It would contain a 'redirect' route or the first 'component' route that\n  // matched the pathname. There might be more child 'component' routes to be\n  // resolved and added into the chain. This method would find and add them.\n  // `contextBeforeRedirects` is the context containing such a child component\n  // route. It's only necessary when this method is called recursively (otherwise\n  // it's the same as the 'top of the chain' context).\n  //\n  // Apart from building the chain of child components, this method would also\n  // handle 'redirect' routes, call 'onBefore' callbacks and handle 'prevent'\n  // and 'redirect' callback results.\n  __fullyResolveChain(topOfTheChainContextBeforeRedirects,\n    contextBeforeRedirects = topOfTheChainContextBeforeRedirects) {\n    return this.__findComponentContextAfterAllRedirects(contextBeforeRedirects)\n      // `contextAfterRedirects` is always a context with an `HTMLElement` result\n      // In other cases the promise gets rejected and .then() is not called\n      .then(contextAfterRedirects => {\n        const redirectsHappened = contextAfterRedirects !== contextBeforeRedirects;\n        const topOfTheChainContextAfterRedirects =\n          redirectsHappened ? contextAfterRedirects : topOfTheChainContextBeforeRedirects;\n\n        const matchedPath = getPathnameForRouter(\n          getMatchedPath(contextAfterRedirects.chain),\n          contextAfterRedirects.resolver\n        );\n        const isFound = (matchedPath === contextAfterRedirects.pathname);\n\n        // Recursive method to try matching more child and sibling routes\n        const findNextContextIfAny = (context, parent = context.route, prevResult) => {\n          return context.next(undefined, parent, prevResult).then(nextContext => {\n            if (nextContext === null || nextContext === notFoundResult) {\n              // Next context is not found in children, ...\n              if (isFound) {\n                // ...but original context is already fully matching - use it\n                return context;\n              } else if (parent.parent !== null) {\n                // ...and there is no full match yet - step up to check siblings\n                return findNextContextIfAny(context, parent.parent, nextContext);\n              } else {\n                return nextContext;\n              }\n            }\n\n            return nextContext;\n          });\n        };\n\n        return findNextContextIfAny(contextAfterRedirects).then(nextContext => {\n          if (nextContext === null || nextContext === notFoundResult) {\n            throw getNotFoundError(topOfTheChainContextAfterRedirects);\n          }\n\n          return nextContext\n          && nextContext !== notFoundResult\n          && nextContext !== contextAfterRedirects\n            ? this.__fullyResolveChain(topOfTheChainContextAfterRedirects, nextContext)\n            : this.__amendWithOnBeforeCallbacks(contextAfterRedirects);\n        });\n      });\n  }\n\n  __findComponentContextAfterAllRedirects(context) {\n    const result = context.result;\n    if (result instanceof HTMLElement) {\n      renderElement(context, result);\n      return Promise.resolve(context);\n    } else if (result.redirect) {\n      return this.__redirect(result.redirect, context.__redirectCount, context.__renderId)\n        .then(context => this.__findComponentContextAfterAllRedirects(context));\n    } else if (result instanceof Error) {\n      return Promise.reject(result);\n    } else {\n      return Promise.reject(\n        new Error(\n          log(\n            `Invalid route resolution result for path \"${context.pathname}\". ` +\n            `Expected redirect object or HTML element, but got: \"${logValue(result)}\". ` +\n            `Double check the action return value for the route.`\n          )\n        ));\n    }\n  }\n\n  __amendWithOnBeforeCallbacks(contextWithFullChain) {\n    return this.__runOnBeforeCallbacks(contextWithFullChain).then(amendedContext => {\n      if (amendedContext === this.__previousContext || amendedContext === contextWithFullChain) {\n        return amendedContext;\n      }\n      return this.__fullyResolveChain(amendedContext);\n    });\n  }\n\n  __runOnBeforeCallbacks(newContext) {\n    const previousContext = this.__previousContext || {};\n    const previousChain = previousContext.chain || [];\n    const newChain = newContext.chain;\n\n    let callbacks = Promise.resolve();\n    const prevent = () => ({cancel: true});\n    const redirect = (pathname) => createRedirect(newContext, pathname);\n\n    newContext.__divergedChainIndex = 0;\n    newContext.__skipAttach = false;\n    if (previousChain.length) {\n      for (let i = 0; i < Math.min(previousChain.length, newChain.length); i = ++newContext.__divergedChainIndex) {\n        if (previousChain[i].route !== newChain[i].route\n          || previousChain[i].path !== newChain[i].path && previousChain[i].element !== newChain[i].element\n          || !this.__isReusableElement(previousChain[i].element, newChain[i].element)) {\n          break;\n        }\n      }\n\n      // Skip re-attaching and notifications if element and chain do not change\n      newContext.__skipAttach =\n        // Same route chain\n        newChain.length === previousChain.length && newContext.__divergedChainIndex == newChain.length &&\n        // Same element\n        this.__isReusableElement(newContext.result, previousContext.result);\n\n      if (newContext.__skipAttach) {\n        // execute onBeforeLeave for changed segment element when skipping attach\n        for (let i = newChain.length - 1; i >= 0; i--) {\n          callbacks = this.__runOnBeforeLeaveCallbacks(callbacks, newContext, {prevent}, previousChain[i]);\n        }\n        // execute onBeforeEnter for changed segment element when skipping attach\n        for (let i = 0; i < newChain.length; i++) {\n          callbacks = this.__runOnBeforeEnterCallbacks(callbacks, newContext, {prevent, redirect}, newChain[i]);\n          previousChain[i].element.location = createLocation(newContext, previousChain[i].route);\n        }\n\n      } else {\n        // execute onBeforeLeave when NOT skipping attach\n        for (let i = previousChain.length - 1; i >= newContext.__divergedChainIndex; i--) {\n          callbacks = this.__runOnBeforeLeaveCallbacks(callbacks, newContext, {prevent}, previousChain[i]);\n        }\n      }\n    }\n    // execute onBeforeEnter when NOT skipping attach\n    if (!newContext.__skipAttach) {\n      for (let i = 0; i < newChain.length; i++) {\n        if (i < newContext.__divergedChainIndex) {\n          if (i < previousChain.length && previousChain[i].element) {\n            previousChain[i].element.location = createLocation(newContext, previousChain[i].route);\n          }\n        } else {\n          callbacks = this.__runOnBeforeEnterCallbacks(callbacks, newContext, {prevent, redirect}, newChain[i]);\n          if (newChain[i].element) {\n            newChain[i].element.location = createLocation(newContext, newChain[i].route);\n          }\n        }\n      }\n    }\n    return callbacks.then(amendmentResult => {\n      if (amendmentResult) {\n        if (amendmentResult.cancel) {\n          this.__previousContext.__renderId = newContext.__renderId;\n          return this.__previousContext;\n        }\n        if (amendmentResult.redirect) {\n          return this.__redirect(amendmentResult.redirect, newContext.__redirectCount, newContext.__renderId);\n        }\n      }\n      return newContext;\n    });\n  }\n\n  __runOnBeforeLeaveCallbacks(callbacks, newContext, commands, chainElement) {\n    const location = createLocation(newContext);\n    return callbacks.then(result => {\n      if (this.__isLatestRender(newContext)) {\n        const afterLeaveFunction = amend('onBeforeLeave', [location, commands, this], chainElement.element);\n        return afterLeaveFunction(result);\n      }\n    }).then(result => {\n      if (!(result || {}).redirect) {\n        return result;\n      }\n    });\n  }\n\n  __runOnBeforeEnterCallbacks(callbacks, newContext, commands, chainElement) {\n    const location = createLocation(newContext, chainElement.route);\n    return callbacks.then(result => {\n      if (this.__isLatestRender(newContext)) {\n        const beforeEnterFunction = amend('onBeforeEnter', [location, commands, this], chainElement.element);\n        return beforeEnterFunction(result);\n      }\n    });\n  }\n\n  __isReusableElement(element, otherElement) {\n    if (element && otherElement) {\n      return this.__createdByRouter.get(element) && this.__createdByRouter.get(otherElement)\n        ? element.localName === otherElement.localName\n        : element === otherElement;\n    }\n    return false;\n  }\n\n  __isLatestRender(context) {\n    return context.__renderId === this.__lastStartedRenderId;\n  }\n\n  __redirect(redirectData, counter, renderId) {\n    if (counter > MAX_REDIRECT_COUNT) {\n      throw new Error(log(`Too many redirects when rendering ${redirectData.from}`));\n    }\n\n    return this.resolve({\n      pathname: this.urlForPath(\n        redirectData.pathname,\n        redirectData.params\n      ),\n      redirectFrom: redirectData.from,\n      __redirectCount: (counter || 0) + 1,\n      __renderId: renderId\n    });\n  }\n\n  __ensureOutlet(outlet = this.__outlet) {\n    if (!(outlet instanceof Node)) {\n      throw new TypeError(log(`Expected router outlet to be a valid DOM Node (but got ${outlet})`));\n    }\n  }\n\n  __updateBrowserHistory({pathname, search = '', hash = ''}, replace) {\n    if (window.location.pathname !== pathname\n        || window.location.search !== search\n        || window.location.hash !== hash\n    ) {\n      const changeState = replace ? 'replaceState' : 'pushState';\n      window.history[changeState](null, document.title, pathname + search + hash);\n      window.dispatchEvent(new PopStateEvent('popstate', {state: 'vaadin-router-ignore'}));\n    }\n  }\n\n  __copyUnchangedElements(context, previousContext) {\n    // Find the deepest common parent between the last and the new component\n    // chains. Update references for the unchanged elements in the new chain\n    let deepestCommonParent = this.__outlet;\n    for (let i = 0; i < context.__divergedChainIndex; i++) {\n      const unchangedElement = previousContext && previousContext.chain[i].element;\n      if (unchangedElement) {\n        if (unchangedElement.parentNode === deepestCommonParent) {\n          context.chain[i].element = unchangedElement;\n          deepestCommonParent = unchangedElement;\n        } else {\n          break;\n        }\n      }\n    }\n    return deepestCommonParent;\n  }\n\n  __addAppearingContent(context, previousContext) {\n    this.__ensureOutlet();\n\n    // If the previous 'entering' animation has not completed yet,\n    // stop it and remove that content from the DOM before adding new one.\n    this.__removeAppearingContent();\n\n    // Copy reusable elements from the previousContext to current\n    const deepestCommonParent = this.__copyUnchangedElements(context, previousContext);\n\n    // Keep two lists of DOM elements:\n    //  - those that should be removed once the transition animation is over\n    //  - and those that should remain\n    this.__appearingContent = [];\n    this.__disappearingContent = Array\n      .from(deepestCommonParent.children)\n      .filter(\n        // Only remove layout content that was added by router\n        e => this.__addedByRouter.get(e) &&\n        // Do not remove the result element to avoid flickering\n        e !== context.result);\n\n    // Add new elements (starting after the deepest common parent) to the DOM.\n    // That way only the components that are actually different between the two\n    // locations are added to the DOM (and those that are common remain in the\n    // DOM without first removing and then adding them again).\n    let parentElement = deepestCommonParent;\n    for (let i = context.__divergedChainIndex; i < context.chain.length; i++) {\n      const elementToAdd = context.chain[i].element;\n      if (elementToAdd) {\n        parentElement.appendChild(elementToAdd);\n        this.__addedByRouter.set(elementToAdd, true);\n        if (parentElement === deepestCommonParent) {\n          this.__appearingContent.push(elementToAdd);\n        }\n        parentElement = elementToAdd;\n      }\n    }\n  }\n\n  __removeDisappearingContent() {\n    if (this.__disappearingContent) {\n      removeDomNodes(this.__disappearingContent);\n    }\n    this.__disappearingContent = null;\n    this.__appearingContent = null;\n  }\n\n  __removeAppearingContent() {\n    if (this.__disappearingContent && this.__appearingContent) {\n      removeDomNodes(this.__appearingContent);\n      this.__disappearingContent = null;\n      this.__appearingContent = null;\n    }\n  }\n\n  __runOnAfterLeaveCallbacks(currentContext, targetContext) {\n    if (!targetContext) {\n      return;\n    }\n\n    // REVERSE iteration: from Z to A\n    for (let i = targetContext.chain.length - 1; i >= currentContext.__divergedChainIndex; i--) {\n      if (!this.__isLatestRender(currentContext)) {\n        break;\n      }\n      const currentComponent = targetContext.chain[i].element;\n      if (!currentComponent) {\n        continue;\n      }\n      try {\n        const location = createLocation(currentContext);\n        runCallbackIfPossible(\n          currentComponent.onAfterLeave,\n          [location, {}, targetContext.resolver],\n          currentComponent);\n      } finally {\n        if (this.__disappearingContent.indexOf(currentComponent) > -1) {\n          removeDomNodes(currentComponent.children);\n        }\n      }\n    }\n  }\n\n  __runOnAfterEnterCallbacks(currentContext) {\n    // forward iteration: from A to Z\n    for (let i = currentContext.__divergedChainIndex; i < currentContext.chain.length; i++) {\n      if (!this.__isLatestRender(currentContext)) {\n        break;\n      }\n      const currentComponent = currentContext.chain[i].element || {};\n      const location = createLocation(currentContext, currentContext.chain[i].route);\n      runCallbackIfPossible(\n        currentComponent.onAfterEnter,\n        [location, {}, currentContext.resolver],\n        currentComponent);\n    }\n  }\n\n  __animateIfNeeded(context) {\n    const from = (this.__disappearingContent || [])[0];\n    const to = (this.__appearingContent || [])[0];\n    const promises = [];\n\n    const chain = context.chain;\n    let config;\n    for (let i = chain.length; i > 0; i--) {\n      if (chain[i - 1].route.animate) {\n        config = chain[i - 1].route.animate;\n        break;\n      }\n    }\n\n    if (from && to && config) {\n      const leave = isObject(config) && config.leave || 'leaving';\n      const enter = isObject(config) && config.enter || 'entering';\n      promises.push(animate(from, leave));\n      promises.push(animate(to, enter));\n    }\n\n    return Promise.all(promises).then(() => context);\n  }\n\n  /**\n   * Subscribes this instance to navigation events on the `window`.\n   *\n   * NOTE: beware of resource leaks. For as long as a router instance is\n   * subscribed to navigation events, it won't be garbage collected.\n   */\n  subscribe() {\n    window.addEventListener('vaadin-router-go', this.__navigationEventHandler);\n  }\n\n  /**\n   * Removes the subscription to navigation events created in the `subscribe()`\n   * method.\n   */\n  unsubscribe() {\n    window.removeEventListener('vaadin-router-go', this.__navigationEventHandler);\n  }\n\n  __onNavigationEvent(event) {\n    const {pathname, search, hash} = event ? event.detail : window.location;\n    if (isString(this.__normalizePathname(pathname))) {\n      if (event && event.preventDefault) {\n        event.preventDefault();\n      }\n      this.render({pathname, search, hash}, true);\n    }\n  }\n\n  /**\n   * Configures what triggers Router navigation events:\n   *  - `POPSTATE`: popstate events on the current `window`\n   *  - `CLICK`: click events on `<a>` links leading to the current page\n   *\n   * This method is invoked with the pre-configured values when creating a new Router instance.\n   * By default, both `POPSTATE` and `CLICK` are enabled. This setup is expected to cover most of the use cases.\n   *\n   * See the `router-config.js` for the default navigation triggers config. Based on it, you can\n   * create the own one and only import the triggers you need, instead of pulling in all the code,\n   * e.g. if you want to handle `click` differently.\n   *\n   * See also **Navigation Triggers** section in [Live Examples](#/classes/Router/demos/demo/index.html).\n   *\n   * @param {...NavigationTrigger} triggers\n   */\n  static setTriggers(...triggers) {\n    setNavigationTriggers(triggers);\n  }\n\n  /**\n   * Generates a URL for the route with the given name, optionally performing\n   * substitution of parameters.\n   *\n   * The route is searched in all the Router instances subscribed to\n   * navigation events.\n   *\n   * **Note:** For child route names, only array children are considered.\n   * It is not possible to generate URLs using a name for routes set with\n   * a children function.\n   *\n   * @function urlForName\n   * @param {!string} name the route name or the route’s `component` name.\n   * @param {Params=} params Optional object with route path parameters.\n   * Named parameters are passed by name (`params[name] = value`), unnamed\n   * parameters are passed by index (`params[index] = value`).\n   *\n   * @return {string}\n   */\n  urlForName(name, params) {\n    if (!this.__urlForName) {\n      this.__urlForName = generateUrls(this);\n    }\n    return getPathnameForRouter(\n      this.__urlForName(name, params),\n      this\n    );\n  }\n\n  /**\n   * Generates a URL for the given route path, optionally performing\n   * substitution of parameters.\n   *\n   * @param {!string} path string route path declared in [express.js syntax](https://expressjs.com/en/guide/routing.html#route-paths\").\n   * @param {Params=} params Optional object with route path parameters.\n   * Named parameters are passed by name (`params[name] = value`), unnamed\n   * parameters are passed by index (`params[index] = value`).\n   *\n   * @return {string}\n   */\n  urlForPath(path, params) {\n    return getPathnameForRouter(\n      Router.pathToRegexp.compile(path)(params),\n      this\n    );\n  }\n\n  /**\n   * Triggers navigation to a new path. Returns a boolean without waiting until\n   * the navigation is complete. Returns `true` if at least one `Router`\n   * has handled the navigation (was subscribed and had `baseUrl` matching\n   * the `path` argument), otherwise returns `false`.\n   *\n   * @param {!string|!{pathname: !string, search: (string|undefined), hash: (string|undefined)}} path\n   *   a new in-app path string, or an URL-like object with `pathname`\n   *   string property, and optional `search` and `hash` string properties.\n   * @return {boolean}\n   */\n  static go(path) {\n    const {pathname, search, hash} = isString(path)\n      ? this.__createUrl(path, 'http://a') // some base to omit origin\n      : path;\n    return fireRouterEvent('go', {pathname, search, hash});\n  }\n}\n\nconst DEV_MODE_CODE_REGEXP =\n  /\\/\\*\\*\\s+vaadin-dev-mode:start([\\s\\S]*)vaadin-dev-mode:end\\s+\\*\\*\\//i;\n\nconst FlowClients = window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients;\n\nfunction isMinified() {\n  function test() {\n    /** vaadin-dev-mode:start\n    return false;\n    vaadin-dev-mode:end **/\n    return true;\n  }\n  return uncommentAndRun(test);\n}\n\nfunction isDevelopmentMode() {\n  try {\n    if (isForcedDevelopmentMode()) {\n      return true;\n    }\n\n    if (!isLocalhost()) {\n      return false;\n    }\n\n    if (FlowClients) {\n      return !isFlowProductionMode();\n    }\n\n    return !isMinified();\n  } catch (e) {\n    // Some error in this code, assume production so no further actions will be taken\n    return false;\n  }\n}\n\nfunction isForcedDevelopmentMode() {\n  return localStorage.getItem(\"vaadin.developmentmode.force\");\n}\n\nfunction isLocalhost() {\n  return ([\"localhost\",\"127.0.0.1\"].indexOf(window.location.hostname) >= 0);\n}\n\nfunction isFlowProductionMode() {\n  if (FlowClients) {\n    const productionModeApps = Object.keys(FlowClients)\n      .map(key => FlowClients[key])\n      .filter(client => client.productionMode);\n    if (productionModeApps.length > 0) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction uncommentAndRun(callback, args) {\n  if (typeof callback !== 'function') {\n    return;\n  }\n\n  const match = DEV_MODE_CODE_REGEXP.exec(callback.toString());\n  if (match) {\n    try {\n      // requires CSP: script-src 'unsafe-eval'\n      callback = new Function(match[1]);\n    } catch (e) {\n      // eat the exception\n      console.log('vaadin-development-mode-detector: uncommentAndRun() failed', e);\n    }\n  }\n\n  return callback(args);\n}\n\n// A guard against polymer-modulizer removing the window.Vaadin\n// initialization above.\nwindow['Vaadin'] = window['Vaadin'] || {};\n\n/**\n * Inspects the source code of the given `callback` function for\n * specially-marked _commented_ code. If such commented code is found in the\n * callback source, uncomments and runs that code instead of the callback\n * itself. Otherwise runs the callback as is.\n *\n * The optional arguments are passed into the callback / uncommented code,\n * the result is returned.\n *\n * See the `isMinified()` function source code in this file for an example.\n *\n */\nconst runIfDevelopmentMode = function(callback, args) {\n  if (window.Vaadin.developmentMode) {\n    return uncommentAndRun(callback, args);\n  }\n};\n\nif (window.Vaadin.developmentMode === undefined) {\n  window.Vaadin.developmentMode = isDevelopmentMode();\n}\n\n/* This file is autogenerated from src/vaadin-usage-statistics.tpl.html */\n\nfunction maybeGatherAndSendStats() {\n  /** vaadin-dev-mode:start\n  (function () {\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar getPolymerVersion = function getPolymerVersion() {\n  return window.Polymer && window.Polymer.version;\n};\n\nvar StatisticsGatherer = function () {\n  function StatisticsGatherer(logger) {\n    classCallCheck(this, StatisticsGatherer);\n\n    this.now = new Date().getTime();\n    this.logger = logger;\n  }\n\n  createClass(StatisticsGatherer, [{\n    key: 'frameworkVersionDetectors',\n    value: function frameworkVersionDetectors() {\n      return {\n        'Flow': function Flow() {\n          if (window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients) {\n            var flowVersions = Object.keys(window.Vaadin.Flow.clients).map(function (key) {\n              return window.Vaadin.Flow.clients[key];\n            }).filter(function (client) {\n              return client.getVersionInfo;\n            }).map(function (client) {\n              return client.getVersionInfo().flow;\n            });\n            if (flowVersions.length > 0) {\n              return flowVersions[0];\n            }\n          }\n        },\n        'Vaadin Framework': function VaadinFramework() {\n          if (window.vaadin && window.vaadin.clients) {\n            var frameworkVersions = Object.values(window.vaadin.clients).filter(function (client) {\n              return client.getVersionInfo;\n            }).map(function (client) {\n              return client.getVersionInfo().vaadinVersion;\n            });\n            if (frameworkVersions.length > 0) {\n              return frameworkVersions[0];\n            }\n          }\n        },\n        'AngularJs': function AngularJs() {\n          if (window.angular && window.angular.version && window.angular.version) {\n            return window.angular.version.full;\n          }\n        },\n        'Angular': function Angular() {\n          if (window.ng) {\n            var tags = document.querySelectorAll(\"[ng-version]\");\n            if (tags.length > 0) {\n              return tags[0].getAttribute(\"ng-version\");\n            }\n            return \"Unknown\";\n          }\n        },\n        'Backbone.js': function BackboneJs() {\n          if (window.Backbone) {\n            return window.Backbone.VERSION;\n          }\n        },\n        'React': function React() {\n          var reactSelector = '[data-reactroot], [data-reactid]';\n          if (!!document.querySelector(reactSelector)) {\n            // React does not publish the version by default\n            return \"unknown\";\n          }\n        },\n        'Ember': function Ember() {\n          if (window.Em && window.Em.VERSION) {\n            return window.Em.VERSION;\n          } else if (window.Ember && window.Ember.VERSION) {\n            return window.Ember.VERSION;\n          }\n        },\n        'jQuery': function (_jQuery) {\n          function jQuery() {\n            return _jQuery.apply(this, arguments);\n          }\n\n          jQuery.toString = function () {\n            return _jQuery.toString();\n          };\n\n          return jQuery;\n        }(function () {\n          if (typeof jQuery === 'function' && jQuery.prototype.jquery !== undefined) {\n            return jQuery.prototype.jquery;\n          }\n        }),\n        'Polymer': function Polymer() {\n          var version = getPolymerVersion();\n          if (version) {\n            return version;\n          }\n        },\n        'LitElement': function LitElement() {\n          var version = window.litElementVersions && window.litElementVersions[0];\n          if (version) {\n            return version;\n          }\n        },\n        'LitHtml': function LitHtml() {\n          var version = window.litHtmlVersions && window.litHtmlVersions[0];\n          if (version) {\n            return version;\n          }\n        },\n        'Vue.js': function VueJs() {\n          if (window.Vue) {\n            return window.Vue.version;\n          }\n        }\n      };\n    }\n  }, {\n    key: 'getUsedVaadinElements',\n    value: function getUsedVaadinElements(elements) {\n      var version = getPolymerVersion();\n      var elementClasses = void 0;\n      // NOTE: In case you edit the code here, YOU MUST UPDATE any statistics reporting code in Flow.\n      // Check all locations calling the method getEntries() in\n      // https://github.com/vaadin/flow/blob/master/flow-server/src/main/java/com/vaadin/flow/internal/UsageStatistics.java#L106\n      // Currently it is only used by BootstrapHandler.\n      if (version && version.indexOf('2') === 0) {\n        // Polymer 2: components classes are stored in window.Vaadin\n        elementClasses = Object.keys(window.Vaadin).map(function (c) {\n          return window.Vaadin[c];\n        }).filter(function (c) {\n          return c.is;\n        });\n      } else {\n        // Polymer 3: components classes are stored in window.Vaadin.registrations\n        elementClasses = window.Vaadin.registrations || [];\n      }\n      elementClasses.forEach(function (klass) {\n        var version = klass.version ? klass.version : \"0.0.0\";\n        elements[klass.is] = { version: version };\n      });\n    }\n  }, {\n    key: 'getUsedVaadinThemes',\n    value: function getUsedVaadinThemes(themes) {\n      ['Lumo', 'Material'].forEach(function (themeName) {\n        var theme;\n        var version = getPolymerVersion();\n        if (version && version.indexOf('2') === 0) {\n          // Polymer 2: themes are stored in window.Vaadin\n          theme = window.Vaadin[themeName];\n        } else {\n          // Polymer 3: themes are stored in custom element registry\n          theme = customElements.get('vaadin-' + themeName.toLowerCase() + '-styles');\n        }\n        if (theme && theme.version) {\n          themes[themeName] = { version: theme.version };\n        }\n      });\n    }\n  }, {\n    key: 'getFrameworks',\n    value: function getFrameworks(frameworks) {\n      var detectors = this.frameworkVersionDetectors();\n      Object.keys(detectors).forEach(function (framework) {\n        var detector = detectors[framework];\n        try {\n          var version = detector();\n          if (version) {\n            frameworks[framework] = { version: version };\n          }\n        } catch (e) {}\n      });\n    }\n  }, {\n    key: 'gather',\n    value: function gather(storage) {\n      var storedStats = storage.read();\n      var gatheredStats = {};\n      var types = [\"elements\", \"frameworks\", \"themes\"];\n\n      types.forEach(function (type) {\n        gatheredStats[type] = {};\n        if (!storedStats[type]) {\n          storedStats[type] = {};\n        }\n      });\n\n      var previousStats = JSON.stringify(storedStats);\n\n      this.getUsedVaadinElements(gatheredStats.elements);\n      this.getFrameworks(gatheredStats.frameworks);\n      this.getUsedVaadinThemes(gatheredStats.themes);\n\n      var now = this.now;\n      types.forEach(function (type) {\n        var keys = Object.keys(gatheredStats[type]);\n        keys.forEach(function (key) {\n          if (!storedStats[type][key] || _typeof(storedStats[type][key]) != _typeof({})) {\n            storedStats[type][key] = { firstUsed: now };\n          }\n          // Discards any previously logged version number\n          storedStats[type][key].version = gatheredStats[type][key].version;\n          storedStats[type][key].lastUsed = now;\n        });\n      });\n\n      var newStats = JSON.stringify(storedStats);\n      storage.write(newStats);\n      if (newStats != previousStats && Object.keys(storedStats).length > 0) {\n        this.logger.debug(\"New stats: \" + newStats);\n      }\n    }\n  }]);\n  return StatisticsGatherer;\n}();\n\nvar StatisticsStorage = function () {\n  function StatisticsStorage(key) {\n    classCallCheck(this, StatisticsStorage);\n\n    this.key = key;\n  }\n\n  createClass(StatisticsStorage, [{\n    key: 'read',\n    value: function read() {\n      var localStorageStatsString = localStorage.getItem(this.key);\n      try {\n        return JSON.parse(localStorageStatsString ? localStorageStatsString : '{}');\n      } catch (e) {\n        return {};\n      }\n    }\n  }, {\n    key: 'write',\n    value: function write(data) {\n      localStorage.setItem(this.key, data);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      localStorage.removeItem(this.key);\n    }\n  }, {\n    key: 'isEmpty',\n    value: function isEmpty() {\n      var storedStats = this.read();\n      var empty = true;\n      Object.keys(storedStats).forEach(function (key) {\n        if (Object.keys(storedStats[key]).length > 0) {\n          empty = false;\n        }\n      });\n\n      return empty;\n    }\n  }]);\n  return StatisticsStorage;\n}();\n\nvar StatisticsSender = function () {\n  function StatisticsSender(url, logger) {\n    classCallCheck(this, StatisticsSender);\n\n    this.url = url;\n    this.logger = logger;\n  }\n\n  createClass(StatisticsSender, [{\n    key: 'send',\n    value: function send(data, errorHandler) {\n      var logger = this.logger;\n\n      if (navigator.onLine === false) {\n        logger.debug(\"Offline, can't send\");\n        errorHandler();\n        return;\n      }\n      logger.debug(\"Sending data to \" + this.url);\n\n      var req = new XMLHttpRequest();\n      req.withCredentials = true;\n      req.addEventListener(\"load\", function () {\n        // Stats sent, nothing more to do\n        logger.debug(\"Response: \" + req.responseText);\n      });\n      req.addEventListener(\"error\", function () {\n        logger.debug(\"Send failed\");\n        errorHandler();\n      });\n      req.addEventListener(\"abort\", function () {\n        logger.debug(\"Send aborted\");\n        errorHandler();\n      });\n      req.open(\"POST\", this.url);\n      req.setRequestHeader(\"Content-Type\", \"application/json\");\n      req.send(data);\n    }\n  }]);\n  return StatisticsSender;\n}();\n\nvar StatisticsLogger = function () {\n  function StatisticsLogger(id) {\n    classCallCheck(this, StatisticsLogger);\n\n    this.id = id;\n  }\n\n  createClass(StatisticsLogger, [{\n    key: '_isDebug',\n    value: function _isDebug() {\n      return localStorage.getItem(\"vaadin.\" + this.id + \".debug\");\n    }\n  }, {\n    key: 'debug',\n    value: function debug(msg) {\n      if (this._isDebug()) {\n        console.info(this.id + \": \" + msg);\n      }\n    }\n  }]);\n  return StatisticsLogger;\n}();\n\nvar UsageStatistics = function () {\n  function UsageStatistics() {\n    classCallCheck(this, UsageStatistics);\n\n    this.now = new Date();\n    this.timeNow = this.now.getTime();\n    this.gatherDelay = 10; // Delay between loading this file and gathering stats\n    this.initialDelay = 24 * 60 * 60;\n\n    this.logger = new StatisticsLogger(\"statistics\");\n    this.storage = new StatisticsStorage(\"vaadin.statistics.basket\");\n    this.gatherer = new StatisticsGatherer(this.logger);\n    this.sender = new StatisticsSender(\"https://tools.vaadin.com/usage-stats/submit\", this.logger);\n  }\n\n  createClass(UsageStatistics, [{\n    key: 'maybeGatherAndSend',\n    value: function maybeGatherAndSend() {\n      var _this = this;\n\n      if (localStorage.getItem(UsageStatistics.optOutKey)) {\n        return;\n      }\n      this.gatherer.gather(this.storage);\n      setTimeout(function () {\n        _this.maybeSend();\n      }, this.gatherDelay * 1000);\n    }\n  }, {\n    key: 'lottery',\n    value: function lottery() {\n      return true;\n    }\n  }, {\n    key: 'currentMonth',\n    value: function currentMonth() {\n      return this.now.getYear() * 12 + this.now.getMonth();\n    }\n  }, {\n    key: 'maybeSend',\n    value: function maybeSend() {\n      var firstUse = Number(localStorage.getItem(UsageStatistics.firstUseKey));\n      var monthProcessed = Number(localStorage.getItem(UsageStatistics.monthProcessedKey));\n\n      if (!firstUse) {\n        // Use a grace period to avoid interfering with tests, incognito mode etc\n        firstUse = this.timeNow;\n        localStorage.setItem(UsageStatistics.firstUseKey, firstUse);\n      }\n\n      if (this.timeNow < firstUse + this.initialDelay * 1000) {\n        this.logger.debug(\"No statistics will be sent until the initial delay of \" + this.initialDelay + \"s has passed\");\n        return;\n      }\n      if (this.currentMonth() <= monthProcessed) {\n        this.logger.debug(\"This month has already been processed\");\n        return;\n      }\n      localStorage.setItem(UsageStatistics.monthProcessedKey, this.currentMonth());\n      // Use random sampling\n      if (this.lottery()) {\n        this.logger.debug(\"Congratulations, we have a winner!\");\n      } else {\n        this.logger.debug(\"Sorry, no stats from you this time\");\n        return;\n      }\n\n      this.send();\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      // Ensure we have the latest data\n      this.gatherer.gather(this.storage);\n\n      // Read, send and clean up\n      var data = this.storage.read();\n      data[\"firstUse\"] = Number(localStorage.getItem(UsageStatistics.firstUseKey));\n      data[\"usageStatisticsVersion\"] = UsageStatistics.version;\n      var info = 'This request contains usage statistics gathered from the application running in development mode. \\n\\nStatistics gathering is automatically disabled and excluded from production builds.\\n\\nFor details and to opt-out, see https://github.com/vaadin/vaadin-usage-statistics.\\n\\n\\n\\n';\n      var self = this;\n      this.sender.send(info + JSON.stringify(data), function () {\n        // Revert the 'month processed' flag\n        localStorage.setItem(UsageStatistics.monthProcessedKey, self.currentMonth() - 1);\n      });\n    }\n  }], [{\n    key: 'version',\n    get: function get$1() {\n      return '2.1.0';\n    }\n  }, {\n    key: 'firstUseKey',\n    get: function get$1() {\n      return 'vaadin.statistics.firstuse';\n    }\n  }, {\n    key: 'monthProcessedKey',\n    get: function get$1() {\n      return 'vaadin.statistics.monthProcessed';\n    }\n  }, {\n    key: 'optOutKey',\n    get: function get$1() {\n      return 'vaadin.statistics.optout';\n    }\n  }]);\n  return UsageStatistics;\n}();\n\ntry {\n  window.Vaadin = window.Vaadin || {};\n  window.Vaadin.usageStatsChecker = window.Vaadin.usageStatsChecker || new UsageStatistics();\n  window.Vaadin.usageStatsChecker.maybeGatherAndSend();\n} catch (e) {\n  // Intentionally ignored as this is not a problem in the app being developed\n}\n\n}());\n\n  vaadin-dev-mode:end **/\n}\n\nconst usageStatistics = function() {\n  if (typeof runIfDevelopmentMode === 'function') {\n    return runIfDevelopmentMode(maybeGatherAndSendStats);\n  }\n};\n\nwindow.Vaadin = window.Vaadin || {};\nwindow.Vaadin.registrations = window.Vaadin.registrations || [];\n\nwindow.Vaadin.registrations.push({\n  is: '@vaadin/router',\n  version: '1.7.2',\n});\n\nusageStatistics();\n\nRouter.NavigationTrigger = {POPSTATE, CLICK};\n\n\n//# sourceMappingURL=vaadin-router.js.map\n\n\n//# sourceURL=webpack://frontend-industry/./node_modules/@vaadin/router/dist/vaadin-router.js?");

/***/ }),

/***/ "./node_modules/normalize.css/normalize.css":
/*!**************************************************!*\
  !*** ./node_modules/normalize.css/normalize.css ***!
  \**************************************************/
/*! namespace exports */
/*! exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://frontend-industry/./node_modules/normalize.css/normalize.css?");

/***/ }),

/***/ "./src/components/components.css":
/*!***************************************!*\
  !*** ./src/components/components.css ***!
  \***************************************/
/*! namespace exports */
/*! exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://frontend-industry/./src/components/components.css?");

/***/ }),

/***/ "./src/design/common.css":
/*!*******************************!*\
  !*** ./src/design/common.css ***!
  \*******************************/
/*! namespace exports */
/*! exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://frontend-industry/./src/design/common.css?");

/***/ }),

/***/ "./src/layouts/layouts.css":
/*!*********************************!*\
  !*** ./src/layouts/layouts.css ***!
  \*********************************/
/*! namespace exports */
/*! exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://frontend-industry/./src/layouts/layouts.css?");

/***/ }),

/***/ "./src/views/views.css":
/*!*****************************!*\
  !*** ./src/views/views.css ***!
  \*****************************/
/*! namespace exports */
/*! exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://frontend-industry/./src/views/views.css?");

/***/ }),

/***/ "./src/components/modal/index.js":
/*!***************************************!*\
  !*** ./src/components/modal/index.js ***!
  \***************************************/
/*! namespace exports */
/*! export Modal [provided] [no usage info] [missing usage info prevents renaming] */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Modal\": () => /* binding */ Modal,\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n\n\n/**\n * @see https://www.w3schools.com/howto/howto_css_modals.asp\n */\nconst _MODAL = {\n  openModal: ({ element }) => {\n    element.style.display = \"block\";\n  },\n  closeModal: ({ element }) => {\n    element.style.display = \"none\";\n  },\n};\n\nclass Modal {\n  constructor({ element }) {\n    this._element = element;\n\n    this.open = this.open.bind(this);\n    this.close = this.close.bind(this);\n    this._onWindowClick = this._onWindowClick.bind(this);\n    \n    window.addEventListener('click', this._onWindowClick);\n    this._element.querySelector('.modal .close').addEventListener('click', this.close);\n  }\n\n  dispose() {\n    window.removeEventListener('click', this._onWindowClick);\n    this._element.querySelector('.modal .close').removeEventListener('click', this.close);\n    delete this._element;\n  }\n\n  open() {\n    _MODAL.openModal({ element: this._element });\n  }\n\n  close() {\n    _MODAL.closeModal({ element: this._element });\n  }\n\n  _onWindowClick(_event) {\n    // When the user clicks anywhere outside of the modal, close it\n    if (_event.target === this._element) {\n      this.close();\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_MODAL);\n\n//# sourceURL=webpack://frontend-industry/./src/components/modal/index.js?");

/***/ }),

/***/ "./src/components/sidebar-diagram/index.js":
/*!*************************************************!*\
  !*** ./src/components/sidebar-diagram/index.js ***!
  \*************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ \"./node_modules/lit-html/lit-html.js\");\n/* harmony import */ var _palette_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./palette.js */ \"./src/components/sidebar-diagram/palette.js\");\n/* harmony import */ var _outline_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./outline.js */ \"./src/components/sidebar-diagram/outline.js\");\n/* harmony import */ var _properties_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./properties.js */ \"./src/components/sidebar-diagram/properties.js\");\n\n\n\n\n\n\n\n\n\nconst _ENV = {\n  myDIV: null,\n  zoneUP: {\n    layer: null,\n    choice: 'outline',\n    component: null,\n  },\n  zoneDOWN: {\n    layer: null,\n    choice: 'properties',\n    component: null,\n  },\n};\n\nconst _SIDEBAR_DIAGRAM = {\n  _env: _ENV,\n\n  init: () => {\n    _ENV.myDIV = document.createElement('div');\n    _ENV.myDIV.classList.add(\"sidebar-diagram\");\n\n    _palette_js__WEBPACK_IMPORTED_MODULE_1__.default.init();\n    _outline_js__WEBPACK_IMPORTED_MODULE_2__.default.init();\n    _properties_js__WEBPACK_IMPORTED_MODULE_3__.default.init();\n\n    _SIDEBAR_DIAGRAM.update();\n    _ENV.zoneUP.layer = _ENV.myDIV.querySelector('div.zone-up');\n    _ENV.zoneDOWN.layer = _ENV.myDIV.querySelector('div.zone-down');\n\n    _SIDEBAR_DIAGRAM._changeZoneContent({ choice: _ENV.zoneUP.choice });\n    _SIDEBAR_DIAGRAM._changeZoneContent({ choice: _ENV.zoneDOWN.choice });\n  },\n\n  getComponent() {\n    return _ENV.myDIV;\n  },\n\n  _render: () => {\n    const _innerHTML = lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n      <div class=\"selector\" data-zone=\"up\">\n        <div class=\"choice\" data-name=\"outline\" @click=\"${_SIDEBAR_DIAGRAM._onClickChoice}\">Ou</div>\n        <div class=\"choice\" data-name=\"palette\" @click=\"${_SIDEBAR_DIAGRAM._onClickChoice}\">Pa</div>\n      </div>\n      <div class=\"zone-up\"></div>\n      <div class=\"selector\" data-zone=\"down\">\n        <div class=\"choice\" data-name=\"properties\" @click=\"${_SIDEBAR_DIAGRAM._onClickChoice}\">Pr</div>\n      </div>\n      <div class=\"zone-down\"></div>\n    `;\n    (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(_innerHTML, _ENV.myDIV);\n  },\n\n  update: () => {\n    _ENV.zoneUP.component !== null && _ENV.zoneUP.component.update();\n    _ENV.zoneDOWN.component !== null && _ENV.zoneDOWN.component.update();\n    \n    _SIDEBAR_DIAGRAM._render();\n    _SIDEBAR_DIAGRAM._paintChoices();\n  },\n\n  _paintChoices: () => {\n    _ENV.myDIV.querySelectorAll('div.selector > div.choice').forEach(_choice => {\n      _choice.classList.remove('selected');\n    });\n\n    _ENV.myDIV.querySelector(`div.selector[data-zone=\"up\"] div.choice[data-name=\"${_ENV.zoneUP.choice}\"]`)\n    .classList.add('selected');\n\n    _ENV.myDIV.querySelector(`div.selector[data-zone=\"down\"] div.choice[data-name=\"${_ENV.zoneDOWN.choice}\"]`)\n    .classList.add('selected');\n  },\n\n  _onClickChoice: (_event) => {\n    const choice = _event.target.getAttribute('data-name');\n    _SIDEBAR_DIAGRAM._changeZoneContent({ choice });\n  },\n\n  _changeZoneContent: ({ choice }) => {\n    switch (choice) {\n      case 'outline':\n        _ENV.zoneUP.layer.innerHTML = '';\n        _ENV.zoneUP.layer.appendChild(_outline_js__WEBPACK_IMPORTED_MODULE_2__.default.getComponent());\n        _ENV.zoneUP.component = _outline_js__WEBPACK_IMPORTED_MODULE_2__.default;\n        _ENV.zoneUP.choice = choice;\n        break;\n\n      case 'palette':\n        _ENV.zoneUP.layer.innerHTML = '';\n        _ENV.zoneUP.layer.appendChild(_palette_js__WEBPACK_IMPORTED_MODULE_1__.default.getComponent());\n        _ENV.zoneUP.component = _palette_js__WEBPACK_IMPORTED_MODULE_1__.default;\n        _ENV.zoneUP.choice = choice;\n        break;\n\n      case 'properties':\n        _ENV.zoneDOWN.layer.innerHTML = '';\n        _ENV.zoneDOWN.layer.appendChild(_properties_js__WEBPACK_IMPORTED_MODULE_3__.default.getComponent());\n        _ENV.zoneDOWN.component = _properties_js__WEBPACK_IMPORTED_MODULE_3__.default;\n        _ENV.zoneDOWN.choice = choice;\n        break;\n    \n      default:\n        break;\n    }\n\n    _SIDEBAR_DIAGRAM.update();\n  }\n\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_SIDEBAR_DIAGRAM);\n\n//# sourceURL=webpack://frontend-industry/./src/components/sidebar-diagram/index.js?");

/***/ }),

/***/ "./src/components/sidebar-diagram/outline.js":
/*!***************************************************!*\
  !*** ./src/components/sidebar-diagram/outline.js ***!
  \***************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ \"./node_modules/lit-html/lit-html.js\");\n/* harmony import */ var _state_nodes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../state/nodes.js */ \"./src/state/nodes.js\");\n/* harmony import */ var _state_selection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../state/selection.js */ \"./src/state/selection.js\");\n/* harmony import */ var _palette_items_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./palette-items.js */ \"./src/components/sidebar-diagram/palette-items.js\");\n\n\n\n\n\n\nconst _ENV = {\n  myDIV: null,\n  nodes: null,\n  connections: null,\n  selection: null,\n};\n\nconst _OUTLINE = {\n  _env: _ENV,\n\n  init: () => {\n    _ENV.myDIV = document.createElement('div');\n    _ENV.myDIV.classList.add(\"outline\");\n\n    _ENV.nodes = _state_nodes_js__WEBPACK_IMPORTED_MODULE_1__.default.getNodes();\n    _ENV.selection = _state_selection_js__WEBPACK_IMPORTED_MODULE_2__.default.getSelection();\n\n    _state_nodes_js__WEBPACK_IMPORTED_MODULE_1__.default.listenChanges({ listener: _OUTLINE._listenerNodesUpdate });\n    _state_selection_js__WEBPACK_IMPORTED_MODULE_2__.default.listenChanges({ listener: _OUTLINE._listenerSelectionChange });\n  },\n\n  getComponent() {\n    return _ENV.myDIV;\n  },\n\n  _render: () => {\n    const _innerHTML = lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n      <strong>Outline</strong> <br>\n      <fieldset data-name=\"nodes\">\n        <legend>Nodes</legend>\n        ${Object.values(_ENV.nodes).map(node => _OUTLINE._renderNode({ node }))}\n      </fieldset>\n    `;\n    (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(_innerHTML, _ENV.myDIV);\n  },\n\n  _renderNode: ({ node }) => {\n    // Obtain the emoji for this node 🧩⚙⚠\n    let itemEmoji = '';\n    if (node.category === 'data') { itemEmoji = '📄'}\n    else if (node.category === 'flow') {\n      const _item = Object.values(_palette_items_js__WEBPACK_IMPORTED_MODULE_3__.default.NODES_FLOW).find(_n => _n.def.category === node.category && \n        _n.def.family === node.family && _n.def.type === node.type);\n      if (_item !== undefined) itemEmoji = _item.emoji;\n    }\n\n    const _innerHTML = lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n      <div class=\"node\" data-id=\"${node.id}\">\n        <button @click=${_OUTLINE._onClickButtonNode}>${itemEmoji} ${node.id}</button>\n      </div>\n    `;\n    return _innerHTML;\n  },\n\n  update: () => {\n   _OUTLINE._render();\n   _ENV.selection = _state_selection_js__WEBPACK_IMPORTED_MODULE_2__.default.getSelection();\n   _OUTLINE._updateSelectedNode();\n  },\n\n  _updateSelectedNode: () => {\n    _ENV.myDIV.querySelectorAll('div.node button').forEach(_button => {  // Remove 'selected' class from all the buttons\n      _button.classList.remove('selected');\n    });\n\n    if (_ENV.selection.type !== 'node') { return; } // If there is no selected node no update required\n\n     // Add 'selected' class to the correct button\n    const _button = _ENV.myDIV.querySelector(`div.node[data-id=\"${_ENV.selection.id}\"] button`);  // Selected button\n    if (_button !== null) {\n      _button.classList.add('selected');\n    }\n  },\n\n  _listenerNodesUpdate: ({ action, payload }) => {\n    _OUTLINE.update();\n  },\n\n  _listenerSelectionChange: ({ action, payload }) => {\n    _OUTLINE.update();\n  },\n\n  _onClickButtonNode: (_event) => {\n    const id = _event.target.parentElement.getAttribute('data-id');\n    if (_ENV.selection.type === 'node' && _ENV.selection.id === id) { return; } // Do nothing because is already selected\n    _state_selection_js__WEBPACK_IMPORTED_MODULE_2__.default.select({ type: 'node', id, object: _state_nodes_js__WEBPACK_IMPORTED_MODULE_1__.default.getNode({ id })});  // Select the node\n  },\n\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_OUTLINE);\n\n//# sourceURL=webpack://frontend-industry/./src/components/sidebar-diagram/outline.js?");

/***/ }),

/***/ "./src/components/sidebar-diagram/palette-items.js":
/*!*********************************************************!*\
  !*** ./src/components/sidebar-diagram/palette-items.js ***!
  \*********************************************************/
/*! namespace exports */
/*! export NODES_FLOW [provided] [no usage info] [missing usage info prevents renaming] */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NODES_FLOW\": () => /* binding */ NODES_FLOW,\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n\nconst NODES_FLOW = {\n  'flow_signal_listen': {\n    def: {\n      category: 'flow',\n      family: 'signal',\n      type: 'listen',\n    },\n    label: '▶ Signal listen',\n    emoji: '▶',\n  },\n  'flow_signal_emit': {\n    def: {\n      category: 'flow',\n      family: 'signal',\n      type: 'emit',\n    },\n    label: '📡 Signal emit',\n    emoji: '📡',\n  },\n  'flow_step_pause': {\n    def: {\n      category: 'flow',\n      family: 'step',\n      type: 'pause',\n    },\n    label: '⏸ Pause',\n    emoji: '⏸',\n  },\n  'flow_step_function_call': {\n    def: {\n      category: 'flow',\n      family: 'step',\n      type: 'function-call',\n    },\n    label: '⚙ Function call',\n    emoji: '⚙',\n  },\n};\n\nconst _ITEMS = {\n  NODES_FLOW\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_ITEMS);\n\n//# sourceURL=webpack://frontend-industry/./src/components/sidebar-diagram/palette-items.js?");

/***/ }),

/***/ "./src/components/sidebar-diagram/palette.js":
/*!***************************************************!*\
  !*** ./src/components/sidebar-diagram/palette.js ***!
  \***************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ \"./node_modules/lit-html/lit-html.js\");\n/* harmony import */ var _state_data_states_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../state/data-states.js */ \"./src/state/data-states.js\");\n/* harmony import */ var _palette_items_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./palette-items.js */ \"./src/components/sidebar-diagram/palette-items.js\");\n/* harmony import */ var _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/diagram-manager.js */ \"./src/utils/diagram-manager.js\");\n\n\n\n\n\n\n\n\nconst _ENV = {\n  myDIV: null,\n};\n\nconst _PALETTE = {\n  _env: _ENV,\n\n  init: () => {\n    _ENV.myDIV = document.createElement('div');\n    _ENV.myDIV.classList.add(\"palette\");\n\n    _state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.listenChanges({ listener: _PALETTE._listenerDataStatesChange });\n  },\n\n  getComponent() {\n    return _ENV.myDIV;\n  },\n\n  _render: () => {\n    const _innerHTML = lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n      <strong>Palette</strong><br>\n      <fieldset class=\"Flow\">\n        <legend>Flow</legend>\n        ${Object.values(_palette_items_js__WEBPACK_IMPORTED_MODULE_2__.default.NODES_FLOW).map(item => _PALETTE._renderItemFlow({ item }))}\n      </fieldset>\n      <fieldset class=\"Data\">\n        <legend>Data</legend>\n        ${Object.values(_state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.getStates()).map(item => _PALETTE._renderItemState({ item }))}\n      </fieldset>\n    `;\n    (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(_innerHTML, _ENV.myDIV);\n  },\n\n  _renderItemFlow: ({ item }) => {\n    const _innerHTML = lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n      <div class=\"item flow\" data-category=\"${item.def.category}\" data-family=\"${item.def.family}\" data-type=\"${item.def.type}\">\n        <button @click=${_PALETTE._onClickButtonItemFlow}>${item.label}</button>\n      </div>\n    `;\n    return _innerHTML;\n  },\n\n  _renderItemState: ({ item }) => {\n    const _innerHTML = lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n      <div class=\"item state\" data-id=\"${item.id}\">\n        <button @click=${_PALETTE._onClickButtonItemState}>📄 ${item.name}</button>\n      </div>\n    `;\n    return _innerHTML;\n  },\n\n  update: () => {\n   _PALETTE._render();\n  },\n\n  _listenerDataStatesChange: ({ action, payload }) => {\n    // Only update when the action is 'create' or 'delete' \n    switch (action) {\n      case _state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.ACTIONS.CREATE:\n      case _state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.ACTIONS.DELETE:\n        _PALETTE.update();\n        break;\n    \n      default:\n        break;\n    }\n  },\n\n  _onClickButtonItemFlow: (_event) => {\n    const category = _event.target.parentElement.getAttribute('data-category');\n    const family = _event.target.parentElement.getAttribute('data-family');\n    const type = _event.target.parentElement.getAttribute('data-type');\n\n    const position = _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_3__.default.camera.getPosition();  // Obtain the position from camera\n    position.y = 0;\n\n    _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_3__.default.nodes.create({  // Create the node\n      category,\n      family,\n      type,\n      extra: {\n        position,\n      },\n    });\n  },\n\n  _onClickButtonItemState: (_event) => {\n    const _id = _event.target.parentElement.getAttribute('data-id');\n\n    const position = _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_3__.default.camera.getPosition();  // Obtain the position from camera\n    position.y = 0;\n\n    _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_3__.default.nodes.create({ // Create the node\n      category: 'data', \n      family: 'state', \n      type: 'default', \n      extra: {\n        position,\n        source: _id,  // This node is a reference to the source state defined by this id\n      },\n    });\n  },\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_PALETTE);\n\n//# sourceURL=webpack://frontend-industry/./src/components/sidebar-diagram/palette.js?");

/***/ }),

/***/ "./src/components/sidebar-diagram/properties.js":
/*!******************************************************!*\
  !*** ./src/components/sidebar-diagram/properties.js ***!
  \******************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ \"./node_modules/lit-html/lit-html.js\");\n/* harmony import */ var _components_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/modal */ \"./src/components/modal/index.js\");\n/* harmony import */ var _state_selection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../state/selection.js */ \"./src/state/selection.js\");\n/* harmony import */ var _state_nodes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../state/nodes.js */ \"./src/state/nodes.js\");\n/* harmony import */ var _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/diagram-manager.js */ \"./src/utils/diagram-manager.js\");\n\n\n\n\n\n\n\nconst _ENV = {\n  myDIV: null,\n  selection: {\n    type: null,\n    id: null,\n  },\n  selectedNode: null,\n  selectedNodeINRender: null,\n  modalDelete: null,\n};\n\nconst _PROPERTIES = {\n  _env: _ENV,\n\n  init: () => {\n    _ENV.myDIV = document.createElement('div');\n    _ENV.myDIV.classList.add(\"properties\");\n\n    _state_nodes_js__WEBPACK_IMPORTED_MODULE_3__.default.listenChanges({ listener: _PROPERTIES._listenerNodeChanges });\n    _state_selection_js__WEBPACK_IMPORTED_MODULE_2__.default.listenChanges({ listener: _PROPERTIES._listenerSelectionChanges });\n    \n    _PROPERTIES.update();\n\n    _ENV.modalDelete = new _components_modal__WEBPACK_IMPORTED_MODULE_1__.Modal({ element: _ENV.myDIV.querySelector('#modal-delete') });\n  },\n\n  getComponent() {\n    return _ENV.myDIV;\n  },\n\n  _render: () => {\n    const _innerHTML = lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n      <div class=\"CommonInfo\">\n        <strong>type:</strong> ${_ENV.selection.type} <br>\n        <strong>ID:</strong> ${_ENV.selection.id} <br>\n      </div>\n      ${_PROPERTIES._renderDetails()}\n      ${_PROPERTIES._renderOptions()}\n      ${_PROPERTIES._renderModalDelete()}\n    `;\n    (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(_innerHTML, _ENV.myDIV);\n  },\n\n  _renderModalDelete: () => {\n    return lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n    <!-- The Modal -->\n    <div id=\"modal-delete\" class=\"modal info\">\n    \n      <!-- Modal content -->\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <span class=\"close\">&times;</span>\n          <h2>Delete?</h2>\n        </div>\n        <div class=\"modal-body\">\n          <p>Do you really want to delete this element?</p>\n          <p>\n            <button type=\"button\" @click=\"${_PROPERTIES._onButtonConfirmDeleteClick}\">Yes</button>\n            <button type=\"button\" @click=\"${() => _ENV.modalDelete && _ENV.modalDelete.close()}\">No</button>\n          </p>\n        </div>\n        <div class=\"modal-footer\">\n          <!-- <h3>Modal Footer</h3> -->\n        </div>\n      </div>\n    \n    </div>\n    `;\n  },\n\n  _renderDetails: () => {\n    let _result = null;\n\n    switch (_ENV.selection.type) {\n      case 'node':\n      case 'connection':\n        const _node = _ENV.selection.object;\n        _result = lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n          <fieldset class=\"Details\">\n            <legend>Details</legend>\n            <strong>class:</strong> ${_node.class} <br>\n            <strong>category:</strong> ${_node.category} <br>\n            <strong>family:</strong> ${_node.family} <br>\n            <strong>type:</strong> ${_node.type} <br>\n            ${_PROPERTIES._renderDetailsForNode()}\n          </fieldset>\n          ${_PROPERTIES._renderAttributesForNode()}\n        `;\n        break;\n    \n      default:\n        break;\n    }\n\n    return _result;\n  },\n\n  _renderDetailsForNode: () => {\n    if (_ENV.selection.type !== 'node') return; // Only for nodes\n\n    const _node = _ENV.selectedNodeINRender;\n\n    return lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n      <strong>position X:</strong> ${_node.model.position.x.toFixed(5)} <br>\n      <strong>position Z:</strong> ${_node.model.position.z.toFixed(5)} <br>\n    `;\n  },\n\n  _renderAttributesForNode: () => {\n    if (_ENV.selection.type !== 'node') return; // Only for nodes\n\n    const _node = _ENV.selectedNode;\n\n    const {attributes} = _node.extra;\n    if (attributes === undefined) return; // Only if the node has attributes\n    if (Object.keys(attributes).length < 1) return; // Only if the node has attributes\n\n    return lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n    <fieldset class=\"Attributes\">\n      <legend>Attributes</legend>\n      ${Object.keys(attributes).map(_k => _PROPERTIES._renderAttributeForNode({ name: _k }))}\n    </fieldset>\n    `;\n  },\n\n  _renderAttributeForNode: ({ name }) => {\n    const {attributes} = _ENV.selectedNode.extra;\n    return lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n    <strong>${name}</strong><br>\n    <input data-name=\"${name}\" .value=${attributes[name].value} @input=${_PROPERTIES._onAttributeChange} size=\"17\">\n    `;\n  },\n\n  _renderOptions: () => {\n    let _result = null;\n    if (_ENV.selection.type === null) return _result;\n\n    _result = lit_html__WEBPACK_IMPORTED_MODULE_0__.html `\n      <div class=\"Options\">\n        <button type=\"button\" @click=\"${_PROPERTIES._onButtonDeleteClick}\">❌ Delete</button>\n      </div>\n      `;\n    return _result;\n  },\n\n  update: () => {\n   _PROPERTIES._render();\n  },\n\n  _listenerNodeChanges: ({ action, payload }) => {\n    switch (action) {\n      case 'update':\n        if ( _ENV.selection.type === 'node' &&  // Only update if it's necessary ⚙\n          _ENV.selection.id === payload.id) {\n          _PROPERTIES.update();\n        }\n        break;\n    \n      default:\n        break;\n    }\n  },\n\n  _listenerSelectionChanges: ({ action, payload }) => {\n    switch (action) {\n      case 'select':\n        _ENV.selection = payload;\n        _PROPERTIES._manageNewSelection();\n        break;\n\n      case 'selectNONE':\n        _ENV.selection = {\n          type: null,\n          id: null,\n        };\n        _ENV.selectedNode = null;\n        _ENV.selectedNodeINRender = null;\n        break;\n    \n      default:\n        break;\n    }\n    _PROPERTIES.update();\n  },\n\n  _manageNewSelection: () => {\n    const { selection } = _ENV;\n    switch (selection.type) {\n      case 'node':\n        _PROPERTIES._selectNode();\n        break;\n    \n      default:\n        break;\n    }\n  },\n\n  _selectNode: () => {\n    _ENV.selectedNode = _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_4__.default.nodes.get({ id: _ENV.selection.id });\n    _ENV.selectedNodeINRender = _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_4__.default.diagramRenderer.getNode({ id: _ENV.selection.id });\n  },\n\n  _onAttributeChange: (_event) => {  \n    const _attributeName = _event.target.dataset.name;\n    _ENV.selectedNode.extra.attributes[_attributeName].value = _event.target.value;\n  },\n\n  _onButtonDeleteClick: (_event) => {\n    _ENV.modalDelete.open();\n  },\n\n  _onButtonConfirmDeleteClick: (_event) => {\n    _ENV.modalDelete.close();\n\n    switch (_ENV.selection.type) {\n      case 'node':\n        _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_4__.default.nodes.delete({ id: _ENV.selection.id });\n        break;\n\n      case 'connection':\n        _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_4__.default.connections.delete({ id: _ENV.selection.id });\n        break;\n    \n      default:\n        break;\n    }\n  },\n\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_PROPERTIES);\n\n//# sourceURL=webpack://frontend-industry/./src/components/sidebar-diagram/properties.js?");

/***/ }),

/***/ "./src/components/sidebar-state-editor/index.js":
/*!******************************************************!*\
  !*** ./src/components/sidebar-state-editor/index.js ***!
  \******************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ \"./node_modules/lit-html/lit-html.js\");\n/* harmony import */ var _states_list_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./states-list.js */ \"./src/components/sidebar-state-editor/states-list.js\");\n\n\n\n\n\n\nconst _ENV = {\n  myDIV: null,\n  zoneUP: {\n    layer: null,\n    choice: 'states-list',\n    component: null,\n  },\n  zoneDOWN: {\n    layer: null,\n    choice: 'states-refs',\n    component: null,\n  },\n};\n\nconst _SIDEBAR_STATE_EDITOR = {\n  _env: _ENV,\n\n  init: () => {\n    _ENV.myDIV = document.createElement('div');\n    _ENV.myDIV.classList.add(\"sidebar-state-editor\");\n\n    _states_list_js__WEBPACK_IMPORTED_MODULE_1__.default.init();\n\n    _SIDEBAR_STATE_EDITOR.update();\n    _ENV.zoneUP.layer = _ENV.myDIV.querySelector('div.zone-up');\n    _ENV.zoneDOWN.layer = _ENV.myDIV.querySelector('div.zone-down');\n\n    _SIDEBAR_STATE_EDITOR._changeZoneContent({ choice: _ENV.zoneUP.choice });\n    _SIDEBAR_STATE_EDITOR._changeZoneContent({ choice: _ENV.zoneDOWN.choice });\n  },\n\n  getComponent() {\n    return _ENV.myDIV;\n  },\n\n  _render: () => {\n    const _innerHTML = lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n      <div class=\"selector\" data-zone=\"up\">\n        <div class=\"choice\" data-name=\"states-list\" @click=\"${_SIDEBAR_STATE_EDITOR._onClickChoice}\">St</div>\n      </div>\n      <div class=\"zone-up\"></div>\n      <div class=\"selector\" data-zone=\"down\">\n        <div class=\"choice\" data-name=\"states-refs\" @click=\"${_SIDEBAR_STATE_EDITOR._onClickChoice}\">Pr</div>\n      </div>\n      <div class=\"zone-down\"></div>\n    `;\n    (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(_innerHTML, _ENV.myDIV);\n  },\n\n  update: () => {\n    _ENV.zoneUP.component !== null && _ENV.zoneUP.component.update();\n    _ENV.zoneDOWN.component !== null && _ENV.zoneDOWN.component.update();\n    \n    _SIDEBAR_STATE_EDITOR._render();\n    _SIDEBAR_STATE_EDITOR._paintChoices();\n  },\n\n  _paintChoices: () => {\n    _ENV.myDIV.querySelectorAll('div.selector > div.choice').forEach(_choice => {\n      _choice.classList.remove('selected');\n    });\n\n    _ENV.myDIV.querySelector(`div.selector[data-zone=\"up\"] div.choice[data-name=\"${_ENV.zoneUP.choice}\"]`)\n    .classList.add('selected');\n\n    _ENV.myDIV.querySelector(`div.selector[data-zone=\"down\"] div.choice[data-name=\"${_ENV.zoneDOWN.choice}\"]`)\n    .classList.add('selected');\n  },\n\n  _onClickChoice: (_event) => {\n    const choice = _event.target.getAttribute('data-name');\n    _SIDEBAR_STATE_EDITOR._changeZoneContent({ choice });\n  },\n\n  _changeZoneContent: ({ choice }) => {\n    switch (choice) {\n      case 'states-list':\n        _ENV.zoneUP.layer.innerHTML = '';\n        _ENV.zoneUP.layer.appendChild(_states_list_js__WEBPACK_IMPORTED_MODULE_1__.default.getComponent());\n        _ENV.zoneUP.component = _states_list_js__WEBPACK_IMPORTED_MODULE_1__.default;\n        _ENV.zoneUP.choice = choice;\n        break;\n\n      case 'states-refs':\n        _ENV.zoneDOWN.layer.innerHTML = '';\n        // _ENV.zoneDOWN.layer.appendChild(properties.getComponent());\n        // _ENV.zoneDOWN.component = properties;\n        _ENV.zoneDOWN.choice = choice;\n        break;\n    \n      default:\n        break;\n    }\n\n    _SIDEBAR_STATE_EDITOR.update();\n  }\n\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_SIDEBAR_STATE_EDITOR);\n\n//# sourceURL=webpack://frontend-industry/./src/components/sidebar-state-editor/index.js?");

/***/ }),

/***/ "./src/components/sidebar-state-editor/states-list.js":
/*!************************************************************!*\
  !*** ./src/components/sidebar-state-editor/states-list.js ***!
  \************************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ \"./node_modules/lit-html/lit-html.js\");\n/* harmony import */ var _state_data_states_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../state/data-states.js */ \"./src/state/data-states.js\");\n/* harmony import */ var _state_location_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../state/location.js */ \"./src/state/location.js\");\n\n\n\n\n\n\n\nconst _ENV = {\n  myDIV: null,\n  states: null,\n  references: null,\n};\n\nconst _STATES_LIST = {\n  _env: _ENV,\n\n  init: () => {\n    _ENV.myDIV = document.createElement('div');\n    _ENV.myDIV.classList.add(\"states-list\");\n\n    _ENV.states = _state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.getStates();\n    _ENV.references = _state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.getReferences();\n\n    _state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.listenChanges({ listener: _STATES_LIST._listenStateChanges });\n  },\n\n  getComponent() {\n    return _ENV.myDIV;\n  },\n\n  _render: () => {\n    const _innerHTML = lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n      States list <br>\n      ${Object.values(_ENV.states).map(state => _STATES_LIST._renderState({ state }))}\n    `;\n    (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(_innerHTML, _ENV.myDIV);\n  },\n\n  _renderState: ({ state }) => {\n    const _innerHTML = lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n      <div class=\"state\" data-id=\"${state.id}\">\n        <button @click=${_STATES_LIST._onClickButtonState}>${state.id}</button>\n      </div>\n    `;\n    return _innerHTML;\n  },\n\n  update: () => {\n   _STATES_LIST._render();\n   _STATES_LIST._updateSelected();\n  },\n\n  _updateSelected: () => {\n    _ENV.myDIV.querySelectorAll('div.state button').forEach(_b => {\n      _b.classList.remove('selected');\n    });\n    if (_state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.getSelectedState() !== null) {\n      console.log('Update selected', {selected: _state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.getSelectedState()});  // TODO: REMOVE DEBUG LOG 📏⏳🔍\n      _ENV.myDIV.querySelector(`div.state[data-id=\"${_state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.getSelectedState().id}\"] button`).classList.add('selected');\n    }\n    \n  },\n\n  _listenStateChanges: (_event) => {\n    _STATES_LIST.update();\n  },\n\n  _onClickButtonState: (_event) => {\n    const _id = _event.target.parentElement.getAttribute('data-id');\n    _state_location_js__WEBPACK_IMPORTED_MODULE_2__.default.changeView({urlView:`data/state/${_id}/edit/`});  // Redirect to 'edit state'\n  },\n\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_STATES_LIST);\n\n//# sourceURL=webpack://frontend-industry/./src/components/sidebar-state-editor/states-list.js?");

/***/ }),

/***/ "./src/components/toast/index.js":
/*!***************************************!*\
  !*** ./src/components/toast/index.js ***!
  \***************************************/
/*! namespace exports */
/*! export Toast [provided] [no usage info] [missing usage info prevents renaming] */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Toast\": () => /* binding */ Toast,\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n\n\n\n/**\n * @see https://www.w3schools.com/howto/howto_js_snackbar.asp\n * @see https://github.com/dgknca/simple-notify\n */\n\nconst _TOAST = {\n  openToast: ({ element, delay=3000 }) => {\n    element.classList.add('show');  // Add the \"show\" class to DIV\n\n    // After 3 seconds, remove the show class from DIV\n    setTimeout(() => { element.classList.remove('show'); }, delay);\n  }\n};\n\nclass Toast {\n  constructor({ element }) {\n    this._element = element;\n    this.open = this.open.bind(this);\n }\n\n  dispose() {\n    delete this._element;\n  }\n\n  open({ delay=3000 }) {\n    _TOAST.openToast({ element: this._element, delay });\n  }\n}\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_TOAST);\n\n//# sourceURL=webpack://frontend-industry/./src/components/toast/index.js?");

/***/ }),

/***/ "./src/design/index.js":
/*!*****************************!*\
  !*** ./src/design/index.js ***!
  \*****************************/
/*! namespace exports */
/*! exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var normalize_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! normalize.css */ \"./node_modules/normalize.css/normalize.css\");\n/* harmony import */ var _common_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common.css */ \"./src/design/common.css\");\n/* harmony import */ var _layouts_layouts_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layouts/layouts.css */ \"./src/layouts/layouts.css\");\n/* harmony import */ var _views_views_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/views.css */ \"./src/views/views.css\");\n/* harmony import */ var _components_components_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/components.css */ \"./src/components/components.css\");\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://frontend-industry/./src/design/index.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! namespace exports */
/*! exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./state */ \"./src/state/index.js\");\n/* harmony import */ var _design__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./design */ \"./src/design/index.js\");\n/* harmony import */ var _layouts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./layouts */ \"./src/layouts/index.js\");\n/* harmony import */ var _router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./router */ \"./src/router/index.js\");\n\n\n\n\n\n\n_state__WEBPACK_IMPORTED_MODULE_0__.default.init();  // Initialize state\n\n_layouts__WEBPACK_IMPORTED_MODULE_2__.default.init();  // Initialize layouts\n_layouts__WEBPACK_IMPORTED_MODULE_2__.default.render();\n\n_router__WEBPACK_IMPORTED_MODULE_3__.default.init({ \n  container: _layouts__WEBPACK_IMPORTED_MODULE_2__.default.getLayouts().main.getComponent(),\n  // basePath: '/hyperdiagram/editor/'\n}); // Initialize router\n\n//# sourceURL=webpack://frontend-industry/./src/index.js?");

/***/ }),

/***/ "./src/layouts/header.js":
/*!*******************************!*\
  !*** ./src/layouts/header.js ***!
  \*******************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _state_location_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../state/location.js */ \"./src/state/location.js\");\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit-html */ \"./node_modules/lit-html/lit-html.js\");\n/* harmony import */ var _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/diagram-manager.js */ \"./src/utils/diagram-manager.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// @see https://stackoverflow.com/questions/3582671/how-to-open-a-local-disk-file-with-javascript 🧩📌\r\nfunction readSingleFile(e) {\r\n  var file = e.target.files[0];\r\n  if (!file) {\r\n    return;\r\n  }\r\n  var reader = new FileReader();\r\n  reader.onload = function(e) {\r\n    var contents = e.target.result;\r\n    // displayContents(contents);\r\n    const data = JSON.parse(contents);\r\n    _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_2__.default.loadDATA({ data });\r\n  };\r\n  reader.readAsText(file);\r\n}\r\n\r\n// @see https://code-boxx.com/create-save-files-javascript/ 🧩📌\r\nasync function saveFile({ content }) {\r\n  const fileHandle = await window.showSaveFilePicker();\r\n  const fileStream = await fileHandle.createWritable();\r\n  await fileStream.write(new Blob([content], {type: \"text/plain\"}));\r\n  await fileStream.close();\r\n}\r\n\r\n\r\nconst _ENV = {\r\n  myDIV: null,\r\n};\r\n\r\nconst _HEADER = {\r\n  _env: _ENV,\r\n\r\n  init: () => {\r\n    const { _env } = _HEADER;\r\n    _env.myDIV = document.createElement('div');\r\n    _env.myDIV.classList.add(\"header\");\r\n  },\r\n\r\n  getComponent() {\r\n    const { _env } = _HEADER;\r\n    return _env.myDIV;\r\n  },\r\n\r\n  _render: () => {\r\n    const { _env } = _HEADER;\r\n    const _innerHTML = lit_html__WEBPACK_IMPORTED_MODULE_1__.html`\r\n      <h1>HyperDiagram</h1>\r\n      <div class=\"Buttons\">\r\n        <button data-name=\"diagram\" @click=${_HEADER._onClickButton}>📐 Diagram</button>\r\n        <button data-name=\"data\" @click=${_HEADER._onClickButton}>📚 Data</button>\r\n        <button data-name=\"load-hyperdiagram\" @click=${_HEADER._onClickButton}>📖 Load</button>\r\n        <button data-name=\"save-hyperdiagram\" @click=${_HEADER._onClickButton}>💾 Save</button>\r\n      </div>\r\n      <input type=\"file\" id=\"file-input\" @change=${readSingleFile}/>\r\n    `;\r\n    (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.render)(_innerHTML, _env.myDIV);\r\n  },\r\n\r\n  update: () => {\r\n    _HEADER._render();\r\n  },\r\n\r\n  _onClickButton: (_event) => {\r\n    const _name = _event.target.getAttribute('data-name');\r\n\r\n    switch (_name) {\r\n      case 'diagram':\r\n        _state_location_js__WEBPACK_IMPORTED_MODULE_0__.default.changeView({ urlView: 'diagram' });\r\n        break;\r\n\r\n      case 'data':\r\n        _state_location_js__WEBPACK_IMPORTED_MODULE_0__.default.changeView({ urlView: 'data/state' });\r\n        break;\r\n\r\n      case 'load-hyperdiagram':\r\n        _ENV.myDIV.querySelector('#file-input').click();\r\n        break;\r\n\r\n      case 'save-hyperdiagram':\r\n        saveFile({ content: _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_2__.default.getDATA() });\r\n        break;\r\n    \r\n      default:\r\n        break;\r\n    }\r\n  },\r\n};\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_HEADER);\n\n//# sourceURL=webpack://frontend-industry/./src/layouts/header.js?");

/***/ }),

/***/ "./src/layouts/index.js":
/*!******************************!*\
  !*** ./src/layouts/index.js ***!
  \******************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _header_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./header.js */ \"./src/layouts/header.js\");\n/* harmony import */ var _sidebar_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sidebar.js */ \"./src/layouts/sidebar.js\");\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./main.js */ \"./src/layouts/main.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst _LAYOUT = {\r\n  _env: {\r\n    initialized: false,\r\n    layouts: {},\r\n    bodyContainer: null,\r\n    mainContainer: null,\r\n  },\r\n\r\n  init: () => {\r\n    const {_env} = _LAYOUT;\r\n    if (_env.initialized === true) { return; }\r\n\r\n    _env.bodyContainer = document.createElement('div');\r\n    _env.bodyContainer.classList.add(\"bodyContainer\");\r\n    document.body.appendChild(_env.bodyContainer);    \r\n\r\n    _header_js__WEBPACK_IMPORTED_MODULE_0__.default.init();\r\n    _env.bodyContainer.appendChild(_header_js__WEBPACK_IMPORTED_MODULE_0__.default.getComponent());\r\n    _env.layouts.header = _header_js__WEBPACK_IMPORTED_MODULE_0__.default;\r\n\r\n    _env.mainContainer = document.createElement('div'); // Contains 'sidebar' and 'main' layers\r\n    _env.mainContainer.classList.add(\"mainContainer\");\r\n    _env.bodyContainer.appendChild(_env.mainContainer);\r\n\r\n    _sidebar_js__WEBPACK_IMPORTED_MODULE_1__.default.init();\r\n    _env.mainContainer.appendChild(_sidebar_js__WEBPACK_IMPORTED_MODULE_1__.default.getComponent());\r\n    _env.layouts.sidebar = _sidebar_js__WEBPACK_IMPORTED_MODULE_1__.default;\r\n    _main_js__WEBPACK_IMPORTED_MODULE_2__.default.init();\r\n    _env.mainContainer.appendChild(_main_js__WEBPACK_IMPORTED_MODULE_2__.default.getComponent());\r\n    _env.layouts.main = _main_js__WEBPACK_IMPORTED_MODULE_2__.default;\r\n\r\n    _env.initialized = true;\r\n  },\r\n\r\n  getLayouts: () => { return _LAYOUT._env.layouts; },\r\n\r\n  render: () => {\r\n    _header_js__WEBPACK_IMPORTED_MODULE_0__.default.update();\r\n    _sidebar_js__WEBPACK_IMPORTED_MODULE_1__.default.update();\r\n    _main_js__WEBPACK_IMPORTED_MODULE_2__.default.update();\r\n  },\r\n\r\n};\r\n\r\n// HOT MODULE REPLACEMENT !!!\r\nif (false) {}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_LAYOUT);\n\n//# sourceURL=webpack://frontend-industry/./src/layouts/index.js?");

/***/ }),

/***/ "./src/layouts/main.js":
/*!*****************************!*\
  !*** ./src/layouts/main.js ***!
  \*****************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ \"./node_modules/lit-html/lit-html.js\");\n\n\n\nconst _MAIN = {\n  _env: {\n    myDIV: null,\n  },\n\n  init: () => {\n    const { _env } = _MAIN;\n    _env.myDIV = document.createElement('div');\n    _env.myDIV.classList.add(\"main\");\n  },\n\n  getComponent() {\n    const { _env } = _MAIN;\n    return _env.myDIV;\n  },\n\n  _render: () => {\n    const { _env } = _MAIN;\n    const _innerHTML = lit_html__WEBPACK_IMPORTED_MODULE_0__.html`<h1>Main</h1>`;\n    (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(_innerHTML, _env.myDIV);\n  },\n\n  update: () => {\n   _MAIN._render();\n  },\n\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_MAIN);\n\n//# sourceURL=webpack://frontend-industry/./src/layouts/main.js?");

/***/ }),

/***/ "./src/layouts/sidebar.js":
/*!********************************!*\
  !*** ./src/layouts/sidebar.js ***!
  \********************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ \"./node_modules/lit-html/lit-html.js\");\n/* harmony import */ var _state_location_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../state/location.js */ \"./src/state/location.js\");\n/* harmony import */ var _components_sidebar_diagram__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/sidebar-diagram */ \"./src/components/sidebar-diagram/index.js\");\n/* harmony import */ var _components_sidebar_state_editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/sidebar-state-editor */ \"./src/components/sidebar-state-editor/index.js\");\n'import strict';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst _ENV = {\r\n  myDIV: null,\r\n};\r\n\r\nconst _SIDEBAR = {\r\n  _env: _ENV,\r\n\r\n  init: () => {\r\n    _ENV.myDIV = document.createElement('div');\r\n    _ENV.myDIV.classList.add(\"sidebar\");\r\n\r\n    _components_sidebar_diagram__WEBPACK_IMPORTED_MODULE_2__.default.init();\r\n    _components_sidebar_state_editor__WEBPACK_IMPORTED_MODULE_3__.default.init();\r\n\r\n    _state_location_js__WEBPACK_IMPORTED_MODULE_1__.default.listenLocationChanges({ listener: _SIDEBAR._onLocationChanges });\r\n  },\r\n\r\n  getComponent() {\r\n    return _ENV.myDIV;\r\n  },\r\n\r\n  _render: () => {\r\n    const { title } = _state_location_js__WEBPACK_IMPORTED_MODULE_1__.default.getLocation();\r\n    let _content = null;\r\n\r\n    switch (title) {\r\n      case 'diagram':\r\n        _content = _components_sidebar_diagram__WEBPACK_IMPORTED_MODULE_2__.default.getComponent();\r\n        break;\r\n      \r\n      case 'state-editor':\r\n        _content = _components_sidebar_state_editor__WEBPACK_IMPORTED_MODULE_3__.default.getComponent();\r\n        break;\r\n    \r\n      default:\r\n        break;\r\n    }\r\n\r\n    const _innerHTML = lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\r\n      ${_content}\r\n    `;\r\n    (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(_innerHTML, _ENV.myDIV);\r\n  },\r\n\r\n  update: () => {\r\n    _components_sidebar_diagram__WEBPACK_IMPORTED_MODULE_2__.default.update();\r\n    _components_sidebar_state_editor__WEBPACK_IMPORTED_MODULE_3__.default.update();\r\n    _SIDEBAR._render();\r\n  },\r\n\r\n  _onLocationChanges(_options) {\r\n    _SIDEBAR.update();\r\n  },\r\n\r\n};\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_SIDEBAR);\n\n//# sourceURL=webpack://frontend-industry/./src/layouts/sidebar.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/connection-handler.js":
/*!*********************************************************!*\
  !*** ./src/libs/diagram-renderer/connection-handler.js ***!
  \*********************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../threejs/three.module.js */ \"./src/libs/threejs/three.module.js\");\n/* harmony import */ var _connection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./connection */ \"./src/libs/diagram-renderer/connection/index.js\");\n\n\n\n\nconst _HELPER_CONNECTOR = {\n  model: null,\n  connection: null,\n  type: null,\n  targets: [],\n};\n\nconst _ENV = {\n  diagramHandler: null,\n  manager: null,\n};\n\nconst _CONNECTION_HANDLER = {\n  _env: _ENV,\n\n  init: ({ diagramHandler }) => {\n    const { _env: _diagramHandlerEnv} = diagramHandler;  // Access to other environment ❗⚠🧩\n    _ENV.diagramHandler = diagramHandler;\n\n    _ENV.manager = diagramHandler._env.diagram._env.manager;  // Access to other environment ❗⚠🧩\n\n\n    _diagramHandlerEnv.draggableTypes.CONNECTOR = 'connector';\n    _diagramHandlerEnv.selectableTypes.CONNECTION = 'connection';\n    _CONNECTION_HANDLER._initHelperConnector();\n  },\n\n  _initHelperConnector: () => {\n    const _geometry = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.CylinderGeometry( 0.7, 0.7, 0.3, 9 );\n    const _material = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.MeshBasicMaterial( {color: 0xffff00} );\n    const _cylinder = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Mesh( _geometry, _material );\n    _HELPER_CONNECTOR.model = _cylinder;\n    _HELPER_CONNECTOR.model.geometry.computeBoundingBox();\n  },\n\n  _dragConnector: (_drag) => {\n    if (_drag.dragStart === true) { // Drag start\n      const { diagramHandler } = _ENV;\n      const { _env: _diagramHandlerEnv } = diagramHandler;\n      const { overObject, diagram } = _diagramHandlerEnv;\n      const { scene } = diagram._env;\n      const _handler = _HELPER_CONNECTOR.model;\n      let _connType;\n\n      switch (overObject.userData.type) {\n        case 'step_end':\n          _HELPER_CONNECTOR.type = 'flow';\n          _HELPER_CONNECTOR.targets = diagram._env.models.connectors.stepSTART;\n          break;\n\n        case 'data_out':\n          _HELPER_CONNECTOR.type = 'data';\n          _HELPER_CONNECTOR.targets = diagram._env.models.connectors.dataIN;\n          break;\n      \n        default:\n          break;\n      }\n\n      // Create the connection for the 'connectorHelper'\n      _HELPER_CONNECTOR.connection = _connection__WEBPACK_IMPORTED_MODULE_1__.default.createConnection({\n        type: _HELPER_CONNECTOR.type,\n        startPoint: _HELPER_CONNECTOR.model.getWorldPosition(new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3()),\n        endPoint: _HELPER_CONNECTOR.model.getWorldPosition(new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3()),\n      });\n\n      _connection__WEBPACK_IMPORTED_MODULE_1__.default.setStartPoint({ connection: _HELPER_CONNECTOR.connection, position: _handler.getWorldPosition(new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3()) });\n      _connection__WEBPACK_IMPORTED_MODULE_1__.default.setEndPoint({ connection: _HELPER_CONNECTOR.connection, position: _handler.getWorldPosition(new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3()) });\n      scene.add(_HELPER_CONNECTOR.connection.model);\n\n      console.log('Drag Connector START', { _drag, targets: _HELPER_CONNECTOR.targets });  // TODO: REMOVE DEBUG LOG 📏⏳🔍\n    } else if (_drag.dragEnd === true) {  // Drag end\n      const { diagramHandler } = _ENV;\n      const { _env: _diagramHandlerEnv } = diagramHandler;\n      const { overObject } = _diagramHandlerEnv;\n      const { manager } = _diagramHandlerEnv.diagram._env;\n\n      const _helperBounding = _HELPER_CONNECTOR.model.geometry.boundingBox.clone();  // Bounding for intersection\n      _helperBounding.applyMatrix4(_HELPER_CONNECTOR.model.matrixWorld);\n\n      let _target, _targetBounding;\n      for (let _i = 0; _i < _HELPER_CONNECTOR.targets.length; _i++) {  // Check collision with targets\n        _target = _HELPER_CONNECTOR.targets[_i].model;\n\n        // _target.geometry.computeBoundingBox();\n        _targetBounding = _target.geometry.boundingBox.clone();\n        _targetBounding.applyMatrix4(_target.matrixWorld);\n\n        if (_helperBounding.intersectsBox(_targetBounding) === true) {\n          if (_target.parent.uuid !== overObject.parent.uuid) {\n\n            manager.connections.create({\n              type: _HELPER_CONNECTOR.type,\n              source: overObject.userData.id,\n              target: _target.userData.id,\n            }); // TODO: Create connection 🔍⚠️\n\n            _CONNECTION_HANDLER._checkConnections({\n              type: _HELPER_CONNECTOR.type,\n              source: overObject.userData.id,\n              target: _target.userData.id,\n             });\n\n            // console.log('target!!!', {\n            //   _target, \n            //   parent: _target.parent,\n            // });  // TODO: REMOVE DEBUG LOG 📏⏳🔍\n          }\n          break;\n        }\n      }\n\n      console.log('Drag Connector END', _drag);  // TODO: REMOVE DEBUG LOG 📏⏳🔍\n    } else {  // Still dragging\n      _connection__WEBPACK_IMPORTED_MODULE_1__.default.setEndPoint({\n        connection: _HELPER_CONNECTOR.connection, \n        position: _HELPER_CONNECTOR.connection.endPoint.add(_drag.distance)\n      });\n    }\n  },\n\n  _checkConnections: ({ type, source, target }) => {\n    if ( type !== 'flow') return;  // Only check flow connections\n    const { manager } = _ENV;\n    const _connections = manager.connections.getConnections({ source });\n    _connections.forEach(_c => {\n      if (_c.type === type && _c.target !== target) {  // Delete other flow connections\n        manager.connections.delete({ id: _c.id });\n      }\n    });\n  },\n\n  _intersectionConnector: () => {\n    const { diagramHandler } = _ENV;\n    const { overObject, dragControls, diagram } = diagramHandler._env; // Access to other environment ❗⚠🧩\n    const { scene } = diagram._env;\n    const _draggableObjets = dragControls.getObjects();\n    const _handler = _HELPER_CONNECTOR.model;\n\n    if (diagramHandler._env.dragType !== null && diagramHandler._env.dragType !== 'connector') {\n      diagramHandler._cleanIntersection();\n    }\n\n    if (_draggableObjets.length > 0) {\n      if (_draggableObjets[0].uuid === _handler.uuid) { // still over the same object\n        return;\n      } else {\n        _draggableObjets.length = 0;\n      }\n    }\n\n    let _posSource = overObject.getWorldPosition(new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3());\n    switch (overObject.userData.type) {\n      case 'step_end':\n        _handler.position.set(_posSource.x, -0.2, _posSource.z);\n        // _handler.position.y = -1.5;\n        scene.add(_handler);\n        _draggableObjets.push(_handler);\n        dragControls.transformGroup = true;\n        diagramHandler._env.dragType = 'connector';\n        break;\n\n      case 'data_out':\n        _handler.position.set(_posSource.x, -0.2, _posSource.z);\n        // _handler.position.y = -1.5;\n        scene.add(_handler);\n        _draggableObjets.push(_handler);\n        dragControls.transformGroup = true;\n        diagramHandler._env.dragType = 'connector';\n        break;\n    \n      default:\n        break;\n    }\n  },\n\n  _intersectionConnection: () => {\n    const { diagramHandler } = _ENV;\n    const { overObject, dragControls } = diagramHandler._env;\n    const _draggableObjets = dragControls.getObjects();\n\n    if (_draggableObjets.length > 0) {\n      if (_draggableObjets[0].uuid === overObject.uuid) { // still over the same object\n        return;\n      } else {\n        _draggableObjets.length = 0;\n      }\n    }\n\n    _draggableObjets.push(overObject);\n    dragControls.transformGroup = false;  // Necessary for select the model of the connection\n    diagramHandler._env.dragType = 'connection';\n    // dragControls.enabled = false;\n    // dragControls.deactivate();\n  },\n\n  _dragConnection: (_drag) => {\n    const { diagramHandler } = _ENV;\n    const { overObject, dragControls } = diagramHandler._env;\n    const _draggableObjets = dragControls.getObjects();\n    if (_drag.dragStart === true) { // Drag start\n      // _draggableObjets.length = 0;\n      // dragControls.enabled = false;  // Old method\n      dragControls.nonDraggable();\n      diagramHandler.selection.select({ type: 'connection', id: overObject.userData.id, object: overObject.userData });  // Select the connection\n    } else if (_drag.dragEnd === true) {\n      // dragControls.enabled = true; // Old method\n    }\n  },\n\n  _cleanIntersection: () => {\n    const { diagramHandler } = _ENV;\n    const { diagram } = diagramHandler._env;\n    const { scene } = diagram._env;\n\n    scene.remove(_HELPER_CONNECTOR.model);\n\n    if (_HELPER_CONNECTOR.connection !== null) {  // Remove connection if it's necessary\n      scene.remove(_HELPER_CONNECTOR.connection.model);\n      _connection__WEBPACK_IMPORTED_MODULE_1__.default.disposeConnection({ connection: _HELPER_CONNECTOR.connection });\n      _HELPER_CONNECTOR.connection = null;\n    }\n  },\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_CONNECTION_HANDLER);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/connection-handler.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/connection/basisLine.js":
/*!***********************************************************!*\
  !*** ./src/libs/diagram-renderer/connection/basisLine.js ***!
  \***********************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../threejs/three.module.js */ \"./src/libs/threejs/three.module.js\");\n\n\n\n\n\nconst _BASISLINE = {\n  _MODEL: null,\n\n  init: ({ model }) => {\n    _BASISLINE._MODEL = model;\n\n    const _flowMaterialDefault = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.LineBasicMaterial( { color: 0x0000ff, linewidth: 5 } );\n    model.flow.material.default = _flowMaterialDefault;\n\n    const _flowMaterialSelected = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.LineBasicMaterial( { color: 0x00ffff, linewidth: 5 } );\n    model.flow.material.selected = _flowMaterialSelected;\n\n    const _dataMaterialDefault = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.LineBasicMaterial( { color: 0xff0000, linewidth: 5 } );\n    model.data.material.default = _dataMaterialDefault;\n\n    const _dataMaterialSelected = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.LineBasicMaterial( { color: 0xffff00, linewidth: 5 } );\n    model.data.material.selected = _dataMaterialSelected;\n  },\n\n  createConnection: ({ type, startPoint, endPoint }) => {\n    // const _material = new THREE.LineBasicMaterial( { color: 0x0000ff, linewidth: 5 } );\n    const _geometry = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.BufferGeometry().setFromPoints([startPoint, endPoint]);\n\n    let _material;  // Select the material, depends on connection type\n    switch (type) {\n      case 'flow':\n        _material = _BASISLINE._MODEL.flow.material.default;\n        break;\n      \n      case 'data':\n        _material = _BASISLINE._MODEL.data.material.default;\n        break;\n    \n      default:\n        break;\n    }\n\n    const _line = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Line( _geometry, _material );\n    _line.userData = {\n      ..._line.userData,\n      class: 'connection',\n      type,\n    };\n\n    return {\n      type,\n      startPoint,\n      endPoint,\n      model: _line,\n    };\n  },\n  \n  setStartPoint: ({ connection, position }) => {\n    const { array: _array } = connection.model.geometry.attributes.position;\n    _array[0] = position.x;\n    _array[1] = position.y;\n    _array[2] = position.z;\n    connection.model.geometry.attributes.position.needsUpdate = true;\n    connection.startPoint = position;\n  },\n\n  setEndPoint: ({ connection, position }) => {\n    const { array: _array } = connection.model.geometry.attributes.position;\n    _array[3] = position.x;\n    _array[4] = position.y;\n    _array[5] = position.z;\n    connection.model.geometry.attributes.position.needsUpdate = true;\n    connection.endPoint = position;\n  },\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_BASISLINE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/connection/basisLine.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/connection/connection.js":
/*!************************************************************!*\
  !*** ./src/libs/diagram-renderer/connection/connection.js ***!
  \************************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _basisLine_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basisLine.js */ \"./src/libs/diagram-renderer/connection/basisLine.js\");\n/* harmony import */ var _meshLine_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./meshLine.js */ \"./src/libs/diagram-renderer/connection/meshLine.js\");\n/* harmony import */ var _tubeLine_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tubeLine.js */ \"./src/libs/diagram-renderer/connection/tubeLine.js\");\n\n\n\n\n\nconst _MODEL_CONNECTION = {\n  flow: {\n    material: {\n      default: null,\n      selected: null,\n    },\n  },\n  data: {\n    material: {\n      default: null,\n      selected: null,\n    },\n  },\n};\n\nconst _CONNECTION = {\n  init: () => {\n    // _CONNECTION.createConnection = BASISLINE.createConnection,\n    // _CONNECTION.setStartPoint = BASISLINE.setStartPoint,\n    // _CONNECTION.setEndPoint = BASISLINE.setEndPoint,\n    // BASISLINE.init({ model: _MODEL_CONNECTION });\n\n    _CONNECTION.createConnection = _meshLine_js__WEBPACK_IMPORTED_MODULE_1__.default.createConnection,\n    _CONNECTION.setStartPoint = _meshLine_js__WEBPACK_IMPORTED_MODULE_1__.default.setStartPoint,\n    _CONNECTION.setEndPoint = _meshLine_js__WEBPACK_IMPORTED_MODULE_1__.default.setEndPoint,\n    _meshLine_js__WEBPACK_IMPORTED_MODULE_1__.default.init({ model: _MODEL_CONNECTION });\n\n    // _CONNECTION.createConnection = TUBELINE.createConnection,\n    // _CONNECTION.setStartPoint = TUBELINE.setStartPoint,\n    // _CONNECTION.setEndPoint = TUBELINE.setEndPoint,\n    // TUBELINE.init({ model: _MODEL_CONNECTION });\n  },\n\n  selectConnection: ({ connection }) => {\n    let _material;  // Select the material\n    switch (connection.type) {\n      case 'flow':\n        _material = _MODEL_CONNECTION.flow.material.selected;\n        break;\n      \n      case 'data':\n        _material = _MODEL_CONNECTION.data.material.selected;\n        break;\n    \n      default:\n        break;\n    }\n\n    connection.model.material = _material;\n  },\n\n  unSelectConnection: ({ connection }) => {\n    let _material;  // Select the material\n    switch (connection.type) {\n      case 'flow':\n        _material = _MODEL_CONNECTION.flow.material.default;\n        break;\n      \n      case 'data':\n        _material = _MODEL_CONNECTION.data.material.default;\n        break;\n    \n      default:\n        break;\n    }\n\n    connection.model.material = _material;\n  },\n\n  disposeConnection: ({ connection }) => {\n    connection.model.geometry.dispose();\n    connection.meshLine && connection.meshLine.dispose();\n\n    connection = null;\n  },\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_CONNECTION);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/connection/connection.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/connection/index.js":
/*!*******************************************************!*\
  !*** ./src/libs/diagram-renderer/connection/index.js ***!
  \*******************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _connection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./connection */ \"./src/libs/diagram-renderer/connection/connection.js\");\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_connection__WEBPACK_IMPORTED_MODULE_0__.default);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/connection/index.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/connection/meshLine.js":
/*!**********************************************************!*\
  !*** ./src/libs/diagram-renderer/connection/meshLine.js ***!
  \**********************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../threejs/three.module.js */ \"./src/libs/threejs/three.module.js\");\n/* harmony import */ var _threejs_THREE_MeshLine_r134_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../threejs/THREE.MeshLine-r134.js */ \"./src/libs/threejs/THREE.MeshLine-r134.js\");\n/* harmony import */ var _threejs_THREE_MeshLine_r134_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_threejs_THREE_MeshLine_r134_js__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nconst _MESHLINE = {\n  _MODEL: null,\n\n  init: ({ model }) => {\n    _MESHLINE._MODEL = model;\n\n    const _flowMaterialDefault = new _threejs_THREE_MeshLine_r134_js__WEBPACK_IMPORTED_MODULE_1__.MeshLineMaterial( {\n      useMap: false,\n      color: new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Color( 0x0000ff ),\n      dashRatio: 0,\n      opacity: 1,\n      // resolution: _CONNECTION._env.resolution,\n      sizeAttenuation: true,\n      lineWidth: 0.3,\n    });\n    _MESHLINE._MODEL.flow.material.default = _flowMaterialDefault;\n\n    const _flowMaterialSelected = new _threejs_THREE_MeshLine_r134_js__WEBPACK_IMPORTED_MODULE_1__.MeshLineMaterial( {\n      useMap: false,\n      color: new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Color( 0x00ffff ),\n      dashRatio: 0,\n      opacity: 1,\n      // resolution: _CONNECTION._env.resolution,\n      sizeAttenuation: true,\n      lineWidth: 0.3,\n    });\n    _MESHLINE._MODEL.flow.material.selected = _flowMaterialSelected;\n\n    const _dataMaterialDefault = new _threejs_THREE_MeshLine_r134_js__WEBPACK_IMPORTED_MODULE_1__.MeshLineMaterial( {\n      useMap: false,\n      color: new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Color( 0xff0000 ),\n      dashRatio: 0,\n      opacity: 1,\n      sizeAttenuation: true,\n      lineWidth: 0.3,\n    });\n    _MESHLINE._MODEL.data.material.default = _dataMaterialDefault;\n\n    const _dataMaterialSelected = new _threejs_THREE_MeshLine_r134_js__WEBPACK_IMPORTED_MODULE_1__.MeshLineMaterial( {\n      useMap: false,\n      color: new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Color( 0xffff00 ),\n      dashRatio: 0,\n      opacity: 1,\n      // resolution: _CONNECTION._env.resolution,\n      sizeAttenuation: true,\n      lineWidth: 0.3,\n    });\n    _MESHLINE._MODEL.data.material.selected = _dataMaterialSelected;\n  },\n\n  createConnection: ({ type, startPoint, endPoint }) => {\n    const _geometry = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.BufferGeometry().setFromPoints([ startPoint, endPoint ]);\n    _geometry.dynamic = true;\n\n    const _line = new _threejs_THREE_MeshLine_r134_js__WEBPACK_IMPORTED_MODULE_1__.MeshLine();\n    _line.setGeometry( _geometry );\n\n    let _material;  // Select the material, depends on connection type\n    switch (type) {\n      case 'flow':\n        _material = _MESHLINE._MODEL.flow.material.default;\n        break;\n      \n      case 'data':\n        _material = _MESHLINE._MODEL.data.material.default;\n        break;\n    \n      default:\n        break;\n    }\n\n    const _meshLine = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Mesh( _line.geometry, _material );\n    // _meshLine.geometry.computeFaceNormals();\n    _meshLine.raycast = _threejs_THREE_MeshLine_r134_js__WEBPACK_IMPORTED_MODULE_1__.MeshLineRaycast;\n\n    _meshLine.userData = {\n      ..._meshLine.userData,\n      class: 'connection',\n      type,\n    };\n\n    return {\n      type,\n      startPoint,\n      endPoint,\n      meshLine: _line,\n      model: _meshLine,\n    };\n  },\n\n  setStartPoint: ({ connection, position }) => {\n    const { points } = connection.model.geometry;\n    const _endPoint = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3(points[3], points[4], points[5]);\n    \n    const _geometry = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.BufferGeometry().setFromPoints([ position, _endPoint ]);\n    connection.meshLine.setGeometry(_geometry);\n\n    connection.startPoint = position;\n  },\n\n  setEndPoint: ({ connection, position }) => {\n    const { points } = connection.model.geometry;\n    // const _startPoint = points[0];\n    const _startPoint = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3(points[0], points[1], points[2]);\n\n    const _geometry = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.BufferGeometry().setFromPoints([ _startPoint, position ]);\n    connection.meshLine.setGeometry(_geometry);\n\n    connection.endPoint = position;\n  },\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_MESHLINE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/connection/meshLine.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/connection/tubeLine.js":
/*!**********************************************************!*\
  !*** ./src/libs/diagram-renderer/connection/tubeLine.js ***!
  \**********************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../threejs/three.module.js */ \"./src/libs/threejs/three.module.js\");\n\n\n\n\n/*\n  https://stackoverflow.com/questions/11638883/thickness-of-lines-using-three-linebasicmaterial\n*/\nconst _exmaple = () => {\n  // line material\n  var lineMaterial = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.LineBasicMaterial({ color: 0x00ff00 });\n\n\n  let startVector = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3(\n    RADI * Math.cos(t),\n    RADI * Math.sin(t),\n    3 * t\n  );\n  let endVector = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3(\n    RADI * Math.cos(t + 10),\n    RADI * Math.sin(t + 10),\n    3 * t\n  );\n\n  let linePoints = [];\n  linePoints.push(startVector, endVector);\n\n  // Create Tube Geometry\n  var tubeGeometry = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.TubeGeometry(\n    new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.CatmullRomCurve3(linePoints),\n    512,// path segments\n    0.5,// THICKNESS\n    8, //Roundness of Tube\n    false //closed\n  );\n\n  let line = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Line(tubeGeometry, lineMaterial);\n  scene.add(line);\n};\n\n\nconst _TUBELINE = {\n  _MODEL: null,\n\n  init: ({ model }) => {\n    _TUBELINE._MODEL = model;\n\n    const _flowMaterialDefault = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.LineBasicMaterial( { color: 0x0000ff } );\n    model.flow.material.default = _flowMaterialDefault;\n\n    const _flowMaterialSelected = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.LineBasicMaterial( { color: 0x00ffff } );\n    model.flow.material.selected = _flowMaterialSelected;\n\n    const _dataMaterialDefault = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.LineBasicMaterial( { color: 0xff0000 } );\n    model.data.material.default = _dataMaterialDefault;\n\n    const _dataMaterialSelected = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.LineBasicMaterial( { color: 0xffff00 } );\n    model.data.material.selected = _dataMaterialSelected;\n  },\n\n  createConnection: ({ type, startPoint, endPoint }) => {\n    // Create Tube Geometry\n    const _tubeGeometry = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.TubeGeometry(\n      new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.CatmullRomCurve3([startPoint, endPoint]),\n      10,// path segments\n      0.5,// THICKNESS\n      4, //Roundness of Tube\n      false //closed\n    );\n\n    let _material;  // Select the material, depends on connection type\n    switch (type) {\n      case 'flow':\n        _material = _TUBELINE._MODEL.flow.material.default;\n        break;\n      \n      case 'data':\n        _material = _TUBELINE._MODEL.data.material.default;\n        break;\n    \n      default:\n        break;\n    }\n\n    const _line = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Line( _tubeGeometry, _material );\n    _line.userData = {\n      ..._line.userData,\n      class: 'connection',\n      type,\n    };\n\n    return {\n      type,\n      startPoint,\n      endPoint,\n      model: _line,\n    };\n  },\n\n  setStartPoint: ({ connection, position }) => {\n    const { array: _array } = connection.model.geometry.attributes.position;\n    _array[0] = position.x;\n    _array[1] = position.y;\n    _array[2] = position.z;\n    connection.model.geometry.attributes.position.needsUpdate = true;\n    connection.startPoint = position;\n  },\n\n  setEndPoint: ({ connection, position }) => {\n    const { array: _array } = connection.model.geometry.attributes.position;\n    _array[3] = position.x;\n    _array[4] = position.y;\n    _array[5] = position.z;\n    connection.model.geometry.attributes.position.needsUpdate = true;\n    connection.endPoint = position;\n  },\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_TUBELINE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/connection/tubeLine.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/defs-nodes/data-state-default.js":
/*!********************************************************************!*\
  !*** ./src/libs/diagram-renderer/defs-nodes/data-state-default.js ***!
  \********************************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n\n\n\nconst _MODEL_NODE = {\n  head: {\n    geometry: null,\n    material: {\n      default: null,\n    },\n  },\n  body: {\n    shape: null,\n    geometry: null,\n    material: {\n      default: null,\n      selected: null,\n    },\n  },\n};\n\nconst _ENV = {\n  initialized: false,\n  builder: null,\n};\n\n\nconst _NODE = {\n  def: {\n    name: 'data state default',\n    category: 'data',\n    family: 'state',\n    type: 'default',\n    connectors: [\n      { type: 'data-in' },\n      { type: 'data-out' }\n    ],\n  },\n\n  _env: _ENV,\n\n  init: ({ builder }) => {\n    if (_ENV.initialized !== false) { return; } // Already initialized ⚠⚠⚠\n    _ENV.builder = builder;\n    _NODE.initNodeModel();\n  },\n\n  initNodeModel: () => {\n    const { head, body } = _MODEL_NODE;\n    const { builder } = _ENV;\n    const _NODE_CONSTANTS = builder.CONSTANTS;\n    const { THREE } = builder._env;\n\n    head.material.default = new THREE.MeshBasicMaterial( {color: 0x555555} );\n    head.geometry = new THREE.BoxBufferGeometry( 4, _NODE_CONSTANTS.NODE_HEIGHT, 1 );\n\n    body.material.default = new THREE.MeshBasicMaterial( {color: 0x333333} );\n    body.material.selected = new THREE.MeshBasicMaterial( {color: 0x556666} );\n\n    const _bodyShape = new THREE.Shape();\n    _bodyShape.moveTo(-1.5, 2);\n    _bodyShape.lineTo(1.5, 2);\n    _bodyShape.lineTo(2, 1.5);\n    _bodyShape.lineTo(2, -2);\n    _bodyShape.lineTo(-2, -2);\n    _bodyShape.lineTo(-2, 1.5);\n    _bodyShape.lineTo(-1.5, 2);\n    body.shape = _bodyShape;\n    body.geometry = new THREE.ExtrudeBufferGeometry( body.shape, {\n      amount: _NODE_CONSTANTS.NODE_HEIGHT,\n      bevelEnabled: false,\n    });\n  },\n\n  create: ({ node }) => {\n    const { builder } = _ENV;\n    const _NODE_CONSTANTS = builder.CONSTANTS;\n    const { THREE, TEXT } = builder._env;\n\n    const _node = {\n      connector_start: null,\n      connectors_end: [],\n      connector_dataIN: null,\n      connector_dataOUT: null,\n      model: null,\n    };\n\n    const _group = new THREE.Group();\n\n    const _head = new THREE.Mesh( // Node header\n      _MODEL_NODE.head.geometry,\n      _MODEL_NODE.head.material.default\n      );\n    _head.position.set(0, 0, 0.5);\n    _head.userData = {\n      ..._head.userData,\n      class: 'node-head',\n    };\n    _group.add(_head);\n\n    // Create the text\n    const text = node.extra.state.name.substring(0, 11);\n    const _title = TEXT.createText({ text, size: 0.25, height: 0 }).model;\n    _title.position.set(0, -0.155, 0.5);\n    _title.userData = {\n      ..._title.userData,\n      class: 'text',\n    };\n    _group.add(_title);\n\n    const _body = new THREE.Mesh( // Node body\n      _MODEL_NODE.body.geometry,\n      _MODEL_NODE.body.material.default\n      );\n    _body.rotateX(90 * Math.PI / 180.0);\n    _body.position.set(0, 0.17, 0);\n    _body.userData = {\n      ..._body.userData,\n      class: 'node-body',\n    };\n    _group.add(_body);\n\n    const _dataOUT = builder.createConnector({ type: _NODE_CONSTANTS.CONNECTORS.DATA_OUT });\n    const _dataOUTModel = _dataOUT.model;\n    _dataOUTModel.rotateZ(90 * Math.PI / 180.0);\n    _dataOUTModel.position.set(-1, -0.1, 2);\n    _group.add(_dataOUTModel);\n    _node.connector_dataOUT = _dataOUT;\n\n    const _dataIN = builder.createConnector({ type: _NODE_CONSTANTS.CONNECTORS.DATA_IN });\n    const _dataINModel = _dataIN.model;\n    _dataINModel.rotateZ(-90 * Math.PI / 180.0);\n    _dataINModel.position.set(1, -0.1, 2);\n    _group.add(_dataINModel);\n    _node.connector_dataIN = _dataIN;\n\n    _group.userData = {\n      ..._group.userData,\n      class: 'node',\n      category: 'data',\n      family: 'state',\n      type: 'default',\n    };\n\n    _node.model = _group;\n    return _node;\n  },\n\n  delete: ({ node }) => {},\n\n  select: ({ node }) => {\n    const _shapeBody = node.model.children.find(_child => _child.userData.class === 'node-body');\n    _shapeBody.material = _MODEL_NODE.body.material.selected;\n  },\n\n  unSelect: ({ node }) => {\n    const _shapeBody = node.model.children.find(_child => _child.userData.class === 'node-body');\n    _shapeBody.material = _MODEL_NODE.body.material.default;\n  },\n\n  dispose: ({ node }) => {},\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/defs-nodes/data-state-default.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/defs-nodes/flow-signal-emit.js":
/*!******************************************************************!*\
  !*** ./src/libs/diagram-renderer/defs-nodes/flow-signal-emit.js ***!
  \******************************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n\n\n\nconst _MODEL_NODE = {\n  head: {\n    geometry: null,\n    material: {\n      default: null,\n    },\n  },\n  body: {\n    shape: null,\n    geometry: null,\n    material: {\n      default: null,\n      selected: null,\n    },\n  },\n};\n\n\nconst _ENV = {\n  initialized: false,\n  builder: null,\n};\n\n\nconst _NODE = {\n  def: {\n    name: 'flow signal emit',\n    category: 'flow',\n    family: 'signal',\n    type: 'emit',\n    connectors: [\n      { type: 'step-start' },\n    ],\n  },\n\n  _env: _ENV,\n\n  init: ({ builder }) => {\n    if (_ENV.initialized !== false) { return; } // Already initialized ⚠⚠⚠\n    _ENV.builder = builder;\n    _NODE.initNodeModel();\n    _ENV.initialized = true;\n  },\n\n  initNodeModel: () => {  // Initialize materials and geometries\n    const { body, head } = _MODEL_NODE;\n    const { builder } = _ENV;\n    const _NODE_CONSTANTS = builder.CONSTANTS;\n    const { THREE } = builder._env;\n\n    head.material.default = new THREE.MeshBasicMaterial( {color: 0x555555} );\n    head.geometry = new THREE.BoxBufferGeometry( 4, _NODE_CONSTANTS.NODE_HEIGHT, 1 );\n\n    body.material.default = new THREE.MeshBasicMaterial( {color: 0x333333} );\n    body.material.selected = new THREE.MeshBasicMaterial( {color: 0x556666} );\n\n    const _bodyShape = new THREE.Shape();\n    _bodyShape.moveTo(-2, 2);\n    _bodyShape.lineTo(1, 2);\n    _bodyShape.lineTo(2, 0);\n    _bodyShape.lineTo(1, -2);\n    _bodyShape.lineTo(-2, -2);\n    _bodyShape.lineTo(-2, 2);\n    body.shape = _bodyShape;\n    body.geometry = new THREE.ExtrudeBufferGeometry( body.shape, {\n      amount: _NODE_CONSTANTS.NODE_HEIGHT,\n      bevelEnabled: false,\n    });\n  },\n\n  create: () => {\n    // Create the node. \n    const { builder } = _ENV;\n    const _NODE_CONSTANTS = builder.CONSTANTS;\n    const { THREE, TEXT } = builder._env;\n\n    const _node = {\n      connector_start: null,\n      connectors_end: [],\n      connector_dataIN: null,\n      connector_dataOUT: null,\n      model: null,\n    };\n\n    const _group = new THREE.Group();\n\n    const _head = new THREE.Mesh( // Node header\n      _MODEL_NODE.head.geometry,\n      _MODEL_NODE.head.material.default\n      );\n    _head.position.set(0, 0, 1.5);\n    _head.userData = {\n      ..._head.userData,\n      class: 'node-head',\n    };\n    _group.add(_head);\n\n    const _title = TEXT.createText({ text: 'signal', size: 0.25, height: 0 }).model;\n    _title.position.set(0, -0.155, 1.5);\n    _title.userData = {\n      ..._title.userData,\n      class: 'text',\n    };\n    _group.add(_title);\n\n    const _body = new THREE.Mesh( // Node body\n      _MODEL_NODE.body.geometry,\n      _MODEL_NODE.body.material.default\n      );\n    _body.rotateX(90 * Math.PI / 180.0);\n    _body.position.set(0, 0.17, -1);\n    _body.userData = {\n      ..._body.userData,\n      class: 'node-body',\n    };\n    _group.add(_body);\n\n    const _stepStart = builder.createConnector({ type: _NODE_CONSTANTS.CONNECTORS.STEP_START });\n    const _stepStartModel = _stepStart.model;\n    _stepStartModel.position.set(-2, -0.1, -1);\n    _group.add(_stepStartModel);\n    _node.connector_start = _stepStart;\n\n    _group.userData = {\n      ..._group.userData,\n      class: 'node',\n      category: 'flow',\n      family: 'signal',\n      type: 'emit'\n    };\n\n    _node.model = _group;\n    return _node;\n  },\n\n  delete: ({ node }) => {},\n\n  select: ({ node }) => {\n    const _shapeBody = node.model.children.find(_child => _child.userData.class === 'node-body');\n    _shapeBody.material = _MODEL_NODE.body.material.selected;\n  },\n\n  unSelect: ({ node }) => {\n    const _shapeBody = node.model.children.find(_child => _child.userData.class === 'node-body');\n    _shapeBody.material = _MODEL_NODE.body.material.default;\n  },\n\n  dispose: ({ node }) => {},\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/defs-nodes/flow-signal-emit.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/defs-nodes/flow-signal-listen.js":
/*!********************************************************************!*\
  !*** ./src/libs/diagram-renderer/defs-nodes/flow-signal-listen.js ***!
  \********************************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n\n\n\nconst _MODEL_NODE = {\n  head: {\n    geometry: null,\n    material: {\n      default: null,\n    },\n  },\n  body: {\n    shape: null,\n    geometry: null,\n    material: {\n      default: null,\n      selected: null,\n    },\n  },\n};\n\n\nconst _ENV = {\n  initialized: false,\n  builder: null,\n};\n\n\nconst _NODE = {\n  def: {\n    name: 'flow signal listen',\n    category: 'flow',\n    family: 'signal',\n    type: 'listen',\n    connectors: [\n      { type: 'step-end' },\n    ],\n  },\n\n  _env: _ENV,\n\n  init: ({ builder }) => {\n    if (_ENV.initialized !== false) { return; } // Already initialized ⚠⚠⚠\n    _ENV.builder = builder;\n    _NODE.initNodeModel();\n    _ENV.initialized = true;\n  },\n\n  initNodeModel: () => {  // Initialize materials and geometries\n    const { body, head } = _MODEL_NODE;\n    const { builder } = _ENV;\n    const _NODE_CONSTANTS = builder.CONSTANTS;\n    const { THREE } = builder._env;\n\n    head.material.default = new THREE.MeshBasicMaterial( {color: 0x555555} );\n    head.geometry = new THREE.BoxBufferGeometry( 4, _NODE_CONSTANTS.NODE_HEIGHT, 1 );\n\n    body.material.default = new THREE.MeshBasicMaterial( {color: 0x333333} );\n    body.material.selected = new THREE.MeshBasicMaterial( {color: 0x556666} );\n\n    const _bodyShape = new THREE.Shape();\n    _bodyShape.moveTo(-2, 2);\n    _bodyShape.lineTo(2, 2);\n    _bodyShape.lineTo(2, -2);\n    _bodyShape.lineTo(-2, -2);\n    _bodyShape.lineTo(-1, 0);\n    _bodyShape.lineTo(-2, 2);\n    body.shape = _bodyShape;\n    body.geometry = new THREE.ExtrudeBufferGeometry( body.shape, {\n      amount: _NODE_CONSTANTS.NODE_HEIGHT,\n      bevelEnabled: false,\n    });\n  },\n\n  create: () => {\n    // Create the node. \n    const { builder } = _ENV;\n    const _NODE_CONSTANTS = builder.CONSTANTS;\n    const { THREE, TEXT } = builder._env;\n\n    const _node = {\n      connector_start: null,\n      connectors_end: [],\n      connector_dataIN: null,\n      connector_dataOUT: null,\n      model: null,\n    };\n\n    const _group = new THREE.Group();\n\n    const _head = new THREE.Mesh( // Node header\n      _MODEL_NODE.head.geometry,\n      _MODEL_NODE.head.material.default\n      );\n    _head.position.set(0, 0, 1.5);\n    _head.userData = {\n      ..._head.userData,\n      class: 'node-head',\n    };\n    _group.add(_head);\n\n    const _title = TEXT.createText({ text: 'signal', size: 0.25, height: 0 }).model;\n    _title.position.set(0, -0.155, 1.5);\n    _title.userData = {\n      ..._title.userData,\n      class: 'text',\n    };\n    _group.add(_title);\n\n    const _body = new THREE.Mesh( // Node body\n      _MODEL_NODE.body.geometry,\n      _MODEL_NODE.body.material.default\n      );\n    _body.rotateX(90 * Math.PI / 180.0);\n    _body.position.set(0, 0.17, -1);\n    _body.userData = {\n      ..._body.userData,\n      class: 'node-body',\n    };\n    _group.add(_body);\n\n    const _stepEnd = builder.createConnector({ type: _NODE_CONSTANTS.CONNECTORS.STEP_END });\n    const _stepEndModel = _stepEnd.model;\n    _stepEndModel.position.set(2, -0.1, -1);\n    _group.add(_stepEndModel);\n    _node.connectors_end.push(_stepEnd);\n\n    _group.userData = {\n      ..._group.userData,\n      class: 'node',\n      category: 'flow',\n      family: 'signal',\n      type: 'listen'\n    };\n\n    _node.model = _group;\n    return _node;\n  },\n\n  delete: ({ node }) => {},\n\n  select: ({ node }) => {\n    const _shapeBody = node.model.children.find(_child => _child.userData.class === 'node-body');\n    _shapeBody.material = _MODEL_NODE.body.material.selected;\n  },\n\n  unSelect: ({ node }) => {\n    const _shapeBody = node.model.children.find(_child => _child.userData.class === 'node-body');\n    _shapeBody.material = _MODEL_NODE.body.material.default;\n  },\n\n  dispose: ({ node }) => {},\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/defs-nodes/flow-signal-listen.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/defs-nodes/flow-step-default.js":
/*!*******************************************************************!*\
  !*** ./src/libs/diagram-renderer/defs-nodes/flow-step-default.js ***!
  \*******************************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n\n\n\nconst _MODEL_NODE = {\n  head: {\n    geometry: null,\n    material: {\n      default: null,\n    },\n  },\n  body: {\n    geometry: null,\n    material: {\n      default: null,\n      selected: null,\n    },\n  },\n};\n\nconst _ENV = {\n  initialized: false,\n  builder: null,\n};\n\nconst _NODE = {\n  def: {\n    name: 'flow step default',\n    category: 'flow',\n    family: 'step',\n    type: 'default',\n    connectors: [\n      { type: 'step-start' },\n      { type: 'step-end' },\n      { type: 'data-in' },\n      { type: 'data-out' }\n    ],\n  },\n\n  _env: _ENV,\n\n  init: ({ builder }) => {\n    if (_ENV.initialized !== false) { return; } // Already initialized ⚠⚠⚠\n    _ENV.builder = builder;\n    _NODE.initNodeModel();\n    _ENV.initialized = true;\n  },\n\n  initNodeModel: () => {\n    const { head, body } = _MODEL_NODE;\n    const { builder } = _ENV;\n    const _NODE_CONSTANTS = builder.CONSTANTS;\n    const { THREE } = builder._env;\n\n    head.material.default = new THREE.MeshBasicMaterial( {color: 0x555555} );\n    head.geometry = new THREE.BoxBufferGeometry( 4, _NODE_CONSTANTS.NODE_HEIGHT, 1 );\n\n    body.material.default = new THREE.MeshBasicMaterial( {color: 0x333333} );\n    body.material.selected = new THREE.MeshBasicMaterial( {color: 0x556666} );\n    body.geometry = new THREE.BoxBufferGeometry( 4, _NODE_CONSTANTS.NODE_HEIGHT, 4 );\n  },\n\n  create: () => { \n    const { builder } = _ENV;\n    const _NODE_CONSTANTS = builder.CONSTANTS;\n    const { THREE, TEXT } = builder._env;\n\n    const _node = {\n      connector_start: null,\n      connectors_end: [],\n      connector_dataIN: null,\n      connector_dataOUT: null,\n      model: null,\n    };\n\n    const _group = new THREE.Group();\n\n    const _head = new THREE.Mesh( // Node header\n      _MODEL_NODE.head.geometry,\n      _MODEL_NODE.head.material.default\n      );\n    _head.position.set(0, 0, 1.5);\n    _head.userData = {\n      ..._head.userData,\n      class: 'node-head',\n    };\n    _group.add(_head);\n\n    const _title = TEXT.createText({ text: 'some title', size: 0.25, height: 0 }).model;\n    _title.position.set(0, -0.155, 1.5);\n    _title.userData = {\n      ..._title.userData,\n      class: 'text',\n    };\n    _group.add(_title);\n\n    const _body = new THREE.Mesh( // Node body\n      _MODEL_NODE.body.geometry,\n      _MODEL_NODE.body.material.default\n      );\n    _body.position.set(0, 0, -1);\n    _body.userData = {\n      ..._body.userData,\n      class: 'node-body',\n    };\n    _group.add(_body);\n\n    const _stepStart = builder.createConnector({ type: _NODE_CONSTANTS.CONNECTORS.STEP_START });\n    const _stepStartModel = _stepStart.model;\n    _stepStartModel.position.set(-2, -0.1, 0);\n    _group.add(_stepStartModel);\n    _node.connector_start = _stepStart;\n\n    const _stepEnd = builder.createConnector({ type: _NODE_CONSTANTS.CONNECTORS.STEP_END });\n    const _stepEndModel = _stepEnd.model;\n    _stepEndModel.position.set(2, -0.1, 0);\n    _group.add(_stepEndModel);\n    _node.connectors_end.push(_stepEnd);\n\n    const _dataIN = builder.createConnector({ type: _NODE_CONSTANTS.CONNECTORS.DATA_IN });\n    const _dataINModel = _dataIN.model;\n    _dataINModel.rotateZ(90 * Math.PI / 180.0);\n    _dataINModel.position.set(-1, -0.1, -3);\n    _group.add(_dataINModel);\n    _node.connector_dataIN = _dataIN;\n\n    const _dataOUT = builder.createConnector({ type: _NODE_CONSTANTS.CONNECTORS.DATA_OUT });\n    const _dataOUTModel = _dataOUT.model;\n    _dataOUTModel.rotateZ(-90 * Math.PI / 180.0);\n    _dataOUTModel.position.set(1, -0.1, -3);\n    _group.add(_dataOUTModel);\n    _node.connector_dataOUT = _dataOUT;\n\n    _group.userData = {\n      ..._group.userData,\n      class: 'node',\n      category: 'flow',\n      family: 'step',\n      type: 'default'\n    };\n\n    _node.model = _group;\n    return _node;\n  },\n\n  delete: ({ node }) => {},\n\n  select: ({ node }) => {\n    const _shapeBody = node.model.children.find(_child => _child.userData.class === 'node-body');\n    _shapeBody.material = _MODEL_NODE.body.material.selected;\n  },\n\n  unSelect: ({ node }) => {\n    const _shapeBody = node.model.children.find(_child => _child.userData.class === 'node-body');\n    _shapeBody.material = _MODEL_NODE.body.material.default;\n  },\n\n  dispose: ({ node }) => {},\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/defs-nodes/flow-step-default.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/defs-nodes/flow-step-function-call.js":
/*!*************************************************************************!*\
  !*** ./src/libs/diagram-renderer/defs-nodes/flow-step-function-call.js ***!
  \*************************************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n\n\n\nconst _MODEL_NODE = {\n  head: {\n    geometry: null,\n    material: {\n      default: null,\n    },\n  },\n  body: {\n    shape: null,\n    geometry: null,\n    material: {\n      default: null,\n      selected: null,\n    },\n  },\n};\n\n\nconst _ENV = {\n  initialized: false,\n  builder: null,\n};\n\n\nconst _NODE = {\n  def: {\n    name: 'flow step function call',\n    category: 'flow',\n    family: 'step',\n    type: 'function-call',\n    connectors: [\n      { type: 'step-start' },\n      { type: 'step-end' },\n      { type: 'data-in' },\n      { type: 'data-out' }\n    ],\n  },\n\n  _env: _ENV,\n\n  init: ({ builder }) => {\n    if (_ENV.initialized !== false) { return; } // Already initialized ⚠⚠⚠\n    _ENV.builder = builder;\n    _NODE.initNodeModel();\n    _ENV.initialized = true;\n  },\n\n  initNodeModel: () => {  // Initialize materials and geometries\n    const { head, body } = _MODEL_NODE;\n    const { builder } = _ENV;\n    const _NODE_CONSTANTS = builder.CONSTANTS;\n    const { THREE } = builder._env;\n\n    head.material.default = new THREE.MeshBasicMaterial( {color: 0x555555} );\n    head.geometry = new THREE.BoxBufferGeometry( 4, _NODE_CONSTANTS.NODE_HEIGHT, 1 );\n\n    body.material.default = new THREE.MeshBasicMaterial( {color: 0x333333} );\n    body.material.selected = new THREE.MeshBasicMaterial( {color: 0x556666} );\n\n    const _bodyShape = new THREE.Shape();\n    _bodyShape.moveTo(-1.5, 2);\n    _bodyShape.lineTo(1.5, 2);\n    _bodyShape.lineTo(2.5, 4);\n    _bodyShape.lineTo(1.5, 6);\n    _bodyShape.lineTo(-1.5, 6);\n    _bodyShape.lineTo(-2.5, 4);\n    _bodyShape.lineTo(-1.5, 2);\n    body.shape = _bodyShape;\n    body.geometry = new THREE.ExtrudeBufferGeometry( body.shape, {\n      amount: _NODE_CONSTANTS.NODE_HEIGHT,\n      bevelEnabled: false,\n    });\n  },\n\n  create: () => {\n    // Create the node. \n    const { builder } = _ENV;\n    const _NODE_CONSTANTS = builder.CONSTANTS;\n    const { THREE, TEXT } = builder._env;\n\n    const _node = {\n      connector_start: null,\n      connectors_end: [],\n      connector_dataIN: null,\n      connector_dataOUT: null,\n      model: null,\n    };\n\n    const _group = new THREE.Group();\n\n    const _head = new THREE.Mesh( // Node header\n      _MODEL_NODE.head.geometry,\n      _MODEL_NODE.head.material.default\n      );\n    _head.position.set(0, 0, 1.5);\n    _head.userData = {\n      ..._head.userData,\n      class: 'node-head',\n    };\n    _group.add(_head);\n\n    const _title = TEXT.createText({ text: 'function call', size: 0.25, height: 0 }).model;\n    _title.position.set(0, -0.155, 1.5);\n    _title.userData = {\n      ..._title.userData,\n      class: 'text',\n    };\n    _group.add(_title);\n\n    const _body = new THREE.Mesh( // Node body\n      _MODEL_NODE.body.geometry,\n      _MODEL_NODE.body.material.default\n      );\n    _body.rotateX(90 * Math.PI / 180.0);\n    _body.position.set(0, 0.17, -5);\n    _body.userData = {\n      ..._body.userData,\n      class: 'node-body',\n    };\n    _group.add(_body);\n\n    const _stepStart = builder.createConnector({ type: _NODE_CONSTANTS.CONNECTORS.STEP_START });\n    const _stepStartModel = _stepStart.model;\n    _stepStartModel.position.set(-2, -0.1, 0);\n    _group.add(_stepStartModel);\n    _node.connector_start = _stepStart;\n\n    const _stepEnd = builder.createConnector({ type: _NODE_CONSTANTS.CONNECTORS.STEP_END });\n    const _stepEndModel = _stepEnd.model;\n    _stepEndModel.position.set(2, -0.1, 0);\n    _group.add(_stepEndModel);\n    _node.connectors_end.push(_stepEnd);\n\n    const _dataIN = builder.createConnector({ type: _NODE_CONSTANTS.CONNECTORS.DATA_IN });\n    const _dataINModel = _dataIN.model;\n    _dataINModel.rotateZ(90 * Math.PI / 180.0);\n    _dataINModel.position.set(-1, -0.1, -3);\n    _group.add(_dataINModel);\n    _node.connector_dataIN = _dataIN;\n\n    const _dataOUT = builder.createConnector({ type: _NODE_CONSTANTS.CONNECTORS.DATA_OUT });\n    const _dataOUTModel = _dataOUT.model;\n    _dataOUTModel.rotateZ(-90 * Math.PI / 180.0);\n    _dataOUTModel.position.set(1, -0.1, -3);\n    _group.add(_dataOUTModel);\n    _node.connector_dataOUT = _dataOUT;\n\n    _group.userData = {\n      ..._group.userData,\n      class: 'node',\n      category: 'flow',\n      family: 'step',\n      type: 'function-call'\n    };\n\n    _node.model = _group;\n    return _node;\n  },\n\n  delete: ({ node }) => {},\n\n  select: ({ node }) => {\n    const _shapeBody = node.model.children.find(_child => _child.userData.class === 'node-body');\n    _shapeBody.material = _MODEL_NODE.body.material.selected;\n  },\n\n  unSelect: ({ node }) => {\n    const _shapeBody = node.model.children.find(_child => _child.userData.class === 'node-body');\n    _shapeBody.material = _MODEL_NODE.body.material.default;\n  },\n\n  dispose: ({ node }) => {},\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/defs-nodes/flow-step-function-call.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/defs-nodes/flow-step-pause.js":
/*!*****************************************************************!*\
  !*** ./src/libs/diagram-renderer/defs-nodes/flow-step-pause.js ***!
  \*****************************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n\n\n\nconst _MODEL_NODE = {\n  body: {\n    geometry: null,\n    material: {\n      default: null,\n      selected: null,\n    },\n  },\n  symbol_pause: {\n    geometry_L: null,\n    geometry_R: null,\n    material: {\n      default: null,\n    },\n  },\n};\n\n\nconst _ENV = {\n  initialized: false,\n  builder: null,\n};\n\n\nconst _NODE = {\n  def: {\n    name: 'flow step pause',\n    category: 'flow',\n    family: 'step',\n    type: 'pause',\n    connectors: [\n      { type: 'step-start' },\n      { type: 'step-end' },\n    ],\n  },\n\n  _env: _ENV,\n\n  init: ({ builder }) => {\n    if (_ENV.initialized !== false) { return; } // Already initialized ⚠⚠⚠\n    _ENV.builder = builder;\n    _NODE.initNodeModel();\n    _ENV.initialized = true;\n  },\n\n  initNodeModel: () => {  // Initialize materials and geometries\n    const { body, symbol_pause } = _MODEL_NODE;\n    const { builder } = _ENV;\n    const _NODE_CONSTANTS = builder.CONSTANTS;\n    const { THREE } = builder._env;\n\n    body.material.default = new THREE.MeshBasicMaterial( {color: 0x333333} );\n    body.material.selected = new THREE.MeshBasicMaterial( {color: 0x556666} );\n    body.geometry = new THREE.BoxBufferGeometry( 4, _NODE_CONSTANTS.NODE_HEIGHT, 4 );\n\n    symbol_pause.material.default = new THREE.MeshBasicMaterial( {color: 0xdaeb28} );\n    symbol_pause.geometry_L = new THREE.BoxBufferGeometry( 0.2, _NODE_CONSTANTS.NODE_HEIGHT, 1.3 );\n    symbol_pause.geometry_R = new THREE.BoxBufferGeometry( 0.2, _NODE_CONSTANTS.NODE_HEIGHT, 1.3 );\n  },\n\n  create: () => {  // Create the node. \n    const { builder } = _ENV;\n    const _NODE_CONSTANTS = builder.CONSTANTS;\n    const { THREE, TEXT } = builder._env;\n\n    const _node = {\n      connector_start: null,\n      connectors_end: [],\n      connector_dataIN: null,\n      connector_dataOUT: null,\n      model: null,\n    };\n\n    const _group = new THREE.Group();\n\n    const _body = new THREE.Mesh( // Node body\n      _MODEL_NODE.body.geometry,\n      _MODEL_NODE.body.material.default\n      );\n    _body.position.set(0, 0, -1);\n    _body.userData = {\n      ..._body.userData,\n      class: 'node-body',\n    };\n    _group.add(_body);\n\n\n    const _symbol_pause_L = new THREE.Mesh( // Left part for the pause symbol\n      _MODEL_NODE.symbol_pause.geometry_L,\n      _MODEL_NODE.symbol_pause.material.default\n      );\n    _symbol_pause_L.position.set(-0.37, -0.1, -1);\n    _symbol_pause_L.userData = {\n      ..._symbol_pause_L.userData,\n      class: 'symbol-pause-L',\n    };\n    _group.add(_symbol_pause_L);\n\n    const _symbol_pause_R = new THREE.Mesh( // Right part for the pause symbol\n      _MODEL_NODE.symbol_pause.geometry_R,\n      _MODEL_NODE.symbol_pause.material.default\n      );\n    _symbol_pause_R.position.set(0.37, -0.1, -1);\n    _symbol_pause_R.userData = {\n      ..._symbol_pause_R.userData,\n      class: 'symbol-pause-R',\n    };\n    _group.add(_symbol_pause_R);\n\n\n    const _stepStart = builder.createConnector({ type: _NODE_CONSTANTS.CONNECTORS.STEP_START });\n    const _stepStartModel = _stepStart.model;\n    _stepStartModel.position.set(-2, -0.1, 0);\n    _group.add(_stepStartModel);\n    _node.connector_start = _stepStart;\n\n    const _stepEnd = builder.createConnector({ type: _NODE_CONSTANTS.CONNECTORS.STEP_END });\n    const _stepEndModel = _stepEnd.model;\n    _stepEndModel.position.set(2, -0.1, 0);\n    _group.add(_stepEndModel);\n    _node.connectors_end.push(_stepEnd);\n\n\n    _group.userData = {\n      ..._group.userData,\n      class: 'node',\n      category: 'flow',\n      family: 'step',\n      type: 'pause'\n    };\n\n    _node.model = _group;\n    return _node;\n  },\n\n  delete: ({ node }) => {},\n\n  select: ({ node }) => {\n    const _shapeBody = node.model.children.find(_child => _child.userData.class === 'node-body');\n    _shapeBody.material = _MODEL_NODE.body.material.selected;\n  },\n\n  unSelect: ({ node }) => {\n    const _shapeBody = node.model.children.find(_child => _child.userData.class === 'node-body');\n    _shapeBody.material = _MODEL_NODE.body.material.default;\n  },\n\n  dispose: ({ node }) => {},\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/defs-nodes/flow-step-pause.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/defs-nodes/index.js":
/*!*******************************************************!*\
  !*** ./src/libs/diagram-renderer/defs-nodes/index.js ***!
  \*******************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _flow_step_default_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./flow-step-default.js */ \"./src/libs/diagram-renderer/defs-nodes/flow-step-default.js\");\n/* harmony import */ var _data_state_default_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./data-state-default.js */ \"./src/libs/diagram-renderer/defs-nodes/data-state-default.js\");\n/* harmony import */ var _flow_step_pause_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./flow-step-pause.js */ \"./src/libs/diagram-renderer/defs-nodes/flow-step-pause.js\");\n/* harmony import */ var _flow_step_function_call_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./flow-step-function-call.js */ \"./src/libs/diagram-renderer/defs-nodes/flow-step-function-call.js\");\n/* harmony import */ var _flow_signal_listen_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./flow-signal-listen.js */ \"./src/libs/diagram-renderer/defs-nodes/flow-signal-listen.js\");\n/* harmony import */ var _flow_signal_emit_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./flow-signal-emit.js */ \"./src/libs/diagram-renderer/defs-nodes/flow-signal-emit.js\");\n\n\n\n\n\n\n\n\n\n\nconst _ENV = {\n  nodesDEFS: {\n    flow_step_default: _flow_step_default_js__WEBPACK_IMPORTED_MODULE_0__.default,\n    data_state_default: _data_state_default_js__WEBPACK_IMPORTED_MODULE_1__.default,\n    flow_step_pause: _flow_step_pause_js__WEBPACK_IMPORTED_MODULE_2__.default,\n    flow_step_function_call: _flow_step_function_call_js__WEBPACK_IMPORTED_MODULE_3__.default,\n    flow_signal_listen: _flow_signal_listen_js__WEBPACK_IMPORTED_MODULE_4__.default,\n    flow_signal_emit: _flow_signal_emit_js__WEBPACK_IMPORTED_MODULE_5__.default,\n  },\n  categories: {},\n};\n\n/**\n * Node definitions\n * Provides the library where the nodes are defined\n */\nconst _NODES = {\n  _env: _ENV,\n  init: () => {\n    Object.keys(_ENV.nodesDEFS).forEach(_k => { // Define all nodes\n      _NODES.defineNode({ nodeDEF: _ENV.nodesDEFS[_k] });\n    });\n  },\n\n  defineNode: ({ nodeDEF }) => {\n    const { category, family, type } = nodeDEF.def;\n\n    if (_ENV.categories[category] === undefined) { _ENV.categories[category] = { name: category, families: {} }; }\n    const _category = _ENV.categories[category];\n\n    if (_category.families[family] === undefined) { _category.families[family] = { name: family, types: {} }; }\n    const _family = _category.families[family];\n\n    if (_family.types[type] !== undefined) { \n      throw new Error('Node type already defined')\n    }\n    _family.types[type] = { name: type, def: nodeDEF }; \n  },\n\n  getNodeDEF: ({ category, family, type }) => {\n    const _category = _ENV.categories[category];\n    if (_category === undefined) { throw new Error('Category not found.'); }\n    const _family = _category.families[family];\n    if (_family === undefined) { throw new Error('Family not found.'); }\n    const _type = _family.types[type];\n    if (_type === undefined) { throw new Error('Type not found.'); }\n    return _type.def\n  },\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODES);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/defs-nodes/index.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/diagram-handler.js":
/*!******************************************************!*\
  !*** ./src/libs/diagram-renderer/diagram-handler.js ***!
  \******************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../threejs/three.module.js */ \"./src/libs/threejs/three.module.js\");\n/* harmony import */ var _threejs_DragControls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../threejs/DragControls.js */ \"./src/libs/threejs/DragControls.js\");\n/* harmony import */ var _node_handler_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node-handler.js */ \"./src/libs/diagram-renderer/node-handler.js\");\n/* harmony import */ var _connection_handler_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./connection-handler.js */ \"./src/libs/diagram-renderer/connection-handler.js\");\n/* harmony import */ var _state_selection_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../state/selection.js */ \"./src/state/selection.js\");\n/* harmony import */ var _selection_tool_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./selection-tool.js */ \"./src/libs/diagram-renderer/selection-tool.js\");\n\n\n\n\n\n\n\n\nconst _ENV = {\n  diagram: null,\n  dragControls: null,\n  raycaster: null,\n  mouse: null,\n  inViewPort: false,\n  overObject: null,\n  inDrag: false,\n  dragged: false,\n  dragType: null,\n  draggableTypes: {},\n  draggableTypesValues: null,\n  selectableTypes: {},\n  selectableTypesValues: null,\n};\n\nconst _DIAGRAM_HANDLER = {\n  _env: _ENV,\n\n  init: ({ diagram }) => {\n    const { _env: _diagramEnv } = diagram;\n    const { viewPort, camera, renderer } = _diagramEnv;\n\n    _ENV.diagram = diagram;\n\n    const _dragControls = new _threejs_DragControls_js__WEBPACK_IMPORTED_MODULE_1__.DragControls( [], camera, renderer.domElement );\n    _dragControls.transformGroup = true;\n    // _dragControls.enabled = false;\n    // _dragControls.deactivate();\n    _ENV.dragControls = _dragControls;\n\n    const _mouse = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector2();\n    _ENV.mouse = _mouse;\n    \n    _ENV.raycaster = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Raycaster();\n\n    _node_handler_js__WEBPACK_IMPORTED_MODULE_2__.default.init({ diagramHandler: _DIAGRAM_HANDLER })\n    _connection_handler_js__WEBPACK_IMPORTED_MODULE_3__.default.init({ diagramHandler: _DIAGRAM_HANDLER });\n    _ENV.draggableTypesValues = Object.values(_ENV.draggableTypes);\n    _ENV.selectableTypesValues = Object.values(_ENV.selectableTypes);\n\n    _DIAGRAM_HANDLER._initDragEvents();\n\n    _selection_tool_js__WEBPACK_IMPORTED_MODULE_5__.default.init({ diagramHandler: _DIAGRAM_HANDLER });\n\n    const _onMouseMove = ( _event ) => {\n      // calculate mouse position in normalized device coordinates\n      // (-1 to +1) for both components\n    \n      // _mouse.x = ( _event.clientX / _viewPort.innerWidth ) * 2 - 1;\n      // _mouse.y = - ( _event.clientY / _viewPort.innerHeight ) * 2 + 1;\n      _mouse.x = ( _event.layerX / viewPort.clientWidth ) * 2 - 1;\n      _mouse.y = - ( _event.layerY / viewPort.clientHeight ) * 2 + 1;\n    };\n\n    const _onClick = (_event) => {\n      if (_ENV.dragged === false) {\n        _state_selection_js__WEBPACK_IMPORTED_MODULE_4__.default.selectNONE();\n      }\n    };\n\n    viewPort.addEventListener( 'mousemove', _onMouseMove, false );\n    viewPort.addEventListener( 'mouseenter', (_e) => { _ENV.inViewPort = true; }, false );\n    viewPort.addEventListener( 'mouseleave', (_e) => { _ENV.inViewPort = false; }, false );\n    viewPort.addEventListener( 'click', _onClick, false );\n  },\n\n  _initDragEvents: () => {\n    const { dragControls } = _ENV;\n\n    const _drag = {\n      startPoint: null,\n      endPoint: null,\n      distance: null,\n      dragAction: null,\n      dragStart: false,\n      dragEnd: false,\n    };\n\n    dragControls.addEventListener( 'dragstart', function ( _event ) {\n      _drag.startPoint = _event.object.getWorldPosition(new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3());\n      _drag.distance = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n      _drag.dragStart = true;\n      _ENV.inDrag = true;\n\n      switch (_ENV.dragType) {  // Map the necessary action dapending on the drag type\n        case 'node':\n          _drag.dragAction = () => { _node_handler_js__WEBPACK_IMPORTED_MODULE_2__.default._dragNode(_drag) };\n          break;\n        case 'connector':\n          _drag.dragAction = () => { _connection_handler_js__WEBPACK_IMPORTED_MODULE_3__.default._dragConnector(_drag) };\n          break;\n        case 'connection':\n          _drag.dragAction = () => { _connection_handler_js__WEBPACK_IMPORTED_MODULE_3__.default._dragConnection(_drag) };\n          break;\n      \n        default:\n          break;\n      }\n\n      _drag.dragAction(_drag);\n      _drag.dragStart = false;\n    });\n    dragControls.addEventListener( 'drag', function ( _event ) {\n      _drag.endPoint = _event.object.getWorldPosition(new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3());\n      _drag.distance.subVectors(_drag.endPoint, _drag.startPoint);\n      _drag.dragAction(_drag);\n      _drag.startPoint = _drag.endPoint.clone();\n    });\n    dragControls.addEventListener( 'dragend', function ( _event ) {\n      _drag.dragEnd = true;\n      _drag.dragAction(_drag);\n      _ENV.inDrag = false;\n      _drag.dragAction = null;\n      _drag.dragEnd = false;\n      _DIAGRAM_HANDLER._cleanIntersection();\n      _ENV.dragged = true;\n    });\n  },\n\n  _intersection: () => {\n    const { mouse, diagram, raycaster } = _ENV;\n    const { camera, models } = diagram._env;\n\n    // update the picking ray with the camera and mouse position\n    raycaster.setFromCamera( mouse, camera );\n\n    // calculate objects intersecting the picking ray\n    const _intersectsNodes = raycaster.intersectObjects( models.nodes, true );\n\n    if (_intersectsNodes.length > 0) {\n      const _overObject = _intersectsNodes[0].object;\n\n      if (_ENV.draggableTypesValues.includes(_overObject.userData.class) === false) {  // Check if object class is 'draggable'\n        _DIAGRAM_HANDLER._cleanIntersection();\n        return;\n      }\n      _ENV.overObject = _overObject;\n\n      switch (_overObject.userData.class) {\n        case _ENV.draggableTypes.NODE_BODY:\n          _node_handler_js__WEBPACK_IMPORTED_MODULE_2__.default._intersectionNodeBody();\n          break;\n\n        case _ENV.draggableTypes.CONNECTOR:\n          _connection_handler_js__WEBPACK_IMPORTED_MODULE_3__.default._intersectionConnector();\n          break;\n      \n        default:\n          break;\n      }\n      return; // Exit method ⚠️⚠️⚠️\n    } \n    // else {\n    //   _DIAGRAM_HANDLER._cleanIntersection();\n    // }\n\n    const _intersectsConnections = raycaster.intersectObjects( models.connections, true );\n    if (_intersectsConnections.length > 0) {\n      _ENV.overObject = _intersectsConnections[0].object;\n      _connection_handler_js__WEBPACK_IMPORTED_MODULE_3__.default._intersectionConnection();\n      return; // Exit method ⚠️⚠️⚠️\n    }\n\n    _DIAGRAM_HANDLER._cleanIntersection();\n  },\n\n  _cleanIntersection: () => {\n    const { dragControls } = _ENV;\n    const _draggableObjets = dragControls.getObjects();\n\n    // if (_draggableObjets.length > 0) { _draggableObjets.length = 0; }\n    _draggableObjets.length = 0;\n    _ENV.dragged = false;\n    _ENV.dragType = null;\n    _ENV.overObject = null;\n\n    _node_handler_js__WEBPACK_IMPORTED_MODULE_2__.default._cleanIntersection();\n    _connection_handler_js__WEBPACK_IMPORTED_MODULE_3__.default._cleanIntersection();\n  },\n\n  handleDiagram: () => {\n    if (_ENV.inViewPort === true && _ENV.inDrag === false) {\n      _DIAGRAM_HANDLER._intersection();\n    }\n  },\n\n  handlers: {\n    nodes: _node_handler_js__WEBPACK_IMPORTED_MODULE_2__.default,\n    connections: _connection_handler_js__WEBPACK_IMPORTED_MODULE_3__.default,\n  },\n\n  selection: _state_selection_js__WEBPACK_IMPORTED_MODULE_4__.default,\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_DIAGRAM_HANDLER);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/diagram-handler.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/index.js":
/*!********************************************!*\
  !*** ./src/libs/diagram-renderer/index.js ***!
  \********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../threejs/three.module.js */ \"./src/libs/threejs/three.module.js\");\n/* harmony import */ var _threejs_OrbitControls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../threejs/OrbitControls.js */ \"./src/libs/threejs/OrbitControls.js\");\n/* harmony import */ var _diagram_handler_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./diagram-handler.js */ \"./src/libs/diagram-renderer/diagram-handler.js\");\n/* harmony import */ var _text_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./text.js */ \"./src/libs/diagram-renderer/text.js\");\n/* harmony import */ var _node_director_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node-director.js */ \"./src/libs/diagram-renderer/node-director.js\");\n/* harmony import */ var _connection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./connection */ \"./src/libs/diagram-renderer/connection/index.js\");\n\n\n// import { DragControls } from '../threejs/DragControls.js';\n\n\n\n\n\n\n\nconst _ENV = {\n  manager: null,\n  renderer: null,\n  scene: null,\n  camera: null,\n  orbitControls: null,\n  viewPort: null,\n  nodes: [],  // All the nodes inside this diagram\n  connections: [],  // All the connections inside this diagram\n  models: {\n    nodes: [],\n    connections: [],\n    connectors: {\n      stepSTART: [],\n      stepEND: [],\n      dataIN: [],\n      dataOUT: [],\n    }\n  },\n};\n\nconst _DIAGRAM = {\n  _env: _ENV,\n\n  init: ({ manager }) => {\n    _ENV.manager = manager; // the diagram manager unifies states and diagram renderer\n    _node_director_js__WEBPACK_IMPORTED_MODULE_4__.default.init();\n    _connection__WEBPACK_IMPORTED_MODULE_5__.default.init();\n    return new Promise((_resolve, _reject) => {\n      _text_js__WEBPACK_IMPORTED_MODULE_3__.default.init({ config: manager.getConfig() })\n      .then(() => {\n        _resolve({ initialized: true });\n      });\n    });\n  },\n\n  initScene: ({ diagramView }) => {\n    const { _env } = diagramView;\n    if (_env.initialized === true) return;\n\n    const _parent = _env.myDIV.parentElement;\n    const _viewPort = _env.myDIV.querySelector('div.viewport');\n    _ENV.viewPort = _viewPort;\n\n    const _width = _parent.clientWidth; // _viewPort.clientWidth;\n    const _height = _parent.clientHeight; // _viewPort.clientHeight;\n\n    const renderer = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.WebGLRenderer();\n    const scene = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Scene();\n    const camera = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.PerspectiveCamera( 75, _width / _height, 0.1, 10000 );\n    _ENV.renderer = renderer;\n    _ENV.scene = scene;\n    _ENV.camera = camera;\n\n    const _orbitControls = new _threejs_OrbitControls_js__WEBPACK_IMPORTED_MODULE_1__.OrbitControls( camera, renderer.domElement );  // Initialize OrbitControl for manage the camera\n    _orbitControls.enableRotate = false;\n    _orbitControls.maxDistance = 20;\n    _orbitControls.minDistance = 5;\n    _ENV.orbitControls = _orbitControls;\n\n    const gridHelper = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.GridHelper( 100, 100 );\n    scene.add( gridHelper );\n\n    renderer.setSize( _width, _height );\n    _viewPort.appendChild( renderer.domElement );\n\n    const light = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.AmbientLight( 0x404040 ); // soft white light\n    scene.add( light );\n\n    camera.zoom = 1;\n    camera.lookAt(new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3(0,0,0)); // Set look at coordinate like this\n    camera.position.set(0,-10,0); // Set position like this\n    // camera.rotation.y = 90 * Math.PI / 180;\n    camera.up.set(0, 1, 0);\n\n    _orbitControls.update();\n    renderer.render( scene, camera );\n\n    // _DIAGRAM._env = {\n    //   ..._DIAGRAM._env,\n    //   renderer,\n    //   scene,\n    //   camera,\n    //   orbitControls: _orbitControls,\n    //   viewPort: _viewPort,\n    // };\n\n     _diagram_handler_js__WEBPACK_IMPORTED_MODULE_2__.default.init({ diagram: _DIAGRAM });  // Initialize 'diagram handler'\n\n    const animate = function () {\n      requestAnimationFrame( animate );\n      _diagram_handler_js__WEBPACK_IMPORTED_MODULE_2__.default.handleDiagram();\n      renderer.render( scene, camera );\n    };\n    animate();\n\n    const _resizeObserver = new ResizeObserver(_entries => {\n      renderer.setSize( 0, 0 ); // TODO: REVIEW CODE... for update the render 🔍⚠️\n      const _width = _parent.clientWidth; // _viewPort.clientWidth;\n      const _height = _parent.clientHeight; // _viewPort.clientHeight;\n      renderer.setSize( _width, _height );\n      camera.aspect = _width / _height;\n      camera.updateProjectionMatrix();\n      // renderer.render( scene, camera );\n    });\n    _resizeObserver.observe(_viewPort);\n\n    _env.initialized = true;\n    console.log('Diagram ENV', _ENV);  // TODO: REMOVE DEBUG LOG 📏⏳🔍\n    console.log('ThreeJS revision', _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.REVISION);  // TODO: REMOVE DEBUG LOG 📏⏳🔍\n  },\n\n  factory: {\n    node: _node_director_js__WEBPACK_IMPORTED_MODULE_4__.default.factory,\n    connection: _connection__WEBPACK_IMPORTED_MODULE_5__.default,\n  },\n\n  addNode: ({ node }) => {\n    const { scene, nodes, models } = _ENV;\n\n    nodes.push(node);\n    models.nodes.push(node.model);\n\n    // Add the necessary connectors\n    if (node.connector_start !== null) {\n      models.connectors.stepSTART.push(node.connector_start);\n    }\n    if (node.connectors_end[0] !== undefined) {\n      models.connectors.stepEND.push(node.connectors_end[0]);\n    }\n    if (node.connector_dataIN !== null) {\n      models.connectors.dataIN.push(node.connector_dataIN);\n    }\n    if (node.connector_dataOUT !== null) {\n      models.connectors.dataOUT.push(node.connector_dataOUT);\n    }\n    \n    scene.add(node.model);\n  },\n\n  getNode: ({ id }) => {\n    return _ENV.nodes.find(_n => _n.id === id);\n  },\n\n  removeNode: ({ id }) => {\n    const { scene, nodes, models } = _ENV;\n\n    let _node = _DIAGRAM.getNode({ id });\n    let _connections = _DIAGRAM.getConnections({ nodeID: id });\n\n    const _selection = _diagram_handler_js__WEBPACK_IMPORTED_MODULE_2__.default.selection.getSelection();  // Remove selection if it is necessary\n    if (_selection.type === 'node' && _selection.id === id) {\n      _diagram_handler_js__WEBPACK_IMPORTED_MODULE_2__.default.selection.selectNONE();\n    }\n\n    _connections.connections.forEach(_c => {      // Dispose and remove connections 🧩⚙\n      _DIAGRAM.removeConnection({ id: _c.id });\n    });\n\n    scene.remove(_node.model);  // Remove node from scene\n\n    let _i = models.nodes.map(_n => {  // Remove node from models\n      return _n.userData.id;\n    }).indexOf(id);\n    models.nodes.splice(_i, 1);\n\n    _i = models.connectors.stepSTART.indexOf(_node.connector_start);  // Remove connectors from 'stepSTART'\n    _i >= 0 &&  models.connectors.stepSTART.splice(_i, 1);\n    _i = models.connectors.stepEND.indexOf(_node.connectors_end[0]);  // Remove connectors from 'stepEND'\n    _i >= 0 && models.connectors.stepEND.splice(_i, 1);\n    _i = models.connectors.dataIN.indexOf(_node.connector_dataIN);  // Remove connectors from 'stepEND'\n    _i >= 0 && models.connectors.dataIN.splice(_i, 1);\n    _i = models.connectors.dataOUT.indexOf(_node.connector_dataOUT);  // Remove connectors from 'dataOUT'\n    _i >= 0 && models.connectors.dataOUT.splice(_i, 1);\n\n    _node_director_js__WEBPACK_IMPORTED_MODULE_4__.default.factory.dispose({ node: _node }) // Dispose node\n\n    _i = nodes.map(_n => {  // Remove node\n      return _n.id;\n    }).indexOf(id);\n    nodes.splice(_i, 1);\n\n    _ENV.renderer.renderLists.dispose();\n  },\n\n  clearNodes : () => {\n    _ENV.nodes.map(_n => _n.id).forEach(id => _DIAGRAM.removeNode({ id }));\n  },\n\n  addConnection: ({ connection }) => {\n    const { scene, connections, models } = _ENV;\n\n    connections.push(connection);\n    models.connections.push(connection.model);\n    scene.add(connection.model);\n  },\n\n  getConnection: ({ id }) => {\n    return _ENV.connections.find(_c => _c.id === id);\n  },\n\n  getConnections: ({ nodeID }) => {\n    const { nodes, connections, models } = _ENV;\n    const _result = {\n      connections: [],\n      flow: {\n        IN: [],\n        OUT: [],\n      },\n      data: {\n        IN: [],\n        OUT: [],\n      },\n    };\n\n    const _node = nodes.find(_n => _n.id === nodeID);\n    if (_node.connector_start !== null) {\n      _result.flow.IN = connections.filter(_c => _c.target === _node.connector_start.id);\n    }\n    if (_node.connectors_end[0] !== undefined) {\n      _result.flow.OUT = connections.filter(_c => _c.source === _node.connectors_end[0].id);\n    }\n    if (_node.connector_dataIN !== null) {\n      _result.data.IN = connections.filter(_c => _c.target === _node.connector_dataIN.id);\n    }\n    if (_node.connector_dataOUT !== null) {\n      _result.data.OUT = connections.filter(_c => _c.source === _node.connector_dataOUT.id);\n    }\n    _result.connections = _result.connections.concat(_result.flow.IN, _result.flow.OUT, _result.data.IN, _result.data.OUT);\n\n    return _result;\n  },\n\n  removeConnection: ({ id }) => {\n    const { scene, connections, models } = _ENV;\n    const _connection = _DIAGRAM.getConnection({ id });\n    let _i;\n\n    const _selection = _diagram_handler_js__WEBPACK_IMPORTED_MODULE_2__.default.selection.getSelection();  // Remove selection if it is necessary\n    if (_selection.type === 'connection' && _selection.id === id) {\n      _diagram_handler_js__WEBPACK_IMPORTED_MODULE_2__.default.selection.selectNONE();\n    }\n\n    _i = models.connections.map(_c => {\n      return _c.userData.id;\n    }).indexOf(id);\n    models.connections.splice(_i, 1);\n    \n    _i = connections.map(_c => {\n      return _c.id;\n    }).indexOf(id);\n    connections.splice(_i, 1);\n    \n    scene.remove(_connection.model);\n    _connection__WEBPACK_IMPORTED_MODULE_5__.default.disposeConnection({ connection: _connection });\n  },\n\n  clearConnections: () => {\n    _ENV.connections.map(_c => _c.id).forEach(id => _DIAGRAM.removeConnection({ id }));\n  },\n\n  camera: {\n    getPosition: () => {\n      const { camera } = _ENV;\n      const _position = {\n        x: camera.position.x,\n        y: camera.position.y,\n        z: camera.position.z,\n      };\n      return _position;\n    }\n  },\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_DIAGRAM);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/index.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/node-builder.js":
/*!***************************************************!*\
  !*** ./src/libs/diagram-renderer/node-builder.js ***!
  \***************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../threejs/three.module.js */ \"./src/libs/threejs/three.module.js\");\n/* harmony import */ var _text_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./text.js */ \"./src/libs/diagram-renderer/text.js\");\n\n\n\n\n\n\nconst _NODE_CONSTANTS = {\n  NODE_HEIGHT: 0.3,\n  CONNECTORS: {\n    STEP_START: 'step_start',\n    STEP_END: 'step_end',\n    DATA_IN: 'data_in',\n    DATA_OUT: 'data_out',\n  }\n};\n\nconst _MODEL_NODE = {\n  connector: {\n    geometry: null,\n    material: {\n      default: null,\n    },\n    shape: null,\n  },\n};\n\n/**\n * Node builder\n * Provides tools for build the models of nodes.\n */\nconst _BUILDER = {\n  CONSTANTS: _NODE_CONSTANTS,\n  _env: {\n    THREE: _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__,\n    TEXT: _text_js__WEBPACK_IMPORTED_MODULE_1__.default,\n  },\n\n  init: () => {\n    _BUILDER.initNodeModel();\n  },\n\n  initNodeModel: () => {\n    const { connector } = _MODEL_NODE;\n\n    connector.material.default = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.MeshBasicMaterial( {color: 0x777700} );\n    const _connectorShape = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Shape();\n    _connectorShape.moveTo(0, 0.5);\n    _connectorShape.lineTo(1.5, 0);\n    _connectorShape.lineTo(0, -0.5);\n    _connectorShape.lineTo(0, 0.5);\n    connector.shape = _connectorShape;\n    connector.geometry = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.ExtrudeBufferGeometry( connector.shape, {\n      amount: _NODE_CONSTANTS.NODE_HEIGHT,\n      bevelEnabled: false,\n    });\n  },\n\n  createConnector: ({ type }) => {\n    const _connector = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Mesh(\n      _MODEL_NODE.connector.geometry, // geometry\n      _MODEL_NODE.connector.material.default // material\n      );\n    _connector.geometry.center(); // object center bounding box\n    _connector.rotateX(90 * Math.PI / 180.0);\n    \n    _connector.userData = {\n      ..._connector.userData,\n      class: 'connector',\n      type,\n    };\n\n    return {\n      type,\n      model: _connector,\n    };\n  },\n\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_BUILDER);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/node-builder.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/node-director.js":
/*!****************************************************!*\
  !*** ./src/libs/diagram-renderer/node-director.js ***!
  \****************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _defs_nodes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./defs-nodes */ \"./src/libs/diagram-renderer/defs-nodes/index.js\");\n/* harmony import */ var _node_builder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node-builder.js */ \"./src/libs/diagram-renderer/node-builder.js\");\n\n\n\n\n\n/**\n * Nodes director\n * Provides 'node-builder' and nodes definitions\n */\nconst _NODES = {\n  init: () => {\n    _defs_nodes__WEBPACK_IMPORTED_MODULE_0__.default.init();\n    _node_builder_js__WEBPACK_IMPORTED_MODULE_1__.default.init();\n  },\n  definitions: _defs_nodes__WEBPACK_IMPORTED_MODULE_0__.default,\n  factory: {\n    create: ({ node }) => {\n      const _nodeDEF = _defs_nodes__WEBPACK_IMPORTED_MODULE_0__.default.getNodeDEF(node);\n      _nodeDEF.init({ builder: _node_builder_js__WEBPACK_IMPORTED_MODULE_1__.default });\n      return _nodeDEF.create({ node });\n    },\n    select: ({ node }) => {\n      const _nodeDEF = _defs_nodes__WEBPACK_IMPORTED_MODULE_0__.default.getNodeDEF(node.model.userData);\n      _nodeDEF.select({ node });\n    },\n    unSelect: ({ node }) => {\n      const _nodeDEF = _defs_nodes__WEBPACK_IMPORTED_MODULE_0__.default.getNodeDEF(node.model.userData);\n      _nodeDEF.unSelect({ node });\n    },\n    dispose: ({ node }) => {\n      const _nodeDEF = _defs_nodes__WEBPACK_IMPORTED_MODULE_0__.default.getNodeDEF(node.model.userData);\n      _nodeDEF.dispose({ node });\n      node.model.children.forEach(_ch => _ch.geometry.dispose());\n      node.model.children.splice(0);\n      node = null;\n    },\n  },\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODES);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/node-director.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/node-handler.js":
/*!***************************************************!*\
  !*** ./src/libs/diagram-renderer/node-handler.js ***!
  \***************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/*\nNode handler\n\nManages node interaction in the diagram renderer\n*/\n\nconst _ENV = {\n  diagramManager: null,\n  diagramHandler: null,\n  node: null,\n  nodeConnections: null,\n};\n\nconst _NODE_HANDLER = {\n  _env: _ENV,\n\n  init: ({ diagramHandler }) => {\n    const { _env: _diagramHandlerEnv} = diagramHandler; // Access to the diagram handler environment ⚠❗❗❗\n    const { diagram: renderer, overObject} = _diagramHandlerEnv;\n    _ENV.diagramManager = renderer._env.manager;  // Access to the diagram renderer environment ⚠❗❗❗\n\n    _ENV.diagramHandler = diagramHandler;\n    _diagramHandlerEnv.draggableTypes.NODE_BODY = 'node-body';\n  },\n\n  _dragNode: (_drag) => {\n    if (_drag.dragStart === true) {\n      const { diagramHandler, diagramManager } = _ENV;\n      const { diagram: renderer, overObject} = diagramHandler._env; // Access to the diagram handler environment ⚠❗❗❗\n      // _ENV.node = renderer.getNode({ id: overObject.parent.userData.id });\n      _ENV.node = diagramManager.nodes.get({ id: overObject.parent.userData.id });\n      _ENV.nodeConnections = renderer.getConnections({ nodeID: _ENV.node.id });\n      diagramHandler.selection.select({ type: 'node', id: overObject.parent.userData.id, object: overObject.parent.userData });  // Select node\n    } else if (_drag.dragEnd === true) {\n      const { diagramManager } = _ENV;\n      const _nodeINRender = diagramManager.diagramRenderer.getNode({ id: _ENV.node.id });\n\n      // Copy the position of the model into the node ⚙\n      _ENV.node.extra.position.x = _nodeINRender.model.position.x;\n      _ENV.node.extra.position.y = _nodeINRender.model.position.y;\n      _ENV.node.extra.position.z = _nodeINRender.model.position.z;\n\n      diagramManager.nodes.update({ node: _ENV.node });  // Notify the update of the node 🧩⚠❗❗❗\n\n      _ENV.node = null;\n      _ENV.nodeConnections = null;\n    } else {  // Still dragging\n      _NODE_HANDLER._moveNodeConnections({ dragData: _drag });  // Move the connections of the node ⚙\n    }\n  },\n\n  _moveNodeConnections: ({ dragData }) => {\n    const { diagram: renderer } = _ENV.diagramHandler._env;\n\n    _ENV.nodeConnections.flow.IN.forEach(_c => {\n      renderer.factory.connection.setEndPoint({ connection: _c, position: _c.endPoint.add(dragData.distance) });\n    });\n\n    _ENV.nodeConnections.flow.OUT.forEach(_c => {\n      renderer.factory.connection.setStartPoint({ connection: _c, position: _c.startPoint.add(dragData.distance) });\n    });\n\n    _ENV.nodeConnections.data.OUT.forEach(_c => {\n      renderer.factory.connection.setStartPoint({ connection: _c, position: _c.startPoint.add(dragData.distance) });\n    });\n\n    _ENV.nodeConnections.data.IN.forEach(_c => {\n      renderer.factory.connection.setEndPoint({ connection: _c, position: _c.endPoint.add(dragData.distance) });\n    });\n  },\n\n  _cleanIntersection: () => {\n  },\n\n  _intersectionNodeBody: () => {\n    const { diagramHandler } = _ENV;\n    const { _env: _diagramHandlerEnv} = diagramHandler;\n    const { overObject, dragControls } = _diagramHandlerEnv;\n    const _group = overObject.parent;\n    const _draggableObjets = dragControls.getObjects();\n\n    if (_diagramHandlerEnv.dragType !== null && _diagramHandlerEnv.dragType !== 'node') {\n      diagramHandler._cleanIntersection();\n    }\n\n    if (_draggableObjets.length > 0) {\n      if (_draggableObjets[0].uuid === _group.uuid) { // still over the same object\n        return;\n      } else {\n        _draggableObjets.length = 0;\n      }\n    }\n    dragControls.getObjects().push(_group);\n    _diagramHandlerEnv.dragType = 'node';\n    dragControls.transformGroup = true;\n  },\n\n\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODE_HANDLER);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/node-handler.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/selection-tool.js":
/*!*****************************************************!*\
  !*** ./src/libs/diagram-renderer/selection-tool.js ***!
  \*****************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n\n\n\nconst _ENV = {\n  diagram: null,\n  diagramHandler: null,\n  selection: {\n    type: null,\n    id: null,\n  },\n};\n\nconst _SELECTION_TOOL = {\n  _env: _ENV,\n\n  init: ({ diagramHandler }) => {\n    _ENV.diagram = diagramHandler._env.diagram;\n    _ENV.diagramHandler = diagramHandler,\n    diagramHandler.selection.listenChanges({ listener: _SELECTION_TOOL._listenerSelectionChanges });\n  },\n\n  _listenerSelectionChanges: ({ action, payload }) => {\n    switch (action) {\n      case 'select':\n        _SELECTION_TOOL._unSelect();\n        _ENV.selection = payload;\n        _SELECTION_TOOL._select();\n        break;\n\n      case 'selectNONE':\n        _SELECTION_TOOL._unSelect();\n        break;\n\n      default:\n        break;\n    }\n\n  },\n\n  _select: () => {\n    const { selection, diagram } = _ENV;\n\n    switch (selection.type) {\n      case 'node':\n        diagram.factory.node.select({\n          node: diagram.getNode({ id: selection.id })\n        });\n        break;\n\n      case 'connection':\n        diagram.factory.connection.selectConnection({\n          connection: diagram.getConnection({ id: selection.id })\n        });\n        break;\n    \n      default:\n        break;\n    }\n  },\n\n  _unSelect: () => {\n    const { selection, diagram } = _ENV;\n    if (selection.type === null) { return } // NOTHING TO UNSELECT ⚠️⚠️⚠️\n\n    switch (selection.type) {\n      case 'node':\n        diagram.factory.node.unSelect({\n          node: diagram.getNode({ id: selection.id })\n        });\n        break;\n\n      case 'connection':\n        diagram.factory.connection.unSelectConnection({\n          connection: diagram.getConnection({ id: selection.id })\n        });\n        break;\n    \n      default:\n        break;\n    }\n\n    _ENV.selection = {  // Reset selection\n      type: null,\n      id: null,\n    };\n  },\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_SELECTION_TOOL);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/selection-tool.js?");

/***/ }),

/***/ "./src/libs/diagram-renderer/text.js":
/*!*******************************************!*\
  !*** ./src/libs/diagram-renderer/text.js ***!
  \*******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../threejs/three.module.js */ \"./src/libs/threejs/three.module.js\");\n/* harmony import */ var _threejs_FontLoader_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../threejs/FontLoader.js */ \"./src/libs/threejs/FontLoader.js\");\n/* harmony import */ var _threejs_TextGeometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../threejs/TextGeometry.js */ \"./src/libs/threejs/TextGeometry.js\");\n\n\n\n\n\n\n\nconst _TEXT_CONSTANTS = {\n  FONTNAME: 'assets/fonts/Press_Start_2P_Regular.json',\n};\n\nconst _MODEL_TEXT = {\n  material: {\n    default: null,\n  }\n};\n\nconst _ENV = {\n  font: null,\n  fontLoader: null,\n  config: null,\n};\n\nconst _TEXT = {\n  _env: _ENV,\n\n  init: ({ config }) => {\n    _ENV.config = config;\n    _MODEL_TEXT.material.default = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.MeshBasicMaterial({ color: 0x777700 });\n    // TODO: REMOVE OLD CODE 🔍⚠️\n    // _ENV.fontLoader = new THREE.FontLoader();  // Old version\n    _ENV.fontLoader = new _threejs_FontLoader_js__WEBPACK_IMPORTED_MODULE_1__.FontLoader();\n    return _TEXT._loadFont();\n  },\n\n  _loadFont: () => {\n    const { basePath } = _ENV.config;\n\n    return new Promise((_resolve, _reject) => {\n      const _fontName_URL = `${basePath}${_TEXT_CONSTANTS.FONTNAME}`;\n      _ENV.fontLoader.load( _fontName_URL, function ( _font ) {\n        // do something with the font here...\n        _ENV.font = _font;\n        _resolve({ loaded: true });\n      });\n    });\n  },\n\n  createText: ({ text, size, height }) => {\n    // TODO: REMOVE OLD CODE 🔍⚠️\n    // const _textGeom = new THREE.TextGeometry(text, { // Old version\n    //   size,\n    //   height,\t\n    //   curveSegments: 1,\n    //   font: _ENV.font,\t\t\t\t\t\t\n    //   bevelThickness: 1,\n    //   bevelSize: 0,\n    //   bevelEnabled: false,\n    // });\n    const _textGeom = new _threejs_TextGeometry_js__WEBPACK_IMPORTED_MODULE_2__.TextGeometry(text, {\n      size,\n      height,\t\n      curveSegments: 1,\n      font: _ENV.font,\t\t\t\t\t\t\n      bevelThickness: 1,\n      bevelSize: 0,\n      bevelEnabled: false,\n    });\n    \n    const _textMesh = new _threejs_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Mesh(_textGeom, _MODEL_TEXT.material.default);\n    _textMesh.geometry.center();\n    _textMesh.rotateX(90 * Math.PI / 180.0);\n\n    return {\n      model: _textMesh,\n    };\n  },\n\n  dispose: ({ text }) => {\n    text.model.geometry.dispose();\n    text = null;\n  },\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_TEXT);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/diagram-renderer/text.js?");

/***/ }),

/***/ "./src/libs/hyper-diagram/common.js":
/*!******************************************!*\
  !*** ./src/libs/hyper-diagram/common.js ***!
  \******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n\n\nconst _COMMON = {\n  generateID: ({ otherIDs }) => {\n    let _id = null;\n\n    do {\n      _id = _COMMON.makeid(11);\n    }\n    while (otherIDs[_id] !== undefined);\n\n    return _id;\n  },\n\n  makeid: (length) => {\n    var result = '';\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var charactersLength = characters.length;\n    for ( var i = 0; i < length; i++ ) {\n       result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n  }\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_COMMON);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-diagram/common.js?");

/***/ }),

/***/ "./src/libs/hyper-diagram/connection.js":
/*!**********************************************!*\
  !*** ./src/libs/hyper-diagram/connection.js ***!
  \**********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./src/libs/hyper-diagram/common.js\");\n\n\n\n\n\nconst _CONNECTION_TYPES = {\n  FLOW: 'flow',\n  DATA: 'data',\n};\n\nconst _ENV = {\n  connectionsALL: {},\n  connections: {},\n};\n\nconst _CONNECTION = {\n  _generateID: () => {\n    let _id = null;\n\n    do {\n      _id = _common_js__WEBPACK_IMPORTED_MODULE_0__.default.makeid(11);\n    }\n    while (_ENV.connectionsALL[_id] !== undefined);\n\n    return _id;\n  },\n\n  createConnection: ({ type, source, target }) => {\n    if ( _CONNECTION.getConnections({ source, target }).length > 0 ) { return null; }\n\n    const _connection = {\n      id: _CONNECTION._generateID(),\n      type,\n      source,\n      target,\n    };\n\n    _ENV.connectionsALL[_connection.id] = _connection;\n    _ENV.connections[_connection.id] = _connection;\n    return _connection;\n  },\n\n  addConnection: ({ connection }) => {\n    _ENV.connectionsALL[connection.id] = connection;\n    _ENV.connections[connection.id] = connection;\n  },\n\n  getConnection: ({ id = null }) => {\n    if (id !== null) { return _ENV.connections[id] || null; }\n    return null;\n  },\n\n  getConnections: ({ source = null, target = null }) => {\n    if (source !== null && target === null) {\n      return Object.values(_ENV.connections).filter(_connection => _connection.source === source);\n    }\n    else if (target !== null && source === null) {\n      return Object.values(_ENV.connections).filter(_connection => _connection.target === target);\n    }\n    else if (source !== null && target !== null) {\n      return Object.values(_ENV.connections).filter(_connection => _connection.source === source && _connection.target === target);\n    }\n    return [];\n  },\n\n  getAllConnections: () => {\n    return _ENV.connectionsALL;\n  },\n\n  deleteConnection: ({ id }) => {\n    if (_ENV.connections[id] === undefined) return null;\n\n    delete _ENV.connections[id];\n    delete _ENV.connectionsALL[id];\n    return true;\n  },\n\n  clearAllConnections: () => {\n    Object.keys(_ENV.connectionsALL).forEach(_k => {\n      _CONNECTION.deleteConnection({ id: _k })\n    });\n  },\n\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_CONNECTION);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-diagram/connection.js?");

/***/ }),

/***/ "./src/libs/hyper-diagram/connectors.js":
/*!**********************************************!*\
  !*** ./src/libs/hyper-diagram/connectors.js ***!
  \**********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./src/libs/hyper-diagram/common.js\");\n/* harmony import */ var _connection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./connection.js */ \"./src/libs/hyper-diagram/connection.js\");\n\n\n\n\nconst _CONNECTOR_TYPES = {\n  FLOW: {\n    STEP_START: 'step-start',\n    STEP_END: 'step-end',\n  },\n  DATA: {\n    DATA_IN: 'data-in',\n    DATA_OUT: 'data-out',\n  },\n};\n\nconst _ENV = {\n  connectorsALL: {},\n  connectors: {},\n};\n\nconst _CONNECTORS = {\n  TYPES: _CONNECTOR_TYPES,\n  _env: _ENV,\n\n  addConnector: ({ node, type, position=0 }) => {\n    const _connector = {\n      id: null, type, position, node\n    };\n\n    switch (type) {\n      case _CONNECTOR_TYPES.FLOW.STEP_START:\n        _connector.id = _common_js__WEBPACK_IMPORTED_MODULE_0__.default.generateID({ otherIDs: _CONNECTORS._env.connectorsALL });\n        node.connectors.flow[_connector.id] = _connector;\n        break;\n      \n      case _CONNECTOR_TYPES.FLOW.STEP_END:\n        _connector.id = _common_js__WEBPACK_IMPORTED_MODULE_0__.default.generateID({ otherIDs: _CONNECTORS._env.connectorsALL });\n        _CONNECTORS._checkConnectorPosition({ connectors: _CONNECTORS.getConnectors({ node, type }), position });\n        node.connectors.flow[_connector.id] = _connector;\n        break;\n\n      case _CONNECTOR_TYPES.DATA.DATA_IN:\n      case _CONNECTOR_TYPES.DATA.DATA_OUT:\n        _connector.id = _common_js__WEBPACK_IMPORTED_MODULE_0__.default.generateID({ otherIDs: _CONNECTORS._env.connectorsALL });\n        node.connectors.data[_connector.id] = _connector;\n        break;\n    \n      default:\n        break;\n    }\n\n    if (_connector.id !== null) {\n      _ENV.connectorsALL[_connector.id] = _connector;\n      _ENV.connectors[_connector.id] = _connector;\n    }\n\n    return _connector.id;\n  },\n\n  getConnector: ({ id }) => {\n    return _ENV.connectors[id];\n  },\n\n  getConnectorDATA: ({ id }) => {\n    const connector = _ENV.connectorsALL[id];\n\n    const _connDATA = {\n      ...connector,\n    };\n    delete _connDATA.node;\n\n    return _connDATA;\n  },\n\n  getConnectors: ({ node=null, type=null }) => {\n    if (node !== null && type === null) {\n      return Object.values(_ENV.connectors).filter(_connector => _connector.node.id === node.id);\n    }\n    else if (type !== null && node === null) {\n      return Object.values(_ENV.connectors).filter(_connector => _connector.type === type);\n    }\n    else if (node !== null && type !== null) {\n      return Object.values(_ENV.connectors).filter(_connector => _connector.node.id === node.id && _connector.type === type);\n    }\n    return [];\n  },\n\n  deleteConnector: ({ node, type, id }) => {\n    let _deleted = false;\n\n    switch (type) {\n      case _CONNECTOR_TYPES.FLOW.STEP_START:\n        if (node.connectors.flow[id] !== undefined) {\n          delete node.connectors.flow[id];\n          _deleted = true;\n        }\n        break;\n\n      case _CONNECTOR_TYPES.FLOW.STEP_END:\n        if (node.connectors.flow[id] !== undefined) {\n          _CONNECTORS._deleteConnectorByPosition({\n            connectors: Object.values(node.connectors.flow).filter(_c => _c.type === _CONNECTOR_TYPES.FLOW.STEP_END), \n            position: node.connectors.flow[id].position });\n          delete node.connectors.flow[id];\n          _deleted = true;\n        }\n        break;\n\n      case _CONNECTOR_TYPES.DATA.DATA_IN:\n      case _CONNECTOR_TYPES.DATA.DATA_OUT:\n        if (node.connectors.data[id] !== undefined) {\n          delete node.connectors.data[id];\n          _deleted = true;\n        }\n        break;\n    \n      default:\n        break;\n    }\n\n    // TODO: DELETE CONNECTIONS 🔍⚠️\n    _connection_js__WEBPACK_IMPORTED_MODULE_1__.default.getConnections({ source: id }).forEach(_connection => _connection_js__WEBPACK_IMPORTED_MODULE_1__.default.deleteConnection({ id: _connection.id }));\n    _connection_js__WEBPACK_IMPORTED_MODULE_1__.default.getConnections({ target: id }).forEach(_connection => _connection_js__WEBPACK_IMPORTED_MODULE_1__.default.deleteConnection({ id: _connection.id }));\n\n    if (_deleted === true) {\n      delete _ENV.connectorsALL[id];\n      delete _ENV.connectors[id];\n    }\n\n    return _deleted;\n  },\n\n  _checkConnectorPosition: ({ connectors, position }) => {\n    // const _connectors = Object.values(connectors);\n    const _connectors = Array.isArray(connectors) ? connectors : Object.values(connectors);\n    \n    if (_connectors.length < position) {\n      position = _connectors.length;\n      // throw Error('Bad position');\n    }\n\n    _connectors.sort((_a, _b) => {\n      if (_a.position > _b.position) {\n        return 1;\n      }\n      if (_a.position < _b.position) {\n        return -1;\n      }\n      return 0;\n    });\n\n    // _connectors.slice(position).forEach(_connector => { // rearrange\n    //   _connectors.position++;\n    // });\n\n    for (let _i = position; _i < _connectors.length; _i++) {  // rearrange\n      _connectors[_i].position++;\n    }\n  },\n\n  _deleteConnectorByPosition: ({ connectors, position }) => {\n    const _connectors = Object.values(connectors);\n\n    if (_connectors.length < position) {\n      // position = _connectors.length;\n      throw Error('Bad position');\n    }\n\n    _connectors.sort((_a, _b) => {\n      if (_a.position > _b.position) {\n        return 1;\n      }\n      if (_a.position < _b.position) {\n        return -1;\n      }\n      return 0;\n    });\n\n    for (let _i = position + 1; _i < _connectors.length; _i++) {  // rearrange\n      _connectors[_i].position--;\n    }\n  },\n\n  loadConnectors: ({ node }) => {\n    Object.values(node.connectors.flow).forEach(_c => {  // Process the flow connectors 🧩🛠\n      _c.node = node;\n      _ENV.connectors[_c.id] = _c;\n      _ENV.connectorsALL[_c.id] = _c;\n    });\n    \n    Object.values(node.connectors.data).forEach(_c => {  // Process the data connectors 🧩🛠\n      _c.node = node;\n      _ENV.connectors[_c.id] = _c;\n      _ENV.connectorsALL[_c.id] = _c;\n    });\n  },\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_CONNECTORS);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-diagram/connectors.js?");

/***/ }),

/***/ "./src/libs/hyper-diagram/data/index.js":
/*!**********************************************!*\
  !*** ./src/libs/hyper-diagram/data/index.js ***!
  \**********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _states_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./states.js */ \"./src/libs/hyper-diagram/data/states.js\");\n\n\n\n\n\nconst _DATA = {\n  states: _states_js__WEBPACK_IMPORTED_MODULE_0__.default,\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_DATA);\n\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-diagram/data/index.js?");

/***/ }),

/***/ "./src/libs/hyper-diagram/data/states.js":
/*!***********************************************!*\
  !*** ./src/libs/hyper-diagram/data/states.js ***!
  \***********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common.js */ \"./src/libs/hyper-diagram/common.js\");\n\n\n\nconst _DEF_STATE = {\n  id: null,\n  name: null,\n  description: null,\n  properties: {},\n};\n\nconst _DEF_PROPERTY = {\n  id: null,\n  type: null,\n  value: null,\n};\n\nconst _DEF_STATE_REF = {\n  id: null,\n  reference: null,\n};\n\nconst _ENV = {\n  states: {}, // All the states\n  referencesALL: {},  // All the state references \n  references: {}, // The state references in the current context\n};\n\nconst _STATES = {\n  _env: _ENV,\n\n  addState: ({ id, name, description, properties }) => {\n    if (_ENV.states[id] !== undefined) throw new Error('State id already exists');\n\n    const _state = {\n      ..._DEF_STATE,\n      id,\n      name,\n      description,\n      properties,\n    };\n    _ENV.states[id] = _state;\n  },\n\n  getStates: () => {\n    return _ENV.states;\n  },\n\n  getState: ({ id }) => {\n    return _ENV.states[id];\n  },\n\n  updateState: ({ id, name, description, properties }) => {\n    if (_ENV.states[id] === undefined) throw new Error('State id not exists');\n\n    const _state = {\n      ..._DEF_STATE,\n      id,\n      name,\n      description,\n      properties,\n    };\n    _ENV.states[id] = _state;\n  },\n\n  deleteState: ({ id }) => {\n    if (_ENV.states[id] === undefined) return null;\n    Object.values(_ENV.references).filter(_ref => _ref.reference === id)  // Delete references\n      .forEach(_ref => {\n        _STATES.deleteReference({ id: _ref.id })\n      });\n\n    delete _ENV.states[id];\n    return true;\n  },\n\n  clearStates: () => {\n    Object.values(_ENV.states).forEach(state => _STATES.deleteState(state));\n  },\n\n  addReference: ({ id = null, state }) => {\n    if (_ENV.states[state] === undefined) throw new Error('State id not exists');\n    if (_ENV.referencesALL[id] !== undefined) throw new Error('State reference id already exists');\n    // const id = _COMMON.generateID({ otherIDs: _ENV.referencesALL });  // Generate ID for the state reference 🔍⚠️\n\n    const _stateRef = {\n      ..._DEF_STATE_REF,\n      id, \n      reference: state,\n    };\n    _ENV.referencesALL[id] = _stateRef;\n    _ENV.references[id] = _stateRef;\n\n    return _stateRef;\n  },\n\n  getReferences: () => {\n    return _ENV.references;\n  },\n\n  getAllReferences: () => {\n    return _ENV.referencesALL;\n  },\n\n  getReference: ({ id }) => {\n    return _ENV.references[id];\n  },\n\n  getStateReferences: ({ id }) => {\n    return Object.values(_ENV.references).filter(_r => _r.reference === id);\n  },\n\n  deleteReference: ({ id }) => {\n    if (_ENV.references[id] === undefined) return null;\n    delete _ENV.references[id];\n    delete _ENV.referencesALL[id];\n    return true;\n  },\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_STATES);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-diagram/data/states.js?");

/***/ }),

/***/ "./src/libs/hyper-diagram/defs-nodes/data-state-default.js":
/*!*****************************************************************!*\
  !*** ./src/libs/hyper-diagram/defs-nodes/data-state-default.js ***!
  \*****************************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _data_states_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/states.js */ \"./src/libs/hyper-diagram/data/states.js\");\n\n\n\n\n\nconst _NODE = {\n  def: {\n    name: 'data state default',\n    category: 'data',\n    family: 'state',\n    type: 'default',\n    connectors: [\n      { type: 'data-in' },\n      { type: 'data-out' }\n    ],\n  },\n\n  create: ({ node }) => { \n    if (node.extra === null) {\n      node.extra = {};\n    }\n\n    node.extra = {\n      source: null, // id of the source data state\n      state: null,  // the source data state\n      reference: null, // id of the reference\n      ...node.extra,\n    };\n\n    // Add the source state id to the extra information\n    const _state = _data_states_js__WEBPACK_IMPORTED_MODULE_0__.default.getState({ id: node.extra.source });\n    node.extra.state = _state;\n\n    // Add the state reference, Node ID is the same as the ID of the state reference 🔍⚠️\n    const _stateRef = _data_states_js__WEBPACK_IMPORTED_MODULE_0__.default.addReference({ id: node.id , state: node.extra.source });\n    node.extra.reference = _stateRef.id;\n    \n    return node;\n  },\n  \n  delete: ({ node }) => {\n    // Delete the state reference\n    _data_states_js__WEBPACK_IMPORTED_MODULE_0__.default.deleteReference({ id: node.extra.reference });\n  },\n\n  getDATA: ({ node }) => {\n    const _nodeDATA = {\n      ...node,\n      extra: {\n        ...node.extra,\n        state: null,\n      }\n    };\n\n    return _nodeDATA;\n  },\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-diagram/defs-nodes/data-state-default.js?");

/***/ }),

/***/ "./src/libs/hyper-diagram/defs-nodes/flow-signal-emit.js":
/*!***************************************************************!*\
  !*** ./src/libs/hyper-diagram/defs-nodes/flow-signal-emit.js ***!
  \***************************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n\nconst _PROCESS = {\n  run: ({ node, engine }) => {\n    engine.flowSignals.notifySignal({ signal: node.extra.attributes['signal-name'].value });\n  },\n};\n\nconst _NODE = {\n  def: {\n    name: 'flow signal emit',\n    category: 'flow',\n    family: 'signal',\n    type: 'emit',\n    connectors: [\n      { type: 'step-start' },\n    ],\n    attributes: {\n      'signal-name': {\n        type: 'string',\n        value: null,\n      }\n    },\n  },\n  create: ({ node }) => { return node; },\n  delete: ({ node }) => {},\n  process: _PROCESS,\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-diagram/defs-nodes/flow-signal-emit.js?");

/***/ }),

/***/ "./src/libs/hyper-diagram/defs-nodes/flow-signal-listen.js":
/*!*****************************************************************!*\
  !*** ./src/libs/hyper-diagram/defs-nodes/flow-signal-listen.js ***!
  \*****************************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nconst _PROCESS = {\n  processDiagram: ({ diagram, engine }) => {\n    const nodes = diagram.node.getNodes();\n\n    const _listenNodes = Object.values(nodes).filter(_n => _n.category === 'flow' && _n.family === 'signal' && _n.type === 'listen');\n    _listenNodes.forEach(_n => {\n      const _signalName = _n.extra.attributes['signal-name'].value;\n      engine.flowSignals.listenToSignal({ signal: _signalName, listener: () => {\n        engine.flowControl.gotoNode({ id: _n.id });\n      }});\n    });\n  },\n\n};\n\n\nconst _NODE = {\n  def: {\n    name: 'flow signal listen',\n    category: 'flow',\n    family: 'signal',\n    type: 'listen',\n    connectors: [\n      { type: 'step-end' },\n    ],\n    attributes: {\n      'signal-name': {\n        type: 'string',\n        value: null,\n      }\n    },\n  },\n  create: ({ node }) => { return node; },\n  delete: ({ node }) => {},\n  process: _PROCESS,\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-diagram/defs-nodes/flow-signal-listen.js?");

/***/ }),

/***/ "./src/libs/hyper-diagram/defs-nodes/flow-step-default.js":
/*!****************************************************************!*\
  !*** ./src/libs/hyper-diagram/defs-nodes/flow-step-default.js ***!
  \****************************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n\n\n\nconst _NODE = {\n  def: {\n    name: 'flow step default',\n    category: 'flow',\n    family: 'step',\n    type: 'default',\n    connectors: [\n      { type: 'step-start' },\n      { type: 'step-end' },\n      { type: 'data-in' },\n      { type: 'data-out' }\n    ],\n  },\n  create: ({ node }) => { return node; },\n  delete: ({ node }) => {}\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-diagram/defs-nodes/flow-step-default.js?");

/***/ }),

/***/ "./src/libs/hyper-diagram/defs-nodes/flow-step-function-call.js":
/*!**********************************************************************!*\
  !*** ./src/libs/hyper-diagram/defs-nodes/flow-step-function-call.js ***!
  \**********************************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n\nconst _PROCESS = {\n  run: ({ node, engine, data }) => {\n    const _externalProcess = engine.diagramProcess.getExternalProcess({ id: node.extra.attributes['function-name'].value });\n    _externalProcess({ engine, data });\n  },\n};\n\n\nconst _NODE = {\n  def: {\n    name: 'flow step function call',\n    category: 'flow',\n    family: 'step',\n    type: 'function-call',\n    connectors: [\n      { type: 'step-start' },\n      { type: 'step-end' },\n      { type: 'data-in' },\n      { type: 'data-out' }\n    ],\n    attributes: {\n      'function-name': {\n        type: 'string',\n        value: null,\n      }\n    },\n  },\n  create: ({ node }) => { return node; },\n  delete: ({ node }) => {},\n  process: _PROCESS,\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-diagram/defs-nodes/flow-step-function-call.js?");

/***/ }),

/***/ "./src/libs/hyper-diagram/defs-nodes/flow-step-pause.js":
/*!**************************************************************!*\
  !*** ./src/libs/hyper-diagram/defs-nodes/flow-step-pause.js ***!
  \**************************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n\nconst _PROCESS = {\n  run: ({ node, engine }) => {\n    engine.flowControl.pauseFlow();\n  },\n};\n\nconst _NODE = {\n  def: {\n    name: 'flow step pause',\n    category: 'flow',\n    family: 'step',\n    type: 'pause',\n    connectors: [\n      { type: 'step-start' },\n      { type: 'step-end' }\n    ],\n  },\n  create: ({ node }) => { return node; },\n  delete: ({ node }) => {},\n  process: _PROCESS,\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-diagram/defs-nodes/flow-step-pause.js?");

/***/ }),

/***/ "./src/libs/hyper-diagram/defs-nodes/index.js":
/*!****************************************************!*\
  !*** ./src/libs/hyper-diagram/defs-nodes/index.js ***!
  \****************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _flow_step_default_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./flow-step-default.js */ \"./src/libs/hyper-diagram/defs-nodes/flow-step-default.js\");\n/* harmony import */ var _data_state_default_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./data-state-default.js */ \"./src/libs/hyper-diagram/defs-nodes/data-state-default.js\");\n/* harmony import */ var _flow_step_pause_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./flow-step-pause.js */ \"./src/libs/hyper-diagram/defs-nodes/flow-step-pause.js\");\n/* harmony import */ var _flow_step_function_call_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./flow-step-function-call.js */ \"./src/libs/hyper-diagram/defs-nodes/flow-step-function-call.js\");\n/* harmony import */ var _flow_signal_listen_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./flow-signal-listen.js */ \"./src/libs/hyper-diagram/defs-nodes/flow-signal-listen.js\");\n/* harmony import */ var _flow_signal_emit_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./flow-signal-emit.js */ \"./src/libs/hyper-diagram/defs-nodes/flow-signal-emit.js\");\n\n\n\n\n\n\n\n\nconst _ENV = {\n  nodesDEFS: {\n    flow_step_default: _flow_step_default_js__WEBPACK_IMPORTED_MODULE_0__.default,\n    data_state_default: _data_state_default_js__WEBPACK_IMPORTED_MODULE_1__.default,\n    flow_step_pause: _flow_step_pause_js__WEBPACK_IMPORTED_MODULE_2__.default,\n    flow_step_function_call: _flow_step_function_call_js__WEBPACK_IMPORTED_MODULE_3__.default,\n    flow_signal_listen: _flow_signal_listen_js__WEBPACK_IMPORTED_MODULE_4__.default,\n    flow_signal_emit: _flow_signal_emit_js__WEBPACK_IMPORTED_MODULE_5__.default,\n  },\n  categories: {},\n};\n\n/**\n * Nodes definitions\n */\nconst _NODES = {\n  _env: _ENV,\n  init: () => {\n    Object.keys(_ENV.nodesDEFS).forEach(_k => {\n      _NODES.defineNode({ nodeDEF: _ENV.nodesDEFS[_k] });\n    });\n  },\n\n  defineNode: ({ nodeDEF }) => {\n    const { category, family, type } = nodeDEF.def;\n\n    if (_ENV.categories[category] === undefined) { _ENV.categories[category] = { name: category, families: {} }; }\n    const _category = _ENV.categories[category];\n\n    if (_category.families[family] === undefined) { _category.families[family] = { name: family, types: {} }; }\n    const _family = _category.families[family];\n\n    if (_family.types[type] !== undefined) { \n      throw new Error('Node type already defined')\n    }\n    _family.types[type] = { name: type, def: nodeDEF }; \n  },\n\n  getNodeDEF: ({ category, family, type }) => {\n    const _category = _ENV.categories[category];\n    if (_category === undefined) { throw new Error('Category not found.'); }\n    const _family = _category.families[family];\n    if (_family === undefined) { throw new Error('Family not found.'); }\n    const _type = _family.types[type];\n    if (_type === undefined) { throw new Error('Type not found.'); }\n    return _type.def\n  },\n\n  getAllNodeDEFS: () => _ENV.nodesDEFS,\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODES);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-diagram/defs-nodes/index.js?");

/***/ }),

/***/ "./src/libs/hyper-diagram/index.js":
/*!*****************************************!*\
  !*** ./src/libs/hyper-diagram/index.js ***!
  \*****************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _node_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node.js */ \"./src/libs/hyper-diagram/node.js\");\n/* harmony import */ var _connectors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./connectors.js */ \"./src/libs/hyper-diagram/connectors.js\");\n/* harmony import */ var _connection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./connection.js */ \"./src/libs/hyper-diagram/connection.js\");\n/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./data */ \"./src/libs/hyper-diagram/data/index.js\");\n/* harmony import */ var _data_states_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./data/states.js */ \"./src/libs/hyper-diagram/data/states.js\");\n\n\n\n\n\n\n\nconst _HYPERDIAGRAM = {\n  node: _node_js__WEBPACK_IMPORTED_MODULE_0__.default,\n  connectors: _connectors_js__WEBPACK_IMPORTED_MODULE_1__.default,\n  connection: _connection_js__WEBPACK_IMPORTED_MODULE_2__.default,\n  data: _data__WEBPACK_IMPORTED_MODULE_3__.default,\n\n  init: () => {\n    _node_js__WEBPACK_IMPORTED_MODULE_0__.default.init();\n  },\n\n  getDATA: () => {\n    const _hyperDiagramDATA = {\n      nodes: _node_js__WEBPACK_IMPORTED_MODULE_0__.default.getAllNodesDATA(),\n      connections: _connection_js__WEBPACK_IMPORTED_MODULE_2__.default.getAllConnections(),\n      data: {\n        states: _data__WEBPACK_IMPORTED_MODULE_3__.default.states.getStates(),\n        references: _data__WEBPACK_IMPORTED_MODULE_3__.default.states.getAllReferences(),\n      },\n    };\n\n    // https://stackoverflow.com/questions/11616630/how-can-i-print-a-circular-structure-in-a-json-like-format 🧩📌\n    // const getCircularReplacer = () => {\n    //   const seen = new WeakSet();\n    //   return (key, value) => {\n    //     if (typeof value === \"object\" && value !== null) {\n    //       if (seen.has(value)) {\n    //         return;\n    //       }\n    //       seen.add(value);\n    //     }\n    //     return value;\n    //   };\n    // };\n    \n    // let _dataJSON = JSON.stringify(_hyperDiagramDATA, getCircularReplacer(), 2);\n    let _dataJSON = JSON.stringify(_hyperDiagramDATA, null, 2);\n    return _dataJSON;\n  },\n\n  loadDATA: ({ data }) => {\n    _node_js__WEBPACK_IMPORTED_MODULE_0__.default.clearAllNodes();\n    _data_states_js__WEBPACK_IMPORTED_MODULE_4__.default.clearStates();\n\n    Object.values(data.data.states).forEach(state => _data__WEBPACK_IMPORTED_MODULE_3__.default.states.addState(state));  // Load states\n    // Object.values(data.data.references).forEach(_r => _DATA.states.addReference({ id: _r.id, state: _r.reference }));  // Load references\n\n    Object.values(data.nodes).forEach(nodeDATA => _node_js__WEBPACK_IMPORTED_MODULE_0__.default.loadNode({ nodeDATA }));  // Load nodes\n    Object.values(data.connections).forEach(connection => _connection_js__WEBPACK_IMPORTED_MODULE_2__.default.addConnection({ connection }));  // Add connections\n  },\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_HYPERDIAGRAM);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-diagram/index.js?");

/***/ }),

/***/ "./src/libs/hyper-diagram/node.js":
/*!****************************************!*\
  !*** ./src/libs/hyper-diagram/node.js ***!
  \****************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./src/libs/hyper-diagram/common.js\");\n/* harmony import */ var _connectors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./connectors.js */ \"./src/libs/hyper-diagram/connectors.js\");\n/* harmony import */ var _defs_nodes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./defs-nodes */ \"./src/libs/hyper-diagram/defs-nodes/index.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/index.js */ \"./src/utils/index.js\");\n\n\n\n\n\n\nconst _ENV = {\n  nodesALL: {},\n  nodes: {},\n};\n\n\nconst _NODE = {\n  _env: _ENV,\n\n  init: () => {\n    _defs_nodes__WEBPACK_IMPORTED_MODULE_2__.default.init();\n  },\n\n  create: ({ category, family, type, extra={} }) => {\n    const _nodeDEF = _defs_nodes__WEBPACK_IMPORTED_MODULE_2__.default.getNodeDEF({ category, family, type });\n    \n    let _node = {\n      id: _common_js__WEBPACK_IMPORTED_MODULE_0__.default.generateID({ otherIDs: _ENV.nodesALL }),\n      class: 'node',\n      category,\n      family,\n      type,\n      name: null,\n      extra: {\n        ...extra,\n        attributes: {\n          ..._utils_index_js__WEBPACK_IMPORTED_MODULE_3__.default.deepClone(_nodeDEF.def.attributes),  // clone the attributes of the node definition 🧩\n          ...extra.attributes,\n        },\n      },\n      connectors: {\n        flow: {},\n        data: {},\n      },\n    };\n    _node.name = `${_nodeDEF.def.name} - ${_node.id}`;\n\n    const _step_start = _nodeDEF.def.connectors.find(_c => _c.type === 'step-start');\n    if (_step_start !== undefined) {\n      _connectors_js__WEBPACK_IMPORTED_MODULE_1__.default.addConnector({ node: _node, type: _connectors_js__WEBPACK_IMPORTED_MODULE_1__.default.TYPES.FLOW.STEP_START });\n    }\n\n    const _step_end = _nodeDEF.def.connectors.find(_c => _c.type === 'step-end');\n    if (_step_end !== undefined) {\n      _connectors_js__WEBPACK_IMPORTED_MODULE_1__.default.addConnector({ node: _node, type: _connectors_js__WEBPACK_IMPORTED_MODULE_1__.default.TYPES.FLOW.STEP_END });\n    }\n\n    const _data_in = _nodeDEF.def.connectors.find(_c => _c.type === 'data-in');\n    if (_data_in !== undefined) {\n      _connectors_js__WEBPACK_IMPORTED_MODULE_1__.default.addConnector({ node: _node, type: _connectors_js__WEBPACK_IMPORTED_MODULE_1__.default.TYPES.DATA.DATA_IN });\n    }\n\n    const _data_out = _nodeDEF.def.connectors.find(_c => _c.type === 'data-out');\n    if (_data_out !== undefined) {\n      _connectors_js__WEBPACK_IMPORTED_MODULE_1__.default.addConnector({ node: _node, type: _connectors_js__WEBPACK_IMPORTED_MODULE_1__.default.TYPES.DATA.DATA_OUT });\n    }\n\n    _node = _nodeDEF.create({ node: _node });\n\n    _ENV.nodesALL[_node.id] = _node;\n    _ENV.nodes[_node.id] = _node;\n    return _node;\n  },\n\n  delete: ({ id }) => {\n    if (_ENV.nodes[id] === undefined) return null;\n    const node = _ENV.nodes[id];\n\n    const _nodeDEF = _defs_nodes__WEBPACK_IMPORTED_MODULE_2__.default.getNodeDEF(node);\n    _nodeDEF.delete({ node });\n\n    _connectors_js__WEBPACK_IMPORTED_MODULE_1__.default.getConnectors({ node })\n      .forEach(_connector => _connectors_js__WEBPACK_IMPORTED_MODULE_1__.default.deleteConnector({ node, type: _connector.type, id: _connector.id }));\n\n    delete _ENV.nodes[id];\n    delete _ENV.nodesALL[id];\n    return true;\n  },\n\n  getNode: ({ id }) => {\n    return _ENV.nodes[id];\n  },\n\n  getNodeDEF: _defs_nodes__WEBPACK_IMPORTED_MODULE_2__.default.getNodeDEF,\n\n  getAllNodeDEFS: _defs_nodes__WEBPACK_IMPORTED_MODULE_2__.default.getAllNodeDEFS,\n\n  getNodeDATA: ({ id }) => {\n    const node = _ENV.nodes[id];\n    \n    let _nodeDATA = {\n      ...node,\n      connectors: {\n        flow: {},\n        data: {},\n      },\n    };\n\n    // Obtain connectors data 🧩⚙\n    Object.values(node.connectors.flow).forEach(_c => {\n      _nodeDATA.connectors.flow[_c.id] = _connectors_js__WEBPACK_IMPORTED_MODULE_1__.default.getConnectorDATA(_c);\n    });\n\n    Object.values(node.connectors.data).forEach(_c => {\n      _nodeDATA.connectors.data[_c.id] = _connectors_js__WEBPACK_IMPORTED_MODULE_1__.default.getConnectorDATA(_c);\n    });\n\n    // Obtain data from the node definition 🧩⚙\n    const _nodeDEF = _defs_nodes__WEBPACK_IMPORTED_MODULE_2__.default.getNodeDEF(node);\n    if (_nodeDEF.getDATA !== undefined) {\n      _nodeDATA = _nodeDEF.getDATA({ node: _nodeDATA });\n    }\n\n    return _nodeDATA;\n  },\n\n  getNodes: () => {\n    return _ENV.nodes;\n  },\n\n  getAllNodes: () => {\n    return _ENV.nodesALL;\n  },\n\n  getAllNodesDATA: () => {\n    const _allNodesDATA = {};\n\n    Object.values(_ENV.nodesALL).forEach(_n => {\n      _allNodesDATA[_n.id] = _NODE.getNodeDATA(_n);\n    });\n    \n    return _allNodesDATA;\n  },\n\n  clearAllNodes: () => {\n    Object.keys(_ENV.nodesALL).forEach(_k => {\n      _NODE.delete({ id: _k });\n    });\n  },\n\n  loadNode: ({ nodeDATA }) => {\n    const _nodeDEF = _defs_nodes__WEBPACK_IMPORTED_MODULE_2__.default.getNodeDEF(nodeDATA);\n\n    let node = {\n      ...nodeDATA,\n    };\n\n    _connectors_js__WEBPACK_IMPORTED_MODULE_1__.default.loadConnectors({ node });\n\n    node = _nodeDEF.create({ node });\n\n    _ENV.nodesALL[node.id] = node;\n    _ENV.nodes[node.id] = node;\n  },\n\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-diagram/node.js?");

/***/ }),

/***/ "./src/libs/hyper-engine/data-control.js":
/*!***********************************************!*\
  !*** ./src/libs/hyper-engine/data-control.js ***!
  \***********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n\n\nconst _ENV = {\n  engine: null,\n  hyperdiagram: null,\n  dataIN: {},\n  dataOUT: {},\n}\n\nconst _DATA_CONTROL = {\n  init: ({ engine }) => {\n    _ENV.engine = engine;\n    _ENV.hyperdiagram = engine._env.hyperdiagram;  // Access to other environment ⚠❗🧩\n  },\n\n  setDataFromNode: ({ node }) => {\n    _ENV.dataIN = {};\n    _ENV.dataOUT = {};\n\n    const _connectorDataIN = _ENV.hyperdiagram.connectors.getConnectors({ node, type: 'data-in' })[0];  // Obtain the connector for 'data-in'\n    if (_connectorDataIN !== undefined) {\n      const _connectionsDataIN = _ENV.hyperdiagram.connection.getConnections({ target: _connectorDataIN.id });\n      _connectionsDataIN.forEach(_c => {\n        const _sourceDataIN = _ENV.hyperdiagram.connectors.getConnector({ id: _c.source });\n        const _stateDataIN = _ENV.hyperdiagram.data.states.getState({ id: _sourceDataIN.node.extra.source });\n        _ENV.dataIN[_stateDataIN.id] = Object.values(_stateDataIN.properties).reduce((_props, _prop) => {\n          _props[_prop.id] = _prop.value;\n          return _props;\n        }, {});\n      });\n    }\n\n    const _connectorDataOUT = _ENV.hyperdiagram.connectors.getConnectors({ node, type: 'data-out' })[0];  // Obtain the connector for 'data-out'\n    if (_connectorDataOUT !== undefined) {\n      const _connectionsDataOUT = _ENV.hyperdiagram.connection.getConnections({ source: _connectorDataOUT.id });\n      _connectionsDataOUT.forEach(_c => {\n        const _targetDataOUT = _ENV.hyperdiagram.connectors.getConnector({ id: _c.target });\n        const _stateDataOUT = _ENV.hyperdiagram.data.states.getState({ id: _targetDataOUT.node.extra.source });\n        _ENV.dataOUT[_stateDataOUT.id] = Object.values(_stateDataOUT.properties).reduce((_props, _prop) => {\n          _props[_prop.id] = _prop.value;\n          return _props;\n        }, {});\n      });\n    }\n  },\n\n  getDATA: () => {\n    return {\n      dataIN: _ENV.dataIN,\n      dataOUT: _ENV.dataOUT,\n    };\n  },\n\n  clearDATA: () => {\n    _ENV.dataIN = {};\n    _ENV.dataOUT = {};\n  },\n\n  updateOutputDATA: () => {\n    Object.keys(_ENV.dataOUT).forEach(_k => {\n      const state = _ENV.hyperdiagram.data.states.getState({ id: _k });\n      Object.keys(_ENV.dataOUT[_k]).forEach(_prop => {\n        state.properties[_prop].value = _ENV.dataOUT[_k][_prop];\n      });\n    });\n  },\n\n  infoDiagramDATA: () => {\n    const _dataSources = new Set();\n\n    // Obtain all the sources used from the data nodes\n    Object.values(_ENV.hyperdiagram.node.getNodes())\n    .filter(_n => _n.category === 'data' && _n.family === 'state' && _n.type === 'default')\n    .forEach(_n => {\n      _dataSources.add(_n.extra.source)\n    });\n\n    // Obtain data information from the states\n    const _dataInfo = Array.from(_dataSources).reduce((_info, _source) => {\n      _info[_source] = {};\n      const state = _ENV.hyperdiagram.data.states.getState({ id: _source });\n      Object.keys(state.properties).forEach(_prop => {\n        _info[_source][_prop] = state.properties[_prop].value;\n      });\n      return _info;\n    }, {});\n\n    return _dataInfo;\n  },\n\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_DATA_CONTROL);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-engine/data-control.js?");

/***/ }),

/***/ "./src/libs/hyper-engine/diagram-process.js":
/*!**************************************************!*\
  !*** ./src/libs/hyper-engine/diagram-process.js ***!
  \**************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nconst _ENV = {\n  engine: null,\n  diagram: null,\n  externalProcesses: {},\n};\n\n\nconst _DIAGRAM_PROCESS = {\n\n  init: ({ engine }) => {\n    _ENV.engine = engine;\n    _ENV.diagram = engine._env.hyperdiagram;  // Access to other environment ⚠❗🧩\n  },\n\n  // Process all the node definitions for the diagram\n  processDiagram: () => {\n    const nodesDEFS = _ENV.diagram.node.getAllNodeDEFS();  // Obtain all the node definitions 🧩\n\n    // console.log('nodedefs', {_def});  // TODO: REMOVE DEBUG LOG 📏⏳🔍\n\n\n    Object.values(nodesDEFS).forEach(_def => {\n      if (_def.process !== undefined && _def.process.processDiagram !== undefined) {\n        _def.process.processDiagram({ diagram: _ENV.diagram, engine: _ENV.engine });\n      }\n    });\n  },\n\n  addExternalProcess: ({ id, process }) => {\n    _ENV.externalProcesses[id] = process;\n  },\n\n  getExternalProcess: ({ id }) => _ENV.externalProcesses[id],\n  \n  clearExternalProcesses: () => {\n    Object.keys(_ENV.externalProcesses).forEach(id => {\n      delete _ENV.externalProcesses[id];\n    })\n  },\n\n  infoDiagramProcess: () => {\n    const externalProcesses = new Set();\n\n    // Obtain all the sources used from the data nodes\n    Object.values(_ENV.diagram.node.getNodes())\n    .filter(_n => _n.category === 'flow' && _n.family === 'step' && _n.type === 'function-call')\n    .forEach(_n => externalProcesses.add(_n.extra.attributes['function-name'].value))\n\n    const _infoProcesses = {\n      external: Array.from(externalProcesses),\n    };\n\n    return _infoProcesses;\n  },\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_DIAGRAM_PROCESS);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-engine/diagram-process.js?");

/***/ }),

/***/ "./src/libs/hyper-engine/engine.js":
/*!*****************************************!*\
  !*** ./src/libs/hyper-engine/engine.js ***!
  \*****************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _diagram_process_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./diagram-process.js */ \"./src/libs/hyper-engine/diagram-process.js\");\n/* harmony import */ var _flow_signals_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./flow-signals.js */ \"./src/libs/hyper-engine/flow-signals.js\");\n/* harmony import */ var _flow_control_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./flow-control.js */ \"./src/libs/hyper-engine/flow-control.js\");\n/* harmony import */ var _data_control_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./data-control.js */ \"./src/libs/hyper-engine/data-control.js\");\n\n\n\n\n\nconst _ENV = {\n  hyperdiagram: null,\n};\n\nconst _ENGINE = {\n  _env: _ENV,\n\n  init: ({ hyperdiagram }) => {\n    _ENV.hyperdiagram = hyperdiagram;\n\n    _diagram_process_js__WEBPACK_IMPORTED_MODULE_0__.default.init({ engine: _ENGINE });\n    _flow_control_js__WEBPACK_IMPORTED_MODULE_2__.default.init({ engine: _ENGINE });\n    _data_control_js__WEBPACK_IMPORTED_MODULE_3__.default.init({ engine: _ENGINE });\n  },\n\n  diagramProcess: _diagram_process_js__WEBPACK_IMPORTED_MODULE_0__.default,\n  flowSignals: _flow_signals_js__WEBPACK_IMPORTED_MODULE_1__.default,\n  flowControl: _flow_control_js__WEBPACK_IMPORTED_MODULE_2__.default,\n  dataControl: _data_control_js__WEBPACK_IMPORTED_MODULE_3__.default,\n\n  diagramInfo: () => {\n    const _diagramInfo = {\n      process: _ENGINE.diagramProcess.infoDiagramProcess(),\n      signals: _ENGINE.flowSignals.infoDiagramSignals({ diagram: _ENV.hyperdiagram }),\n      data: _ENGINE.dataControl.infoDiagramDATA(),\n    };\n    return _diagramInfo;\n  },\n\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_ENGINE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-engine/engine.js?");

/***/ }),

/***/ "./src/libs/hyper-engine/flow-control.js":
/*!***********************************************!*\
  !*** ./src/libs/hyper-engine/flow-control.js ***!
  \***********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nconst _ENV = {\n  engine: null,\n  hyperdiagram: null,\n  nextNode: null,\n  onPause: false,\n  runningNode: false,\n};\n\n\nconst _FLOW_CONTROL = {\n  init: ({ engine }) => {\n    _ENV.engine = engine;\n    _ENV.hyperdiagram = engine._env.hyperdiagram;  // Access to other environment ⚠❗🧩\n  },\n\n  gotoNode: ({ id }) => {\n    const node = _ENV.hyperdiagram.node.getNode({ id });\n    const nodeDEF = _ENV.hyperdiagram.node.getNodeDEF(node);\n\n    _ENV.runningNode = true;\n    _ENV.onPause = false;\n    _ENV.nextNode = null;  // Reset the next node\n\n    _ENV.engine.dataControl.setDataFromNode({ node });  // Prepare the data for the node ⚙🧩\n    const data = _ENV.engine.dataControl.getDATA();\n\n    if (nodeDEF.process && nodeDEF.process.run) nodeDEF.process.run({ node, engine: _ENV.engine, data });  // Run the node ⚙🧩\n\n    const _connectorStepEND = Object.values(node.connectors.flow).filter(_c => _c.type === 'step-end')[0];  // Obtain the connector for 'step-end'\n    if (_connectorStepEND !== undefined) {\n      const _connectionStepEND = _ENV.hyperdiagram.connection.getConnections({ source: _connectorStepEND.id })[0];\n      if (_connectionStepEND !== undefined) {\n        const _targetStepEND = _ENV.hyperdiagram.connectors.getConnector({ id: _connectionStepEND.target });\n        _ENV.nextNode = _targetStepEND.node.id;\n      } \n    }\n\n    _ENV.runningNode = false;\n\n    // @see https://levelup.gitconnected.com/the-call-stack-is-not-an-infinite-resource-d530df0041bc\n    // setImmediate(() => nextStep());\n    requestAnimationFrame(() => _FLOW_CONTROL.nextStep());  // Avoid call stack overflow ⚠⚙🛠\n  },\n\n  nextStep: () => {\n    if (_ENV.onPause) return;\n    if (_ENV.nextNode !== null) _FLOW_CONTROL.gotoNode({ id: _ENV.nextNode }) \n  },\n\n  pauseFlow: () => {\n    _ENV.onPause = true;\n  }\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_FLOW_CONTROL);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-engine/flow-control.js?");

/***/ }),

/***/ "./src/libs/hyper-engine/flow-signals.js":
/*!***********************************************!*\
  !*** ./src/libs/hyper-engine/flow-signals.js ***!
  \***********************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs */ \"./node_modules/rxjs/_esm5/internal/Subject.js\");\n\n\n\nconst _ENV = {\n  subject: new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject(),\n  listeners: {},\n};\n\nconst _FLOW_SIGNALS = {\n  notifySignal: ({ signal }) => {\n    const { subject } = _ENV;\n    subject.next({ signal });\n  },\n\n  listenToSignal: ({ listener, signal }) => {\n    const { subject } = _ENV;\n\n    if (_ENV.listeners[signal] === undefined) _ENV.listeners[signal] = [];\n\n    const subscriber = subject.subscribe({\n      next: (_options) => {\n        if (_options.signal === signal) listener(_options);\n      },\n    });\n\n    _ENV.listeners[signal].push({ listener, subscriber });\n\n    return subscriber;\n  },\n\n  clearSignals: () => {\n    Object.keys(_ENV.listeners).forEach(signal => {\n      _ENV.listeners[signal].forEach(_listener => _listener.subscriber.unsubscribe());\n      delete _ENV.listeners[signal];\n    });\n  },\n\n  infoDiagramSignals: ({ diagram }) => {\n    const listenSignals = new Set();\n    const emitSignals = new Set();\n\n    // Obtain all the sources used from the data nodes\n    Object.values(diagram.node.getNodes())\n    .filter(_n => _n.category === 'flow' && _n.family === 'signal')\n    .forEach(_n => {\n      switch (_n.type) {\n        case 'listen':\n          listenSignals.add(_n.extra.attributes['signal-name'].value)\n          break;\n        case 'emit':\n          emitSignals.add(_n.extra.attributes['signal-name'].value)\n          break;\n        default:\n          break;\n      }\n    });\n\n    const _infoSignals = {\n      listen: Array.from(listenSignals),\n      emit: Array.from(emitSignals),\n    };\n\n    return _infoSignals;\n  },\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_FLOW_SIGNALS);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-engine/flow-signals.js?");

/***/ }),

/***/ "./src/libs/hyper-engine/index.js":
/*!****************************************!*\
  !*** ./src/libs/hyper-engine/index.js ***!
  \****************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _engine_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./engine.js */ \"./src/libs/hyper-engine/engine.js\");\n\n\nconst _HYPERENGINE = {\n  init: _engine_js__WEBPACK_IMPORTED_MODULE_0__.default.init,\n  engine: _engine_js__WEBPACK_IMPORTED_MODULE_0__.default,\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_HYPERENGINE);\n\n//# sourceURL=webpack://frontend-industry/./src/libs/hyper-engine/index.js?");

/***/ }),

/***/ "./src/libs/threejs/DragControls.js":
/*!******************************************!*\
  !*** ./src/libs/threejs/DragControls.js ***!
  \******************************************/
/*! namespace exports */
/*! export DragControls [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DragControls\": () => /* binding */ DragControls\n/* harmony export */ });\n/* harmony import */ var _three_module_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./three.module.js */ \"./src/libs/threejs/three.module.js\");\n\n\nconst _plane = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Plane();\nconst _raycaster = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Raycaster();\n\nconst _pointer = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector2();\nconst _offset = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst _intersection = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst _worldPosition = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst _inverseMatrix = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Matrix4();\n\nclass DragControls extends _three_module_js__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher {\n\n\tconstructor( _objects, _camera, _domElement ) {\n\n\t\tsuper();\n\n\t\t_domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t\tlet _selected = null, _hovered = null;\n\t\tlet _nondraggable = false;\n\n\t\tconst _intersections = [];\n\n\t\t//\n\n\t\tconst scope = this;\n\n\t\tfunction activate() {\n\n\t\t\t_domElement.addEventListener( 'pointermove', onPointerMove );\n\t\t\t_domElement.addEventListener( 'pointerdown', onPointerDown );\n\t\t\t_domElement.addEventListener( 'pointerup', onPointerCancel );\n\t\t\t_domElement.addEventListener( 'pointerleave', onPointerCancel );\n\n\t\t}\n\n\t\tfunction deactivate() {\n\n\t\t\t_domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\t_domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\t_domElement.removeEventListener( 'pointerup', onPointerCancel );\n\t\t\t_domElement.removeEventListener( 'pointerleave', onPointerCancel );\n\n\t\t\t_domElement.style.cursor = '';\n\n\t\t}\n\n\t\tfunction dispose() {\n\n\t\t\tdeactivate();\n\n\t\t}\n\n\t\tfunction getObjects() {\n\n\t\t\treturn _objects;\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tupdatePointer( event );\n\n\t\t\t_raycaster.setFromCamera( _pointer, _camera );\n\n\t\t\tif ( _selected && _nondraggable === false) {\n\n\t\t\t\tif ( _raycaster.ray.intersectPlane( _plane, _intersection ) ) {\n\n\t\t\t\t\t_selected.position.copy( _intersection.sub( _offset ).applyMatrix4( _inverseMatrix ) );\n\n\t\t\t\t}\n\n\t\t\t\tscope.dispatchEvent( { type: 'drag', object: _selected } );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\t// hover support\n\n\t\t\tif ( event.pointerType === 'mouse' || event.pointerType === 'pen' ) {\n\n\t\t\t\t_intersections.length = 0;\n\n\t\t\t\t_raycaster.setFromCamera( _pointer, _camera );\n\t\t\t\t_raycaster.intersectObjects( _objects, true, _intersections );\n\n\t\t\t\tif ( _intersections.length > 0 ) {\n\n\t\t\t\t\tconst object = _intersections[ 0 ].object;\n\n\t\t\t\t\t_plane.setFromNormalAndCoplanarPoint( _camera.getWorldDirection( _plane.normal ), _worldPosition.setFromMatrixPosition( object.matrixWorld ) );\n\n\t\t\t\t\tif ( _hovered !== object && _hovered !== null ) {\n\n\t\t\t\t\t\tscope.dispatchEvent( { type: 'hoveroff', object: _hovered } );\n\n\t\t\t\t\t\t_domElement.style.cursor = 'auto';\n\t\t\t\t\t\t_hovered = null;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( _hovered !== object ) {\n\n\t\t\t\t\t\tscope.dispatchEvent( { type: 'hoveron', object: object } );\n\n\t\t\t\t\t\t_domElement.style.cursor = 'pointer';\n\t\t\t\t\t\t_hovered = object;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( _hovered !== null ) {\n\n\t\t\t\t\t\tscope.dispatchEvent( { type: 'hoveroff', object: _hovered } );\n\n\t\t\t\t\t\t_domElement.style.cursor = 'auto';\n\t\t\t\t\t\t_hovered = null;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tupdatePointer( event );\n\n\t\t\t_intersections.length = 0;\n\n\t\t\t_raycaster.setFromCamera( _pointer, _camera );\n\t\t\t_raycaster.intersectObjects( _objects, true, _intersections );\n\n\t\t\tif ( _intersections.length > 0 ) {\n\n\t\t\t\t_selected = ( scope.transformGroup === true ) ? _objects[ 0 ] : _intersections[ 0 ].object;\n\n\t\t\t\t_plane.setFromNormalAndCoplanarPoint( _camera.getWorldDirection( _plane.normal ), _worldPosition.setFromMatrixPosition( _selected.matrixWorld ) );\n\n\t\t\t\tif ( _raycaster.ray.intersectPlane( _plane, _intersection ) ) {\n\n\t\t\t\t\t_inverseMatrix.copy( _selected.parent.matrixWorld ).invert();\n\t\t\t\t\t_offset.copy( _intersection ).sub( _worldPosition.setFromMatrixPosition( _selected.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t\t_domElement.style.cursor = 'move';\n\n\t\t\t\tscope.dispatchEvent( { type: 'dragstart', object: _selected } );\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tfunction onPointerCancel() {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( _selected ) {\n\n\t\t\t\tscope.dispatchEvent( { type: 'dragend', object: _selected } );\n\n\t\t\t\t_selected = null;\n\t\t\t\t_nondraggable = false;\n\n\t\t\t}\n\n\t\t\t_domElement.style.cursor = _hovered ? 'pointer' : 'auto';\n\n\t\t}\n\n\t\tfunction updatePointer( event ) {\n\n\t\t\tconst rect = _domElement.getBoundingClientRect();\n\n\t\t\t_pointer.x = ( event.clientX - rect.left ) / rect.width * 2 - 1;\n\t\t\t_pointer.y = - ( event.clientY - rect.top ) / rect.height * 2 + 1;\n\n\t\t}\n\n\t\tfunction nonDraggable() {\n\t\t\t_nondraggable = true;\n\t\t}\n\n\t\tactivate();\n\n\t\t// API\n\n\t\tthis.enabled = true;\n\t\tthis.transformGroup = false;\n\n\t\tthis.activate = activate;\n\t\tthis.deactivate = deactivate;\n\t\tthis.dispose = dispose;\n\t\tthis.getObjects = getObjects;\n\t\tthis.nonDraggable = nonDraggable;\n\n\t}\n\n}\n\n\n\n\n//# sourceURL=webpack://frontend-industry/./src/libs/threejs/DragControls.js?");

/***/ }),

/***/ "./src/libs/threejs/FontLoader.js":
/*!****************************************!*\
  !*** ./src/libs/threejs/FontLoader.js ***!
  \****************************************/
/*! namespace exports */
/*! export Font [provided] [no usage info] [missing usage info prevents renaming] */
/*! export FontLoader [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FontLoader\": () => /* binding */ FontLoader,\n/* harmony export */   \"Font\": () => /* binding */ Font\n/* harmony export */ });\n/* harmony import */ var _three_module_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./three.module.js */ \"./src/libs/threejs/three.module.js\");\n\n\nclass FontLoader extends _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tconst font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\treturn new Font( json );\n\n\t}\n\n}\n\n//\n\nclass Font {\n\n\tconstructor( data ) {\n\n\t\tthis.type = 'Font';\n\n\t\tthis.data = data;\n\n\t}\n\n\tgenerateShapes( text, size = 100 ) {\n\n\t\tconst shapes = [];\n\t\tconst paths = createPaths( text, size, this.data );\n\n\t\tfor ( let p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n}\n\nfunction createPaths( text, size, data ) {\n\n\tconst chars = Array.from( text );\n\tconst scale = size / data.resolution;\n\tconst line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tconst paths = [];\n\n\tlet offsetX = 0, offsetY = 0;\n\n\tfor ( let i = 0; i < chars.length; i ++ ) {\n\n\t\tconst char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tconst ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tconst glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) {\n\n\t\tconsole.error( 'THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.' );\n\n\t\treturn;\n\n\t}\n\n\tconst path = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.ShapePath();\n\n\tlet x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tconst outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( let i = 0, l = outline.length; i < l; ) {\n\n\t\t\tconst action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\nFont.prototype.isFont = true;\n\n\n\n\n//# sourceURL=webpack://frontend-industry/./src/libs/threejs/FontLoader.js?");

/***/ }),

/***/ "./src/libs/threejs/OrbitControls.js":
/*!*******************************************!*\
  !*** ./src/libs/threejs/OrbitControls.js ***!
  \*******************************************/
/*! namespace exports */
/*! export MapControls [provided] [no usage info] [missing usage info prevents renaming] */
/*! export OrbitControls [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OrbitControls\": () => /* binding */ OrbitControls,\n/* harmony export */   \"MapControls\": () => /* binding */ MapControls\n/* harmony export */ });\n/* harmony import */ var _three_module_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./three.module.js */ \"./src/libs/threejs/three.module.js\");\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst _changeEvent = { type: 'change' };\nconst _startEvent = { type: 'start' };\nconst _endEvent = { type: 'end' };\n\nclass OrbitControls extends _three_module_js__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\t\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\tthis.target = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n\n\t\t// How far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// How far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.05;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.panSpeed = 1.0;\n\t\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { LEFT: _three_module_js__WEBPACK_IMPORTED_MODULE_0__.MOUSE.ROTATE, MIDDLE: _three_module_js__WEBPACK_IMPORTED_MODULE_0__.MOUSE.DOLLY, RIGHT: _three_module_js__WEBPACK_IMPORTED_MODULE_0__.MOUSE.PAN };\n\n\t\t// Touch fingers\n\t\tthis.touches = { ONE: _three_module_js__WEBPACK_IMPORTED_MODULE_0__.TOUCH.ROTATE, TWO: _three_module_js__WEBPACK_IMPORTED_MODULE_0__.TOUCH.DOLLY_PAN };\n\n\t\t// for reset\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// the target DOM element for key events\n\t\tthis._domElementKeyEvents = null;\n\n\t\t//\n\t\t// public methods\n\t\t//\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn spherical.phi;\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn spherical.theta;\n\n\t\t};\n\n\t\tthis.getDistance = function () {\n\n\t\t\treturn this.object.position.distanceTo( this.target );\n\n\t\t};\n\n\t\tthis.listenToKeyEvents = function ( domElement ) {\n\n\t\t\tdomElement.addEventListener( 'keydown', onKeyDown );\n\t\t\tthis._domElementKeyEvents = domElement;\n\n\t\t};\n\n\t\tthis.saveState = function () {\n\n\t\t\tscope.target0.copy( scope.target );\n\t\t\tscope.position0.copy( scope.object.position );\n\t\t\tscope.zoom0 = scope.object.zoom;\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\tscope.target.copy( scope.target0 );\n\t\t\tscope.object.position.copy( scope.position0 );\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\tscope.update();\n\n\t\t\tstate = STATE.NONE;\n\n\t\t};\n\n\t\t// this method is exposed, but perhaps it would be better if we can make it private...\n\t\tthis.update = function () {\n\n\t\t\tconst offset = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n\n\t\t\t// so camera.up is the orbit axis\n\t\t\tconst quat = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Quaternion().setFromUnitVectors( object.up, new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3( 0, 1, 0 ) );\n\t\t\tconst quatInverse = quat.clone().invert();\n\n\t\t\tconst lastPosition = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n\t\t\tconst lastQuaternion = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Quaternion();\n\n\t\t\tconst twoPI = 2 * Math.PI;\n\n\t\t\treturn function update() {\n\n\t\t\t\tconst position = scope.object.position;\n\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t\t// angle from z-axis around y-axis\n\t\t\t\tspherical.setFromVector3( offset );\n\n\t\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t\t}\n\n\t\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t\t}\n\n\t\t\t\t// restrict theta to be between desired limits\n\n\t\t\t\tlet min = scope.minAzimuthAngle;\n\t\t\t\tlet max = scope.maxAzimuthAngle;\n\n\t\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\t\tif ( min <= max ) {\n\n\t\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\t\tspherical.makeSafe();\n\n\n\t\t\t\tspherical.radius *= scale;\n\n\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t\t// move target to panned location\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t\t}\n\n\t\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t\tscale = 1;\n\n\t\t\t\t// update condition is:\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.dispose = function () {\n\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\n\n\t\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tscope.domElement.removeEventListener( 'pointercancel', onPointerCancel );\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\n\t\t\tif ( scope._domElementKeyEvents !== null ) {\n\n\t\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\n\t\t\t}\n\n\t\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t\t};\n\n\t\t//\n\t\t// internals\n\t\t//\n\n\t\tconst scope = this;\n\n\t\tconst STATE = {\n\t\t\tNONE: - 1,\n\t\t\tROTATE: 0,\n\t\t\tDOLLY: 1,\n\t\t\tPAN: 2,\n\t\t\tTOUCH_ROTATE: 3,\n\t\t\tTOUCH_PAN: 4,\n\t\t\tTOUCH_DOLLY_PAN: 5,\n\t\t\tTOUCH_DOLLY_ROTATE: 6\n\t\t};\n\n\t\tlet state = STATE.NONE;\n\n\t\tconst EPS = 0.000001;\n\n\t\t// current position in spherical coordinates\n\t\tconst spherical = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Spherical();\n\t\tconst sphericalDelta = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Spherical();\n\n\t\tlet scale = 1;\n\t\tconst panOffset = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n\t\tlet zoomChanged = false;\n\n\t\tconst rotateStart = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector2();\n\t\tconst rotateEnd = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector2();\n\t\tconst rotateDelta = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector2();\n\n\t\tconst panStart = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector2();\n\t\tconst panEnd = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector2();\n\t\tconst panDelta = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector2();\n\n\t\tconst dollyStart = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector2();\n\t\tconst dollyEnd = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector2();\n\t\tconst dollyDelta = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector2();\n\n\t\tconst pointers = [];\n\t\tconst pointerPositions = {};\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t\t}\n\n\t\tfunction rotateLeft( angle ) {\n\n\t\t\tsphericalDelta.theta -= angle;\n\n\t\t}\n\n\t\tfunction rotateUp( angle ) {\n\n\t\t\tsphericalDelta.phi -= angle;\n\n\t\t}\n\n\t\tconst panLeft = function () {\n\n\t\t\tconst v = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n\n\t\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\t\tv.multiplyScalar( - distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tconst panUp = function () {\n\n\t\t\tconst v = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n\n\t\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t\t}\n\n\t\t\t\tv.multiplyScalar( distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\t// deltaX and deltaY are in pixels; right and down are positive\n\t\tconst pan = function () {\n\n\t\t\tconst offset = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n\n\t\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\t\tconst element = scope.domElement;\n\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t// perspective\n\t\t\t\t\tconst position = scope.object.position;\n\t\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\t\tlet targetDistance = offset.length();\n\n\t\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t// orthographic\n\t\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\t\tscope.enablePan = false;\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}();\n\n\t\tfunction dollyOut( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale /= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction dollyIn( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale *= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\t\t// event callbacks - update the object state\n\t\t//\n\n\t\tfunction handleMouseDownRotate( event ) {\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownDolly( event ) {\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownPan( event ) {\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseMoveRotate( event ) {\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMoveDolly( event ) {\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMovePan( event ) {\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseUp( /*event*/ ) {\n\n\t\t\t// no-op\n\n\t\t}\n\n\t\tfunction handleMouseWheel( event ) {\n\n\t\t\tif ( event.deltaY < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleKeyDown( event ) {\n\n\t\t\tlet needsUpdate = false;\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tscope.update();\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tfunction handleTouchStartRotate() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\trotateStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\trotateStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartPan() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\tpanStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartDolly() {\n\n\t\t\tconst dx = pointers[ 0 ].pageX - pointers[ 1 ].pageX;\n\t\t\tconst dy = pointers[ 0 ].pageY - pointers[ 1 ].pageY;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyPan() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enablePan ) handleTouchStartPan();\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyRotate() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enableRotate ) handleTouchStartRotate();\n\n\t\t}\n\n\t\tfunction handleTouchMoveRotate( event ) {\n\n\t\t\tif ( pointers.length == 1 ) {\n\n\t\t\t\trotateEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\trotateEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMovePan( event ) {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\tpanEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDolly( event ) {\n\n\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\tconst dx = event.pageX - position.x;\n\t\t\tconst dy = event.pageY - position.y;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\n\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\t\tdollyOut( dollyDelta.y );\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t\t}\n\n\t\tfunction handleTouchEnd( /*event*/ ) {\n\n\t\t\t// no-op\n\n\t\t}\n\n\t\t//\n\t\t// event handlers - FSM: listen for events and reset state\n\t\t//\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.setPointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.addEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\taddPointer( event );\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchStart( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseDown( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchMove( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseMove( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchEnd();\n\n\t\t\t} else {\n\n\t\t\t\tonMouseUp( event );\n\n\t\t\t}\n\n\t\t\tremovePointer( event );\n\n\t\t\t//\n\n\t\t\tif ( pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.releasePointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerCancel( event ) {\n\n\t\t\tremovePointer( event );\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tlet mouseAction;\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tmouseAction = - 1;\n\n\t\t\t}\n\n\t\t\tswitch ( mouseAction ) {\n\n\t\t\t\tcase _three_module_js__WEBPACK_IMPORTED_MODULE_0__.MOUSE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase _three_module_js__WEBPACK_IMPORTED_MODULE_0__.MOUSE.ROTATE:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase _three_module_js__WEBPACK_IMPORTED_MODULE_0__.MOUSE.PAN:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseUp( event ) {\n\n\t\t\thandleMouseUp( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\thandleMouseWheel( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onKeyDown( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\n\n\t\t\thandleKeyDown( event );\n\n\t\t}\n\n\t\tfunction onTouchStart( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( pointers.length ) {\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\t\tcase _three_module_js__WEBPACK_IMPORTED_MODULE_0__.TOUCH.ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase _three_module_js__WEBPACK_IMPORTED_MODULE_0__.TOUCH.PAN:\n\n\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\t\tcase _three_module_js__WEBPACK_IMPORTED_MODULE_0__.TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase _three_module_js__WEBPACK_IMPORTED_MODULE_0__.TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchMove( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchEnd( event ) {\n\n\t\t\thandleTouchEnd( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onContextMenu( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\tfunction addPointer( event ) {\n\n\t\t\tpointers.push( event );\n\n\t\t}\n\n\t\tfunction removePointer( event ) {\n\n\t\t\tdelete pointerPositions[ event.pointerId ];\n\n\t\t\tfor ( let i = 0; i < pointers.length; i ++ ) {\n\n\t\t\t\tif ( pointers[ i ].pointerId == event.pointerId ) {\n\n\t\t\t\t\tpointers.splice( i, 1 );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction trackPointer( event ) {\n\n\t\t\tlet position = pointerPositions[ event.pointerId ];\n\n\t\t\tif ( position === undefined ) {\n\n\t\t\t\tposition = new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector2();\n\t\t\t\tpointerPositions[ event.pointerId ] = position;\n\n\t\t\t}\n\n\t\t\tposition.set( event.pageX, event.pageY );\n\n\t\t}\n\n\t\tfunction getSecondPointerPosition( event ) {\n\n\t\t\tconst pointer = ( event.pointerId === pointers[ 0 ].pointerId ) ? pointers[ 1 ] : pointers[ 0 ];\n\n\t\t\treturn pointerPositions[ pointer.pointerId ];\n\n\t\t}\n\n\t\t//\n\n\t\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\n\n\t\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\n\t\tscope.domElement.addEventListener( 'pointercancel', onPointerCancel );\n\t\tscope.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );\n\n\t\t// force an update at start\n\n\t\tthis.update();\n\n\t}\n\n}\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nclass MapControls extends OrbitControls {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper( object, domElement );\n\n\t\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\t\tthis.mouseButtons.LEFT = _three_module_js__WEBPACK_IMPORTED_MODULE_0__.MOUSE.PAN;\n\t\tthis.mouseButtons.RIGHT = _three_module_js__WEBPACK_IMPORTED_MODULE_0__.MOUSE.ROTATE;\n\n\t\tthis.touches.ONE = _three_module_js__WEBPACK_IMPORTED_MODULE_0__.TOUCH.PAN;\n\t\tthis.touches.TWO = _three_module_js__WEBPACK_IMPORTED_MODULE_0__.TOUCH.DOLLY_ROTATE;\n\n\t}\n\n}\n\n\n\n\n//# sourceURL=webpack://frontend-industry/./src/libs/threejs/OrbitControls.js?");

/***/ }),

/***/ "./src/libs/threejs/THREE.MeshLine-r134.js":
/*!*************************************************!*\
  !*** ./src/libs/threejs/THREE.MeshLine-r134.js ***!
  \*************************************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module, __webpack_exports__, top-level-this-exports, __webpack_require__ */
/*! CommonJS bailout: this is used directly at 712:7-11 */
/*! CommonJS bailout: module.exports is used directly at 697:41-55 */
/*! CommonJS bailout: module.exports is used directly at 698:16-30 */
/*! CommonJS bailout: exports is used directly at 698:6-13 */
/***/ (function(module, exports, __webpack_require__) {

eval(";(function() {\n  'use strict'\n\n  var root = this\n\n  root.THREE = __webpack_require__(/*! ./three.module.js */ \"./src/libs/threejs/three.module.js\"); //from '../threejs/three.module.js';\n  var THREE = root.THREE;\n\n  class MeshLine extends THREE.BufferGeometry {\n    constructor()\n    {\n      super();\n      this.isMeshLine = true;\n      this.type = 'MeshLine'\n\n      this.positions = []\n\n      this.previous = []\n      this.next = []\n      this.side = []\n      this.width = []\n      this.indices_array = []\n      this.uvs = []\n      this.counters = []\n      this._points = []\n      this._geom = null\n\n      this.widthCallback = null\n\n      // Used to raycast\n      this.matrixWorld = new THREE.Matrix4()\n\n      Object.defineProperties(this, {\n        // this is now a bufferGeometry\n        // add getter to support previous api\n        geometry: {\n          enumerable: true,\n          get: function() {\n            return this\n          },\n        },\n        geom: {\n          enumerable: true,\n          get: function() {\n            return this._geom\n          },\n          set: function(value) {\n            this.setGeometry(value, this.widthCallback)\n          },\n        },\n        // for declaritive architectures\n        // to return the same value that sets the points\n        // eg. this.points = points\n        // console.log(this.points) -> points\n        points: {\n          enumerable: true,\n          get: function() {\n            return this._points\n          },\n          set: function(value) {\n            this.setPoints(value, this.widthCallback)\n          },\n        },\n      })\n    }\n  }\n\n  MeshLine.prototype.setMatrixWorld = function(matrixWorld) {\n    this.matrixWorld = matrixWorld\n  }\n\n  // setting via a geometry is rather superfluous\n  // as you're creating a unecessary geometry just to throw away\n  // but exists to support previous api\n  MeshLine.prototype.setGeometry = function(g, c) {\n\t\t// as the input geometry are mutated we store them\n\t\t// for later retreival when necessary (declaritive architectures)\n\t\tthis._geometry = g;\n        this.setPoints(g.getAttribute(\"position\").array, c);\n  }\n\n  MeshLine.prototype.setPoints = function(points, wcb) {\n\t\tif (!(points instanceof Float32Array) && !(points instanceof Array)) {\n\t\t\tconsole.error(\n\t\t\t\t\"ERROR: The BufferArray of points is not instancied correctly.\"\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\t// as the points are mutated we store them\n\t\t// for later retreival when necessary (declaritive architectures)\n\t\tthis._points = points;\n\t\tthis.widthCallback = wcb;\n\t\tthis.positions = [];\n\t\tthis.counters = [];\n\t\tif (points.length && points[0] instanceof THREE.Vector3) {\n\t\t\t// could transform Vector3 array into the array used below\n\t\t\t// but this approach will only loop through the array once\n\t\t\t// and is more performant\n\t\t\tfor (var j = 0; j < points.length; j++) {\n\t\t\t\tvar p = points[j];\n\t\t\t\tvar c = j / points.length;\n\t\t\t\tthis.positions.push(p.x, p.y, p.z);\n\t\t\t\tthis.positions.push(p.x, p.y, p.z);\n\t\t\t\tthis.counters.push(c);\n\t\t\t\tthis.counters.push(c);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var j = 0; j < points.length; j += 3) {\n\t\t\t\tvar c = j / points.length;\n\t\t\t\tthis.positions.push(points[j], points[j + 1], points[j + 2]);\n\t\t\t\tthis.positions.push(points[j], points[j + 1], points[j + 2]);\n\t\t\t\tthis.counters.push(c);\n\t\t\t\tthis.counters.push(c);\n\t\t\t}\n\t\t}\n\t\tthis.process();\n  }\n\n  function MeshLineRaycast(raycaster, intersects) {\n    var inverseMatrix = new THREE.Matrix4()\n    var ray = new THREE.Ray()\n    var sphere = new THREE.Sphere()\n    var interRay = new THREE.Vector3()\n    var geometry = this.geometry\n    // Checking boundingSphere distance to ray\n\n    if (!geometry.boundingSphere) geometry.computeBoundingSphere()\n    sphere.copy(geometry.boundingSphere)\n    sphere.applyMatrix4(this.matrixWorld)\n\n    if (raycaster.ray.intersectSphere(sphere, interRay) === false) {\n      return\n    }\n\n    inverseMatrix.copy( this.matrixWorld ).invert();\n    ray.copy(raycaster.ray).applyMatrix4(inverseMatrix)\n\n    var vStart = new THREE.Vector3()\n    var vEnd = new THREE.Vector3()\n    var interSegment = new THREE.Vector3()\n    var step = this instanceof THREE.LineSegments ? 2 : 1\n    var index = geometry.index\n    var attributes = geometry.attributes\n\n    if (index !== null) {\n      var indices = index.array\n      var positions = attributes.position.array\n      var widths = attributes.width.array\n\n      for (var i = 0, l = indices.length - 1; i < l; i += step) {\n        var a = indices[i]\n        var b = indices[i + 1]\n\n        vStart.fromArray(positions, a * 3)\n        vEnd.fromArray(positions, b * 3)\n        var width = widths[Math.floor(i / 3)] !== undefined ? widths[Math.floor(i / 3)] : 1\n        var precision = raycaster.params.Line.threshold + (this.material.lineWidth * width) / 2\n        var precisionSq = precision * precision\n\n        var distSq = ray.distanceSqToSegment(vStart, vEnd, interRay, interSegment)\n\n        if (distSq > precisionSq) continue\n\n        interRay.applyMatrix4(this.matrixWorld) //Move back to world space for distance calculation\n\n        var distance = raycaster.ray.origin.distanceTo(interRay)\n\n        if (distance < raycaster.near || distance > raycaster.far) continue\n\n        intersects.push({\n          distance: distance,\n          // What do we want? intersection point on the ray or on the segment??\n          // point: raycaster.ray.at( distance ),\n          point: interSegment.clone().applyMatrix4(this.matrixWorld),\n          index: i,\n          face: null,\n          faceIndex: null,\n          object: this,\n        })\n        // make event only fire once\n        i = l\n      }\n    }\n  }\n  MeshLine.prototype.raycast = MeshLineRaycast\n  MeshLine.prototype.compareV3 = function(a, b) {\n    var aa = a * 6\n    var ab = b * 6\n    return (\n      this.positions[aa] === this.positions[ab] &&\n      this.positions[aa + 1] === this.positions[ab + 1] &&\n      this.positions[aa + 2] === this.positions[ab + 2]\n    )\n  }\n\n  MeshLine.prototype.copyV3 = function(a) {\n    var aa = a * 6\n    return [this.positions[aa], this.positions[aa + 1], this.positions[aa + 2]]\n  }\n\n  MeshLine.prototype.process = function() {\n    var l = this.positions.length / 6\n\n    this.previous = []\n    this.next = []\n    this.side = []\n    this.width = []\n    this.indices_array = []\n    this.uvs = []\n\n    var w\n\n    var v\n    // initial previous points\n    if (this.compareV3(0, l - 1)) {\n      v = this.copyV3(l - 2)\n    } else {\n      v = this.copyV3(0)\n    }\n    this.previous.push(v[0], v[1], v[2])\n    this.previous.push(v[0], v[1], v[2])\n\n    for (var j = 0; j < l; j++) {\n      // sides\n      this.side.push(1)\n      this.side.push(-1)\n\n      // widths\n      if (this.widthCallback) w = this.widthCallback(j / (l - 1))\n      else w = 1\n      this.width.push(w)\n      this.width.push(w)\n\n      // uvs\n      this.uvs.push(j / (l - 1), 0)\n      this.uvs.push(j / (l - 1), 1)\n\n      if (j < l - 1) {\n        // points previous to poisitions\n        v = this.copyV3(j)\n        this.previous.push(v[0], v[1], v[2])\n        this.previous.push(v[0], v[1], v[2])\n\n        // indices\n        var n = j * 2\n        this.indices_array.push(n, n + 1, n + 2)\n        this.indices_array.push(n + 2, n + 1, n + 3)\n      }\n      if (j > 0) {\n        // points after poisitions\n        v = this.copyV3(j)\n        this.next.push(v[0], v[1], v[2])\n        this.next.push(v[0], v[1], v[2])\n      }\n    }\n\n    // last next point\n    if (this.compareV3(l - 1, 0)) {\n      v = this.copyV3(1)\n    } else {\n      v = this.copyV3(l - 1)\n    }\n    this.next.push(v[0], v[1], v[2])\n    this.next.push(v[0], v[1], v[2])\n\n    // redefining the attribute seems to prevent range errors\n    // if the user sets a differing number of vertices\n    if (!this._attributes || this._attributes.position.count !== this.positions.length) {\n      this._attributes = {\n        position: new THREE.BufferAttribute(new Float32Array(this.positions), 3),\n        previous: new THREE.BufferAttribute(new Float32Array(this.previous), 3),\n        next: new THREE.BufferAttribute(new Float32Array(this.next), 3),\n        side: new THREE.BufferAttribute(new Float32Array(this.side), 1),\n        width: new THREE.BufferAttribute(new Float32Array(this.width), 1),\n        uv: new THREE.BufferAttribute(new Float32Array(this.uvs), 2),\n        index: new THREE.BufferAttribute(new Uint16Array(this.indices_array), 1),\n        counters: new THREE.BufferAttribute(new Float32Array(this.counters), 1),\n      }\n    } else {\n      this._attributes.position.copyArray(new Float32Array(this.positions))\n      this._attributes.position.needsUpdate = true\n      this._attributes.previous.copyArray(new Float32Array(this.previous))\n      this._attributes.previous.needsUpdate = true\n      this._attributes.next.copyArray(new Float32Array(this.next))\n      this._attributes.next.needsUpdate = true\n      this._attributes.side.copyArray(new Float32Array(this.side))\n      this._attributes.side.needsUpdate = true\n      this._attributes.width.copyArray(new Float32Array(this.width))\n      this._attributes.width.needsUpdate = true\n      this._attributes.uv.copyArray(new Float32Array(this.uvs))\n      this._attributes.uv.needsUpdate = true\n      this._attributes.index.copyArray(new Uint16Array(this.indices_array))\n      this._attributes.index.needsUpdate = true\n    }\n\n    this.setAttribute('position', this._attributes.position)\n    this.setAttribute('previous', this._attributes.previous)\n    this.setAttribute('next', this._attributes.next)\n    this.setAttribute('side', this._attributes.side)\n    this.setAttribute('width', this._attributes.width)\n    this.setAttribute('uv', this._attributes.uv)\n    this.setAttribute('counters', this._attributes.counters)\n\n    this.setIndex(this._attributes.index)\n\n    this.computeBoundingSphere()\n    this.computeBoundingBox()\n  }\n\n  function memcpy(src, srcOffset, dst, dstOffset, length) {\n    var i\n\n    src = src.subarray || src.slice ? src : src.buffer\n    dst = dst.subarray || dst.slice ? dst : dst.buffer\n\n    src = srcOffset\n      ? src.subarray\n        ? src.subarray(srcOffset, length && srcOffset + length)\n        : src.slice(srcOffset, length && srcOffset + length)\n      : src\n\n    if (dst.set) {\n      dst.set(src, dstOffset)\n    } else {\n      for (i = 0; i < src.length; i++) {\n        dst[i + dstOffset] = src[i]\n      }\n    }\n\n    return dst\n  }\n\n  /**\n   * Fast method to advance the line by one position.  The oldest position is removed.\n   * @param position\n   */\n  MeshLine.prototype.advance = function(position) {\n    var positions = this._attributes.position.array\n    var previous = this._attributes.previous.array\n    var next = this._attributes.next.array\n    var l = positions.length\n\n    // PREVIOUS\n    memcpy(positions, 0, previous, 0, l)\n\n    // POSITIONS\n    memcpy(positions, 6, positions, 0, l - 6)\n\n    positions[l - 6] = position.x\n    positions[l - 5] = position.y\n    positions[l - 4] = position.z\n    positions[l - 3] = position.x\n    positions[l - 2] = position.y\n    positions[l - 1] = position.z\n\n    // NEXT\n    memcpy(positions, 6, next, 0, l - 6)\n\n    next[l - 6] = position.x\n    next[l - 5] = position.y\n    next[l - 4] = position.z\n    next[l - 3] = position.x\n    next[l - 2] = position.y\n    next[l - 1] = position.z\n\n    this._attributes.position.needsUpdate = true\n    this._attributes.previous.needsUpdate = true\n    this._attributes.next.needsUpdate = true\n  }\n\n  THREE.ShaderChunk['meshline_vert'] = [\n    '',\n    THREE.ShaderChunk.logdepthbuf_pars_vertex,\n    THREE.ShaderChunk.fog_pars_vertex,\n    '',\n    'attribute vec3 previous;',\n    'attribute vec3 next;',\n    'attribute float side;',\n    'attribute float width;',\n    'attribute float counters;',\n    '',\n    'uniform vec2 resolution;',\n    'uniform float lineWidth;',\n    'uniform vec3 color;',\n    'uniform float opacity;',\n    'uniform float sizeAttenuation;',\n    '',\n    'varying vec2 vUV;',\n    'varying vec4 vColor;',\n    'varying float vCounters;',\n    '',\n    'vec2 fix( vec4 i, float aspect ) {',\n    '',\n    '    vec2 res = i.xy / i.w;',\n    '    res.x *= aspect;',\n    '\t vCounters = counters;',\n    '    return res;',\n    '',\n    '}',\n    '',\n    'void main() {',\n    '',\n    '    float aspect = resolution.x / resolution.y;',\n    '',\n    '    vColor = vec4( color, opacity );',\n    '    vUV = uv;',\n    '',\n    '    mat4 m = projectionMatrix * modelViewMatrix;',\n    '    vec4 finalPosition = m * vec4( position, 1.0 );',\n    '    vec4 prevPos = m * vec4( previous, 1.0 );',\n    '    vec4 nextPos = m * vec4( next, 1.0 );',\n    '',\n    '    vec2 currentP = fix( finalPosition, aspect );',\n    '    vec2 prevP = fix( prevPos, aspect );',\n    '    vec2 nextP = fix( nextPos, aspect );',\n    '',\n    '    float w = lineWidth * width;',\n    '',\n    '    vec2 dir;',\n    '    if( nextP == currentP ) dir = normalize( currentP - prevP );',\n    '    else if( prevP == currentP ) dir = normalize( nextP - currentP );',\n    '    else {',\n    '        vec2 dir1 = normalize( currentP - prevP );',\n    '        vec2 dir2 = normalize( nextP - currentP );',\n    '        dir = normalize( dir1 + dir2 );',\n    '',\n    '        vec2 perp = vec2( -dir1.y, dir1.x );',\n    '        vec2 miter = vec2( -dir.y, dir.x );',\n    '        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );',\n    '',\n    '    }',\n    '',\n    '    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;',\n    '    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );',\n    '    normal.xy *= .5 * w;',\n    '    normal *= projectionMatrix;',\n    '    if( sizeAttenuation == 0. ) {',\n    '        normal.xy *= finalPosition.w;',\n    '        normal.xy /= ( vec4( resolution, 0., 1. ) * projectionMatrix ).xy;',\n    '    }',\n    '',\n    '    finalPosition.xy += normal.xy * side;',\n    '',\n    '    gl_Position = finalPosition;',\n    '',\n    THREE.ShaderChunk.logdepthbuf_vertex,\n    THREE.ShaderChunk.fog_vertex && '    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );',\n    THREE.ShaderChunk.fog_vertex,\n    '}',\n  ].join('\\n')\n\n  THREE.ShaderChunk['meshline_frag'] = [\n    '',\n    THREE.ShaderChunk.fog_pars_fragment,\n    THREE.ShaderChunk.logdepthbuf_pars_fragment,\n    '',\n    'uniform sampler2D map;',\n    'uniform sampler2D alphaMap;',\n    'uniform float useMap;',\n    'uniform float useAlphaMap;',\n    'uniform float useDash;',\n    'uniform float dashArray;',\n    'uniform float dashOffset;',\n    'uniform float dashRatio;',\n    'uniform float visibility;',\n    'uniform float alphaTest;',\n    'uniform vec2 repeat;',\n    '',\n    'varying vec2 vUV;',\n    'varying vec4 vColor;',\n    'varying float vCounters;',\n    '',\n    'void main() {',\n    '',\n    THREE.ShaderChunk.logdepthbuf_fragment,\n    '',\n    '    vec4 c = vColor;',\n    '    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );',\n    '    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;',\n    '    if( c.a < alphaTest ) discard;',\n    '    if( useDash == 1. ){',\n    '        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));',\n    '    }',\n    '    gl_FragColor = c;',\n    '    gl_FragColor.a *= step(vCounters, visibility);',\n    '',\n    THREE.ShaderChunk.fog_fragment,\n    '}',\n  ].join('\\n')\n\n  class MeshLineMaterial extends THREE.ShaderMaterial {\n    constructor(parameters)\n    {\n      super({\n        uniforms: Object.assign({}, THREE.UniformsLib.fog, {\n          lineWidth: { value: 1 },\n          map: { value: null },\n          useMap: { value: 0 },\n          alphaMap: { value: null },\n          useAlphaMap: { value: 0 },\n          color: { value: new THREE.Color(0xffffff) },\n          opacity: { value: 1 },\n          resolution: { value: new THREE.Vector2(1, 1) },\n          sizeAttenuation: { value: 1 },\n          dashArray: { value: 0 },\n          dashOffset: { value: 0 },\n          dashRatio: { value: 0.5 },\n          useDash: { value: 0 },\n          visibility: { value: 1 },\n          alphaTest: { value: 0 },\n          repeat: { value: new THREE.Vector2(1, 1) },\n        }),\n\n        vertexShader: THREE.ShaderChunk.meshline_vert,\n\n        fragmentShader: THREE.ShaderChunk.meshline_frag,\n      });\n      this.isMeshLineMaterial = true\n      this.type = 'MeshLineMaterial'\n\n      Object.defineProperties(this, {\n        lineWidth: {\n          enumerable: true,\n          get: function() {\n            return this.uniforms.lineWidth.value\n          },\n          set: function(value) {\n            this.uniforms.lineWidth.value = value\n          },\n        },\n        map: {\n          enumerable: true,\n          get: function() {\n            return this.uniforms.map.value\n          },\n          set: function(value) {\n            this.uniforms.map.value = value\n          },\n        },\n        useMap: {\n          enumerable: true,\n          get: function() {\n            return this.uniforms.useMap.value\n          },\n          set: function(value) {\n            this.uniforms.useMap.value = value\n          },\n        },\n        alphaMap: {\n          enumerable: true,\n          get: function() {\n            return this.uniforms.alphaMap.value\n          },\n          set: function(value) {\n            this.uniforms.alphaMap.value = value\n          },\n        },\n        useAlphaMap: {\n          enumerable: true,\n          get: function() {\n            return this.uniforms.useAlphaMap.value\n          },\n          set: function(value) {\n            this.uniforms.useAlphaMap.value = value\n          },\n        },\n        color: {\n          enumerable: true,\n          get: function() {\n            return this.uniforms.color.value\n          },\n          set: function(value) {\n            this.uniforms.color.value = value\n          },\n        },\n        opacity: {\n          enumerable: true,\n          get: function() {\n            return this.uniforms.opacity.value\n          },\n          set: function(value) {\n            this.uniforms.opacity.value = value\n          },\n        },\n        resolution: {\n          enumerable: true,\n          get: function() {\n            return this.uniforms.resolution.value\n          },\n          set: function(value) {\n            this.uniforms.resolution.value.copy(value)\n          },\n        },\n        sizeAttenuation: {\n          enumerable: true,\n          get: function() {\n            return this.uniforms.sizeAttenuation.value\n          },\n          set: function(value) {\n            this.uniforms.sizeAttenuation.value = value\n          },\n        },\n        dashArray: {\n          enumerable: true,\n          get: function() {\n            return this.uniforms.dashArray.value\n          },\n          set: function(value) {\n            this.uniforms.dashArray.value = value\n            this.useDash = value !== 0 ? 1 : 0\n          },\n        },\n        dashOffset: {\n          enumerable: true,\n          get: function() {\n            return this.uniforms.dashOffset.value\n          },\n          set: function(value) {\n            this.uniforms.dashOffset.value = value\n          },\n        },\n        dashRatio: {\n          enumerable: true,\n          get: function() {\n            return this.uniforms.dashRatio.value\n          },\n          set: function(value) {\n            this.uniforms.dashRatio.value = value\n          },\n        },\n        useDash: {\n          enumerable: true,\n          get: function() {\n            return this.uniforms.useDash.value\n          },\n          set: function(value) {\n            this.uniforms.useDash.value = value\n          },\n        },\n        visibility: {\n          enumerable: true,\n          get: function() {\n            return this.uniforms.visibility.value\n          },\n          set: function(value) {\n            this.uniforms.visibility.value = value\n          },\n        },\n        alphaTest: {\n          enumerable: true,\n          get: function() {\n            return this.uniforms.alphaTest.value\n          },\n          set: function(value) {\n            this.uniforms.alphaTest.value = value\n          },\n        },\n        repeat: {\n          enumerable: true,\n          get: function() {\n            return this.uniforms.repeat.value\n          },\n          set: function(value) {\n            this.uniforms.repeat.value.copy(value)\n          },\n        },\n      })\n\n      this.setValues(parameters)\n    }\n  }\n\n  MeshLineMaterial.prototype.copy = function(source) {\n    THREE.ShaderMaterial.prototype.copy.call(this, source)\n\n    this.lineWidth = source.lineWidth\n    this.map = source.map\n    this.useMap = source.useMap\n    this.alphaMap = source.alphaMap\n    this.useAlphaMap = source.useAlphaMap\n    this.color.copy(source.color)\n    this.opacity = source.opacity\n    this.resolution.copy(source.resolution)\n    this.sizeAttenuation = source.sizeAttenuation\n    this.dashArray.copy(source.dashArray)\n    this.dashOffset.copy(source.dashOffset)\n    this.dashRatio.copy(source.dashRatio)\n    this.useDash = source.useDash\n    this.visibility = source.visibility\n    this.alphaTest = source.alphaTest\n    this.repeat.copy(source.repeat)\n\n    return this\n  }\n\n  if (true) {\n    if ( true && module.exports) {\n      exports = module.exports = {\n        MeshLine: MeshLine,\n        MeshLineMaterial: MeshLineMaterial,\n        MeshLineRaycast: MeshLineRaycast,\n      }\n    }\n    exports.MeshLine = MeshLine\n    exports.MeshLineMaterial = MeshLineMaterial\n    exports.MeshLineRaycast = MeshLineRaycast\n  } else {}\n}.call(this))\n\n\n//# sourceURL=webpack://frontend-industry/./src/libs/threejs/THREE.MeshLine-r134.js?");

/***/ }),

/***/ "./src/libs/threejs/TextGeometry.js":
/*!******************************************!*\
  !*** ./src/libs/threejs/TextGeometry.js ***!
  \******************************************/
/*! namespace exports */
/*! export TextGeometry [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TextGeometry\": () => /* binding */ TextGeometry\n/* harmony export */ });\n/* harmony import */ var _three_module_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./three.module.js */ \"./src/libs/threejs/three.module.js\");\n/**\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\n\n\nclass TextGeometry extends _three_module_js__WEBPACK_IMPORTED_MODULE_0__.ExtrudeGeometry {\n\n\tconstructor( text, parameters = {} ) {\n\n\t\tconst font = parameters.font;\n\n\t\tif ( ! ( font && font.isFont ) ) {\n\n\t\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\t\treturn new _three_module_js__WEBPACK_IMPORTED_MODULE_0__.BufferGeometry();\n\n\t\t}\n\n\t\tconst shapes = font.generateShapes( text, parameters.size );\n\n\t\t// translate parameters to ExtrudeGeometry API\n\n\t\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n\t\t// defaults\n\n\t\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\t\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\t\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\t\tsuper( shapes, parameters );\n\n\t\tthis.type = 'TextGeometry';\n\n\t}\n\n}\n\n\n\n\n\n//# sourceURL=webpack://frontend-industry/./src/libs/threejs/TextGeometry.js?");

/***/ }),

/***/ "./src/router/index.js":
/*!*****************************!*\
  !*** ./src/router/index.js ***!
  \*****************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _vaadin_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @vaadin/router */ \"./node_modules/@vaadin/router/dist/vaadin-router.js\");\n/* harmony import */ var _state_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../state/config.js */ \"./src/state/config.js\");\n/* harmony import */ var _state_location_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../state/location.js */ \"./src/state/location.js\");\n/* harmony import */ var _views__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views */ \"./src/views/index.js\");\n\n\n\n\n\n\nconst _ROUTER = {\n  _env: {\n    basePath: null,\n    router: null,\n    container: null,\n  },\n\n  _MESSAGES: {\n    LOCATION_CHANGE: 'locationChange',\n  },\n\n  init: ({ basePath = null, container }) => {\n    const { _env } = _ROUTER;\n    // _env.basePath = basePath !== null ? basePath : `${window.location.pathname}`;\n    _env.basePath = basePath !== null ? basePath : _state_config_js__WEBPACK_IMPORTED_MODULE_1__.default.getConfig().basePath;\n    _env.container = container;\n    _env.router = new _vaadin_router__WEBPACK_IMPORTED_MODULE_0__.Router(_env.container, { baseUrl: _env.basePath });\n\n    _views__WEBPACK_IMPORTED_MODULE_3__.default.init();\n    _ROUTER._initRoutes();\n  },\n\n  _initRoutes: () => {\n    const { router, container } = _ROUTER._env;\n    router.setRoutes([\n      {path: '/', redirect: '/diagram'},\n      {path: '/diagram', action: (context, commands) => {\n        return _ROUTER._changeView({ name: 'diagram', context });\n      }},\n      \n      {\n        path: '/data',\n        redirect: '/diagram',\n      },\n      {\n        path: '/data/state',\n        redirect: '/data/state/new',\n      },\n      {\n        path: '/data/state/new',\n        action: (context, commands) => {\n          console.log('/data/state/new', {context});  // TODO: REMOVE DEBUG LOG 📏⏳🔍\n          return _ROUTER._changeView({ name: 'state-editor', context });\n        }\n      },\n      {\n        path: '/data/state/:id/edit',\n        action: (context, commands) => {\n          console.log('/data/state/:id/edit', {context});  // TODO: REMOVE DEBUG LOG 📏⏳🔍\n          return _ROUTER._changeView({ name: 'state-editor', context });\n        }\n      }\n\n    ]);\n  },\n\n  _changeView: ({ name, context }) => {\n    const { container } = _ROUTER._env;\n    const _view = _views__WEBPACK_IMPORTED_MODULE_3__.default.getView({ name });\n    _view.update({ params: context.params });\n    \n    container.innerHTML = ''; // Clear container and force update???\n    container.appendChild(_view.getComponent());\n\n    _state_location_js__WEBPACK_IMPORTED_MODULE_2__.default.notifyLocationChange({ title: name, url: context.pathname, id: name, extra: { context } });\n\n    return _view.getComponent();\n  },\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_ROUTER);\n\n//# sourceURL=webpack://frontend-industry/./src/router/index.js?");

/***/ }),

/***/ "./src/state/config.js":
/*!*****************************!*\
  !*** ./src/state/config.js ***!
  \*****************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nconst _ENV = {\n  config: {\n    // basePath: '/',\n    basePath: '/hyperdiagram/editor/',\n  },\n};\n\nconst _CONFIG = {\n  _env: _ENV,\n\n  getConfig: () => {\n    return _ENV.config;\n  }\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_CONFIG);\n\n//# sourceURL=webpack://frontend-industry/./src/state/config.js?");

/***/ }),

/***/ "./src/state/connections.js":
/*!**********************************!*\
  !*** ./src/state/connections.js ***!
  \**********************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../libs/hyper-diagram */ \"./src/libs/hyper-diagram/index.js\");\n\n\n\n\n\nconst _ACTIONS = {\n  CREATE: 'create',\n  DELETE: 'delete',\n};\n\nconst _CONNECTIONS = {\n  ACTIONS: _ACTIONS,\n\n  _env: {\n    subject: null,\n  },\n\n  init: ({ subject }) => {\n    _CONNECTIONS._env.subject = subject;\n  },\n\n  createConnection: ({ type, source, target }) => {\n    const _connection = _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.connection.createConnection({ type, source, target });\n    if (_connection === null) return _connection;\n    _CONNECTIONS.notifyChange({ action: _ACTIONS.CREATE, payload: _connection });\n    return _connection;\n  },\n\n  getConnection: ({ id }) => {\n    return _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.connection.getConnection({ id });\n  },\n\n  getConnections: _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.connection.getConnections,\n\n  deleteConnection: ({ id }) => {\n    const _deletion = _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.connection.deleteConnection({ id });\n    if (_deletion === true) {\n      _CONNECTIONS.notifyChange({ action: _ACTIONS.DELETE, payload: id });\n    }\n    return _deletion;\n  },\n\n  notifyChange: ({ action, payload }) => {\n    const { subject } = _CONNECTIONS._env;\n    subject.next({ action, payload });\n  },\n\n  listenChanges: ({ listener }) => {\n    const { subject } = _CONNECTIONS._env;\n    return subject.subscribe({\n      next: listener,\n    });\n  },\n\n  subscribeToChanges: ({ subscriber }) => {\n    const { subject } = _CONNECTIONS._env;\n    return subject.subscribe(subscriber);\n  },\n\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_CONNECTIONS);\n\n//# sourceURL=webpack://frontend-industry/./src/state/connections.js?");

/***/ }),

/***/ "./src/state/connectors.js":
/*!*********************************!*\
  !*** ./src/state/connectors.js ***!
  \*********************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../libs/hyper-diagram */ \"./src/libs/hyper-diagram/index.js\");\n\n\n\n\n\nconst _ACTIONS = {\n  CREATE: 'create',\n  UPDATE: 'update',\n  DELETE: 'delete',\n};\n\nconst _CONNECTORS = {\n  ACTIONS: _ACTIONS,\n  _env: {\n    subject: null,\n  },\n\n  init: ({ subject }) => {\n    _CONNECTORS._env.subject = subject;\n  },\n\n  addConnector: ({ node, type, position=0 }) => {\n    const id = _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.connectors.addConnector({ node, type, position });\n    if (id === null) { return null; }\n    const _connector = _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.connectors.getConnector({ id });\n    _CONNECTORS.notifyChange({ action: _ACTIONS.CREATE, payload: _connector });\n  },\n\n  getConnector: ({ id }) => {\n    return _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.connectors.getConnector({ id });\n  },\n\n  updateConnector: ({ connector }) => {\n    _CONNECTORS.notifyChange({ action: _ACTIONS.UPDATE, payload: { id: connector.id }});\n  },\n\n  deleteConnector: ({ node, type, id }) => {\n    const _deletion = _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.connectors.deleteConnector({ node, type, id });\n    if (_deletion === true) {\n      _CONNECTORS.notifyChange({ action: _ACTIONS.DELETE, payload: id });\n    }\n  },\n\n  notifyChange: ({ action, payload }) => {\n    const { subject } = _CONNECTORS._env;\n    subject.next({ action, payload });\n  },\n\n  listenChanges: ({ listener }) => {\n    const { subject } = _CONNECTORS._env;\n    return subject.subscribe({\n      next: listener,\n    });\n  },\n\n  subscribeToChanges: ({ subscriber }) => {\n    const { subject } = _CONNECTORS._env;\n    return subject.subscribe(subscriber);\n  },\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_CONNECTORS);\n\n//# sourceURL=webpack://frontend-industry/./src/state/connectors.js?");

/***/ }),

/***/ "./src/state/data-states.js":
/*!**********************************!*\
  !*** ./src/state/data-states.js ***!
  \**********************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../libs/hyper-diagram */ \"./src/libs/hyper-diagram/index.js\");\n\n\n\n\n\nconst _ACTIONS = {\n  CREATE: 'create',\n  UPDATE: 'update',\n  DELETE: 'delete',\n  EDITOR_SELECT: 'editor-select',\n  CREATE_REF: 'create-ref',\n  UPDATE_REF: 'update-ref',\n  DELETE_REF: 'delete-ref',\n};\n\nconst _ENV = {\n  subject: null,\n  selectedState: null,\n};\n\nconst _STATES = {\n  _env: _ENV,\n  ACTIONS: _ACTIONS,\n\n  init: ({ subject }) => {\n    _ENV.subject = subject;\n  },\n\n  create: (_options) => {\n    _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.data.states.addState(_options);\n    _STATES.notifyChange({ action: _ACTIONS.CREATE, payload: {id: _options.id} });\n  },\n\n  getStates: () => {\n    return _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.data.states.getStates();\n  },\n\n  getState: ({ id }) => {\n    return _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.data.states.getState({ id });\n  },\n\n  update: (_options) => {\n    _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.data.states.updateState(_options);\n    _STATES.notifyChange({ action: _ACTIONS.UPDATE, payload: { id: _options.id }});\n  },\n\n  delete: ({ id }) => {\n    const _deletion = _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.data.states.deleteState({ id });\n    if (_deletion === true) {\n      _STATES.notifyChange({ action: _ACTIONS.DELETE, payload: { id }});\n    }\n  },\n\n  createReference: (_options) => {\n    _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.data.states.addReference(_options);\n    _STATES.notifyChange({ action: _ACTIONS.CREATE_REF, payload: {id: _options.id} });\n  },\n\n  getReferences: () => {\n    return _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.data.states.getReferences();\n  },\n\n  getReference: ({ id }) => {\n    return _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.data.states.getReference({ id });\n  },\n\n  getStateReferences: ({ id }) => {\n    return _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.data.states.getStateReferences({ id });\n  },\n\n  updateReference: ({ id }) => {\n    _STATES.notifyChange({ action: _ACTIONS.UPDATE_REF, payload: { id }});\n  },\n\n  deleteReference: ({ id }) => {\n    const _deletion = _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.data.states.deleteReference({ id });\n    if (_deletion === true) {\n      _STATES.notifyChange({ action: _ACTIONS.DELETE_REF, payload: {id}});\n    }\n  },\n\n  selectState: ({ id }) => {\n    _ENV.selectedState = _STATES.getState({ id });\n    _STATES.notifyChange({ action: _ACTIONS.EDITOR_SELECT, payload: { state: _ENV.selectedState }});\n  },\n  \n  deSelectState: () => {\n    _ENV.selectedState = null;\n    _STATES.notifyChange({ action: _ACTIONS.EDITOR_SELECT, payload: { state: _ENV.selectedState }});\n  },\n\n  getSelectedState: () => {\n    return _ENV.selectedState;\n  },\n\n  notifyChange: ({ action, payload }) => {\n    const { subject } = _ENV;\n    subject.next({ action, payload });\n  },\n\n  listenChanges: ({ listener }) => {\n    const { subject } = _ENV;\n    return subject.subscribe({\n      next: listener,\n    });\n  },\n\n  subscribeToChanges: ({ subscriber }) => {\n    const { subject } = _ENV;\n    return subject.subscribe(subscriber);\n  },\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_STATES);\n\n//# sourceURL=webpack://frontend-industry/./src/state/data-states.js?");

/***/ }),

/***/ "./src/state/index.js":
/*!****************************!*\
  !*** ./src/state/index.js ***!
  \****************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ \"./node_modules/rxjs/_esm5/internal/Subject.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config.js */ \"./src/state/config.js\");\n/* harmony import */ var _location_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./location.js */ \"./src/state/location.js\");\n/* harmony import */ var _nodes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./nodes.js */ \"./src/state/nodes.js\");\n/* harmony import */ var _connectors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./connectors.js */ \"./src/state/connectors.js\");\n/* harmony import */ var _connections_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./connections.js */ \"./src/state/connections.js\");\n/* harmony import */ var _selection_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./selection.js */ \"./src/state/selection.js\");\n/* harmony import */ var _data_states__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./data-states */ \"./src/state/data-states.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst _STATE = {\n  _env: {\n    states: {},\n  },\n\n  init: () => {\n    const { states } = _STATE._env;\n    states.config = _config_js__WEBPACK_IMPORTED_MODULE_0__.default;\n    _location_js__WEBPACK_IMPORTED_MODULE_1__.default.init({ subject: new rxjs__WEBPACK_IMPORTED_MODULE_7__.Subject() });\n    states.location = _location_js__WEBPACK_IMPORTED_MODULE_1__.default;\n    _nodes_js__WEBPACK_IMPORTED_MODULE_2__.default.init({ subject: new rxjs__WEBPACK_IMPORTED_MODULE_7__.Subject() });\n    states.nodes = _nodes_js__WEBPACK_IMPORTED_MODULE_2__.default;\n    _connectors_js__WEBPACK_IMPORTED_MODULE_3__.default.init({ subject: new rxjs__WEBPACK_IMPORTED_MODULE_7__.Subject() });\n    states.connectors = _connectors_js__WEBPACK_IMPORTED_MODULE_3__.default;\n    _connections_js__WEBPACK_IMPORTED_MODULE_4__.default.init({ subject: new rxjs__WEBPACK_IMPORTED_MODULE_7__.Subject() });\n    states.connections = _connections_js__WEBPACK_IMPORTED_MODULE_4__.default;\n    _selection_js__WEBPACK_IMPORTED_MODULE_5__.default.init({ subject: new rxjs__WEBPACK_IMPORTED_MODULE_7__.Subject() });\n    states.selection = _selection_js__WEBPACK_IMPORTED_MODULE_5__.default;\n    _data_states__WEBPACK_IMPORTED_MODULE_6__.default.init({ subject: new rxjs__WEBPACK_IMPORTED_MODULE_7__.Subject() });\n    states['data-states'] = _data_states__WEBPACK_IMPORTED_MODULE_6__.default;\n  },\n\n  getState: ({ name }) => {\n    return _STATE._env.states[name];\n  },\n\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_STATE);\n\n//# sourceURL=webpack://frontend-industry/./src/state/index.js?");

/***/ }),

/***/ "./src/state/location.js":
/*!*******************************!*\
  !*** ./src/state/location.js ***!
  \*******************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config.js */ \"./src/state/config.js\");\n\n\n\n\n\nconst _ENV = {\n  subject: null,\n  location: {\n    basePath: null,\n    title: null, \n    url: null, \n    id: null,\n    extra: null,\n  },\n  state: {},  \n};\n\nconst _LOCATION = {\n  _env: _ENV,\n\n  init: ({ subject }) => {\n    _ENV.subject = subject;\n    _ENV.location.basePath = _config_js__WEBPACK_IMPORTED_MODULE_0__.default.getConfig().basePath;\n  },\n\n  changeLocation: ({ state = {}, title='', url, id }) => { \n    history.pushState(state, id, url);\n    window.dispatchEvent(new PopStateEvent('popstate'));  // Notify history change\n    // _LOCATION.notifyLocationChange({ state, title, url, id }); // the router do this\n  },\n\n  changeView: ({ urlView }) => {\n    const { basePath } = _ENV.location;\n    const { protocol,  host } = window.location;\n    const _baseURL = `${protocol}//${host}${basePath}`;\n    _LOCATION.changeLocation({ url:`${_baseURL}${urlView}`, id:null });\n  },\n\n  getLocation: () => _LOCATION._env.location,\n\n  notifyLocationChange: ({ state = {}, title, url, id, extra=null }) => {\n    _ENV.state = state;\n    const { location, subject } = _ENV;\n    location.title = title; location.url = url; location.id = id; location.extra = extra;\n    subject.next({ state, location });\n  },\n\n  listenLocationChanges: ({ listener }) => {\n    const { subject } = _LOCATION._env;\n    return subject.subscribe({\n      next: listener,\n    });\n  },\n\n  subscribeToLocationChanges: ({ subscriber }) => {\n    const { subject } = _LOCATION._env;\n    return subject.subscribe(subscriber);\n  },\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_LOCATION);\n\n//# sourceURL=webpack://frontend-industry/./src/state/location.js?");

/***/ }),

/***/ "./src/state/nodes.js":
/*!****************************!*\
  !*** ./src/state/nodes.js ***!
  \****************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../libs/hyper-diagram */ \"./src/libs/hyper-diagram/index.js\");\n\n\n\nconst _ACTIONS = {\n  CREATE: 'create',\n  UPDATE: 'update',\n  DELETE: 'delete',\n};\n\nconst _ENV = {\n  subject: null,\n};\n\nconst _NODES = {\n  ACTIONS: _ACTIONS,\n  _env: _ENV,\n\n  init: ({ subject }) => {\n    _NODES._env.subject = subject;\n    _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.init();\n  },\n\n  create: (_options) => {\n    const _node = _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.node.create(_options);\n    _NODES.notifyChange({ action: _ACTIONS.CREATE, payload: _node });\n    return _node;\n  },\n\n  getNode: ({ id }) => {\n    return _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.node.getNode({ id });\n  },\n\n  getNodes: () => {\n    return _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.node.getNodes();\n  },\n\n  updateNode: ({ node }) => {\n    _NODES.notifyChange({ action: _ACTIONS.UPDATE, payload: { id: node.id }});\n  },\n\n  delete: ({ id }) => {\n    const _deletion = _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default.node.delete({ id });\n    if (_deletion === true) {\n      _NODES.notifyChange({ action: _ACTIONS.DELETE, payload: id });\n    }\n  },\n\n  notifyChange: ({ action, payload }) => {\n    const { subject } = _NODES._env;\n    subject.next({ action, payload });\n  },\n\n  listenChanges: ({ listener }) => {\n    const { subject } = _NODES._env;\n    return subject.subscribe({\n      next: listener,\n    });\n  },\n\n  subscribeToChanges: ({ subscriber }) => {\n    const { subject } = _NODES._env;\n    return subject.subscribe(subscriber);\n  },\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NODES);\n\n//# sourceURL=webpack://frontend-industry/./src/state/nodes.js?");

/***/ }),

/***/ "./src/state/selection.js":
/*!********************************!*\
  !*** ./src/state/selection.js ***!
  \********************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/**\n * State management for the selection\n */\n\nconst _ENV = {\n  subject: null,\n  selection: {\n    type: null,\n    id: null,\n    object: null,\n  }\n};\n\nconst _SELECTION = {\n  _env: _ENV,\n\n  init: ({ subject }) => {\n    _ENV.subject = subject;\n  },\n\n  getSelection: () => {\n    return _ENV.selection;\n  },\n\n  select: ({ type, id, object }) => {\n    _ENV.selection = {\n      ..._ENV.selection,\n      type,\n      id,\n      object,\n    };\n    _SELECTION.notifyChange({ action: 'select', payload: _ENV.selection });\n  },\n\n  selectNONE: () => {\n    _ENV.selection = {\n      type: null,\n      id: null,\n      object: null,\n    };\n    _SELECTION.notifyChange({ action: 'selectNONE', payload: null });\n  },\n\n  notifyChange: ({ action, payload }) => {\n    const { subject } = _ENV;\n    subject.next({ action, payload });\n  },\n\n  listenChanges: ({ listener }) => {\n    const { subject } = _ENV;\n    return subject.subscribe({\n      next: listener,\n    });\n  },\n\n  subscribeToChanges: ({ subscriber }) => {\n    const { subject } = _ENV;\n    return subject.subscribe(subscriber);\n  },\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_SELECTION);\n\n//# sourceURL=webpack://frontend-industry/./src/state/selection.js?");

/***/ }),

/***/ "./src/utils/diagram-manager.js":
/*!**************************************!*\
  !*** ./src/utils/diagram-manager.js ***!
  \**************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _state_config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../state/config.js */ \"./src/state/config.js\");\n/* harmony import */ var _state_nodes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../state/nodes.js */ \"./src/state/nodes.js\");\n/* harmony import */ var _state_data_states_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../state/data-states.js */ \"./src/state/data-states.js\");\n/* harmony import */ var _state_connectors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../state/connectors.js */ \"./src/state/connectors.js\");\n/* harmony import */ var _state_connections_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../state/connections.js */ \"./src/state/connections.js\");\n/* harmony import */ var _state_selection_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../state/selection.js */ \"./src/state/selection.js\");\n/* harmony import */ var _libs_hyper_diagram_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../libs/hyper-diagram/index.js */ \"./src/libs/hyper-diagram/index.js\");\n/* harmony import */ var _libs_hyper_engine_index_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../libs/hyper-engine/index.js */ \"./src/libs/hyper-engine/index.js\");\n/* harmony import */ var _test_diagram_manager_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./test-diagram-manager.js */ \"./src/utils/test-diagram-manager.js\");\n/* harmony import */ var _libs_threejs_three_module_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../libs/threejs/three.module.js */ \"./src/libs/threejs/three.module.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst _ENV = {\n  renderer: null,\n};\n\n/**\n * Manage elements in the renderer\n */\nconst _FACTORY = {\n\n  createNode: ({ node }) => {\n    const { factory } = _ENV.renderer;  // Use the factory of the diagram renderer 🧩\n    const _node = factory.node.create({ node });\n\n    const _connDATA = Object.values(node.connectors.data);\n    const _dataIN = _connDATA.find(_c => _c.type === 'data-in');\n    const _dataOUT = _connDATA.find(_c => _c.type === 'data-out');\n\n    const _connFLOW = Object.values(node.connectors.flow);\n    const _stepSTART = _connFLOW.find(_c => _c.type === 'step-start');\n    const _stepEND = _connFLOW.find(_c => _c.type === 'step-end');\n\n    if (_dataIN !== undefined) {\n      _node.connector_dataIN.id = _dataIN.id;\n      _node.connector_dataIN.model.userData.id = _dataIN.id;\n    }\n    if (_dataOUT !== undefined) {\n      _node.connector_dataOUT.id = _dataOUT.id;\n      _node.connector_dataOUT.model.userData.id = _dataOUT.id;\n    }\n    if (_stepSTART !== undefined) {\n      _node.connector_start.id = _stepSTART.id;\n      _node.connector_start.model.userData.id = _stepSTART.id;\n    }\n    if (_stepEND !== undefined) {\n      _node.connectors_end[0].id = _stepEND.id;\n      _node.connectors_end[0].model.userData.id = _stepEND.id;\n    }\n\n    _node.id = node.id;\n    _node.model.userData.id = node.id;\n    _node.model.position.set(node.extra.position.x, node.extra.position.y, node.extra.position.z);\n    _ENV.renderer.addNode({ node: _node });\n  },\n\n  createConnection: ({ connection }) => {\n    const { factory } = _ENV.renderer;\n    const { models } = _ENV.renderer._env;\n\n    let _source, _target;\n    switch (connection.type) {\n      case 'flow':\n        _source = models.connectors.stepEND.find(_c => _c.id === connection.source);\n        _target = models.connectors.stepSTART.find(_c => _c.id === connection.target);\n        break;\n\n      case 'data':\n        _source = models.connectors.dataOUT.find(_c => _c.id === connection.source);\n        _target = models.connectors.dataIN.find(_c => _c.id === connection.target);\n        break;\n    \n      default:\n        break;\n    }\n\n    const _connection = factory.connection.createConnection({\n      type: connection.type,\n      startPoint: _source.model.getWorldPosition(new _libs_threejs_three_module_js__WEBPACK_IMPORTED_MODULE_9__.Vector3()),\n      endPoint: _target.model.getWorldPosition(new _libs_threejs_three_module_js__WEBPACK_IMPORTED_MODULE_9__.Vector3()),\n    });\n\n    _connection.id = connection.id;\n    _connection.source = _source.id;\n    _connection.target = _target.id;\n    _connection.model.userData.id = connection.id;\n\n    _ENV.renderer.addConnection({ connection: _connection });\n  },\n\n\n  deleteNode: ({ id }) => {\n    _ENV.renderer.removeNode({ id });\n\n    // Check selection and select node if the deleted node was the selected one\n    const _selection = _state_selection_js__WEBPACK_IMPORTED_MODULE_5__.default.getSelection();\n    if (_selection.type === 'node' && _selection.id === id) {\n      _state_selection_js__WEBPACK_IMPORTED_MODULE_5__.default.selectNONE();\n    }\n  },\n\n  deleteConnection: ({ id }) => {\n    _ENV.renderer.removeConnection({ id });\n\n    // Check selection and select node if the deleted connection was the selected one\n    const _selection = _state_selection_js__WEBPACK_IMPORTED_MODULE_5__.default.getSelection();\n    if (_selection.type === 'connection' && _selection.id === id) {\n      _state_selection_js__WEBPACK_IMPORTED_MODULE_5__.default.selectNONE();\n    }\n  },\n};\n\n/**\n * Manage elements in the hyper-diagram library\n */\nconst _DIAGRAM = {\n  diagramRenderer: null,\n  engine: _libs_hyper_engine_index_js__WEBPACK_IMPORTED_MODULE_7__.default.engine,\n\n  init: ({ renderer }) => {\n    _ENV.renderer = renderer;\n    _DIAGRAM.diagramRenderer = _ENV.renderer; // Provide access to diagram renderer 🧩\n\n    _libs_hyper_engine_index_js__WEBPACK_IMPORTED_MODULE_7__.default.init({ hyperdiagram: _libs_hyper_diagram_index_js__WEBPACK_IMPORTED_MODULE_6__.default });  // Initialize hyperengine 🧩⚙\n\n    // Listen to changes in the state of nodes, data, connectors and connections 🧩\n    _state_nodes_js__WEBPACK_IMPORTED_MODULE_1__.default.listenChanges({ listener: _DIAGRAM._listenerNodes });\n    _state_data_states_js__WEBPACK_IMPORTED_MODULE_2__.default.listenChanges({ listener: _DIAGRAM._listenerDataStates });\n    _state_connectors_js__WEBPACK_IMPORTED_MODULE_3__.default.listenChanges({ listener: _DIAGRAM._listenerConnectors });\n    _state_connections_js__WEBPACK_IMPORTED_MODULE_4__.default.listenChanges({ listener: _DIAGRAM._listenerConnections });\n\n    _DIAGRAM.camera = renderer.camera;  // Access to camera properties\n\n\n    _test_diagram_manager_js__WEBPACK_IMPORTED_MODULE_8__.default.init({ manager: _DIAGRAM }); // Initialize tests\n  },\n\n  _listenerNodes: (_data) => {\n    switch (_data.action) {\n      case _state_nodes_js__WEBPACK_IMPORTED_MODULE_1__.default.ACTIONS.CREATE:\n        _FACTORY.createNode({ node: _data.payload });\n        break;\n\n      case _state_nodes_js__WEBPACK_IMPORTED_MODULE_1__.default.ACTIONS.DELETE:\n        _FACTORY.deleteNode({ id: _data.payload });\n        break;\n    \n      default:\n        break;\n    }\n  },\n\n  _listenerDataStates: (_data) => {\n    switch (_data.action) {\n      case _state_data_states_js__WEBPACK_IMPORTED_MODULE_2__.default.ACTIONS.DELETE_REF:\n        // _FACTORY.deleteNode({ id: _data.payload }); // Not really necessary 🔍⚠️\n        break;\n    \n      default:\n        break;\n    }\n  },\n\n  _listenerConnectors: (_data) => {\n    // console.log('Diagram manager _listenerConnectors', { _data });  // TODO: REMOVE DEBUG LOG 📏⏳🔍\n  },\n\n  _listenerConnections: (_data) => {\n    switch (_data.action) {\n      case _state_connections_js__WEBPACK_IMPORTED_MODULE_4__.default.ACTIONS.CREATE:\n        _FACTORY.createConnection({ connection: _data.payload });\n        break;\n\n      case _state_connections_js__WEBPACK_IMPORTED_MODULE_4__.default.ACTIONS.DELETE:\n        _FACTORY.deleteConnection({ id: _data.payload });\n        break;\n    \n      default:\n        break;\n    }\n\n  },\n\n  getConfig: () => _state_config_js__WEBPACK_IMPORTED_MODULE_0__.default.getConfig(),\n\n  getDATA: _libs_hyper_diagram_index_js__WEBPACK_IMPORTED_MODULE_6__.default.getDATA,\n\n  loadDATA: (_options) => {\n    const { renderer } = _ENV;  // Use of the diagram renderer 🧩\n\n    _libs_hyper_diagram_index_js__WEBPACK_IMPORTED_MODULE_6__.default.loadDATA(_options);\n\n    _state_selection_js__WEBPACK_IMPORTED_MODULE_5__.default.selectNONE();\n    renderer.clearNodes();\n\n    // Create nodes ⚙\n    const nodes = _libs_hyper_diagram_index_js__WEBPACK_IMPORTED_MODULE_6__.default.node.getAllNodes();\n    Object.values(nodes).forEach(node => _FACTORY.createNode({ node }));\n\n    // Create connections ⚙\n    const connections = _libs_hyper_diagram_index_js__WEBPACK_IMPORTED_MODULE_6__.default.connection.getAllConnections();\n    Object.values(connections).forEach(connection => _FACTORY.createConnection({ connection }));\n  },\n\n  nodes: {\n    create: (_options) => {\n      return _state_nodes_js__WEBPACK_IMPORTED_MODULE_1__.default.create(_options);\n    },\n    get: (_options) => {\n      return _state_nodes_js__WEBPACK_IMPORTED_MODULE_1__.default.getNode(_options);\n    },\n    update: (_options) => {\n      return _state_nodes_js__WEBPACK_IMPORTED_MODULE_1__.default.updateNode(_options);\n    },\n    delete: (_options) => {\n      return _state_nodes_js__WEBPACK_IMPORTED_MODULE_1__.default.delete(_options);\n    },\n    getNodes: _state_nodes_js__WEBPACK_IMPORTED_MODULE_1__.default.getNodes,\n  },\n\n  connectors: {\n    add: (_options) => {\n      return _state_connectors_js__WEBPACK_IMPORTED_MODULE_3__.default.addConnector(_options);\n    },\n    get: (_options) => {\n      return _state_connectors_js__WEBPACK_IMPORTED_MODULE_3__.default.getConnector(_options);\n    },\n    update: (_options) => {\n      return _state_connectors_js__WEBPACK_IMPORTED_MODULE_3__.default.updateConnector(_options);\n    },\n    delete: (_options) => {\n      return _state_connectors_js__WEBPACK_IMPORTED_MODULE_3__.default.deleteConnector(_options);\n    },\n  },\n\n  connections: {\n    create: (_options) => {\n      return _state_connections_js__WEBPACK_IMPORTED_MODULE_4__.default.createConnection(_options);\n    },\n    get: (_options) => {\n      return _state_connections_js__WEBPACK_IMPORTED_MODULE_4__.default.getConnection(_options);\n    },\n    getConnections: _state_connections_js__WEBPACK_IMPORTED_MODULE_4__.default.getConnections,\n    delete: (_options) => {\n      return _state_connections_js__WEBPACK_IMPORTED_MODULE_4__.default.deleteConnection(_options);\n    },\n  },\n\n  camera: null,\n\n  tests: _test_diagram_manager_js__WEBPACK_IMPORTED_MODULE_8__.default,\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_DIAGRAM);\n\n//# sourceURL=webpack://frontend-industry/./src/utils/diagram-manager.js?");

/***/ }),

/***/ "./src/utils/index.js":
/*!****************************!*\
  !*** ./src/utils/index.js ***!
  \****************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _rfdc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rfdc */ \"./src/utils/rfdc.js\");\n/* harmony import */ var _rfdc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_rfdc__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nconst _UTILS = {\n  deepClone: (source) => {\n    return _rfdc__WEBPACK_IMPORTED_MODULE_0___default()({ proto: true })(source); // clone the referenced source\n  }\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_UTILS);\n\n//# sourceURL=webpack://frontend-industry/./src/utils/index.js?");

/***/ }),

/***/ "./src/utils/rfdc.js":
/*!***************************!*\
  !*** ./src/utils/rfdc.js ***!
  \***************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module */
/*! CommonJS bailout: module.exports is used directly at 2:0-14 */
/***/ ((module) => {

"use strict";
eval("\nmodule.exports = rfdc\n\nfunction copyBuffer (cur) {\n  if (cur instanceof Buffer) {\n    return Buffer.from(cur)\n  }\n\n  return new cur.constructor(cur.buffer.slice(), cur.byteOffset, cur.length)\n}\n\n\n/**\n * RFDC Really Fast Deep Clone\n * @see https://github.com/davidmarkclements/rfdc\n */\nfunction rfdc (opts) {\n  opts = opts || {}\n\n  if (opts.circles) return rfdcCircles(opts)\n  return opts.proto ? cloneProto : clone\n\n  function cloneArray (a, fn) {\n    var keys = Object.keys(a)\n    var a2 = new Array(keys.length)\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i]\n      var cur = a[k]\n      if (typeof cur !== 'object' || cur === null) {\n        a2[k] = cur\n      } else if (cur instanceof Date) {\n        a2[k] = new Date(cur)\n      } else if (ArrayBuffer.isView(cur)) {\n        a2[k] = copyBuffer(cur)\n      } else {\n        a2[k] = fn(cur)\n      }\n    }\n    return a2\n  }\n\n  function clone (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (o instanceof Date) return new Date(o)\n    if (Array.isArray(o)) return cloneArray(o, clone)\n    var o2 = {}\n    for (var k in o) {\n      if (Object.hasOwnProperty.call(o, k) === false) continue\n      var cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur instanceof Date) {\n        o2[k] = new Date(cur)\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        o2[k] = clone(cur)\n      }\n    }\n    return o2\n  }\n\n  function cloneProto (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (o instanceof Date) return new Date(o)\n    if (Array.isArray(o)) return cloneArray(o, cloneProto)\n    var o2 = {}\n    for (var k in o) {\n      var cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur instanceof Date) {\n        o2[k] = new Date(cur)\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        o2[k] = cloneProto(cur)\n      }\n    }\n    return o2\n  }\n}\n\nfunction rfdcCircles (opts) {\n  var refs = []\n  var refsNew = []\n\n  return opts.proto ? cloneProto : clone\n\n  function cloneArray (a, fn) {\n    var keys = Object.keys(a)\n    var a2 = new Array(keys.length)\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i]\n      var cur = a[k]\n      if (typeof cur !== 'object' || cur === null) {\n        a2[k] = cur\n      } else if (cur instanceof Date) {\n        a2[k] = new Date(cur)\n      } else if (ArrayBuffer.isView(cur)) {\n        a2[k] = copyBuffer(cur)\n      } else {\n        var index = refs.indexOf(cur)\n        if (index !== -1) {\n          a2[k] = refsNew[index]\n        } else {\n          a2[k] = fn(cur)\n        }\n      }\n    }\n    return a2\n  }\n\n  function clone (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (o instanceof Date) return new Date(o)\n    if (Array.isArray(o)) return cloneArray(o, clone)\n    var o2 = {}\n    refs.push(o)\n    refsNew.push(o2)\n    for (var k in o) {\n      if (Object.hasOwnProperty.call(o, k) === false) continue\n      var cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur instanceof Date) {\n        o2[k] = new Date(cur)\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        var i = refs.indexOf(cur)\n        if (i !== -1) {\n          o2[k] = refsNew[i]\n        } else {\n          o2[k] = clone(cur)\n        }\n      }\n    }\n    refs.pop()\n    refsNew.pop()\n    return o2\n  }\n\n  function cloneProto (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (o instanceof Date) return new Date(o)\n    if (Array.isArray(o)) return cloneArray(o, cloneProto)\n    var o2 = {}\n    refs.push(o)\n    refsNew.push(o2)\n    for (var k in o) {\n      var cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur instanceof Date) {\n        o2[k] = new Date(cur)\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        var i = refs.indexOf(cur)\n        if (i !== -1) {\n          o2[k] = refsNew[i]\n        } else {\n          o2[k] = cloneProto(cur)\n        }\n      }\n    }\n    refs.pop()\n    refsNew.pop()\n    return o2\n  }\n}\n\n//# sourceURL=webpack://frontend-industry/./src/utils/rfdc.js?");

/***/ }),

/***/ "./src/utils/test-diagram-manager.js":
/*!*******************************************!*\
  !*** ./src/utils/test-diagram-manager.js ***!
  \*******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../libs/hyper-diagram */ \"./src/libs/hyper-diagram/index.js\");\n\n\n\n\n\nconst _ENV = {\n  manager: null,\n  hyperdiagram: _libs_hyper_diagram__WEBPACK_IMPORTED_MODULE_0__.default,\n};\n\nconst _TEST = {\n  init: ({ manager }) => {\n    _ENV.manager = manager;\n\n    window.diagramTest = _TEST;\n    _TEST.manager = _ENV.manager;\n    _TEST.hyperdiagram = _ENV.hyperdiagram;\n    console.log('HYPERDIAGRAM', _TEST.hyperdiagram);  // TODO: REMOVE DEBUG LOG 📏⏳🔍\n  },\n  testNodes: () => {\n    const { manager } = _ENV;\n\n    manager.nodes.create({\n      category: 'flow', \n      family: 'step', \n      type: 'default', \n      extra: {\n        position: {x: -5, y: 0, z: 0}\n      },\n    });\n\n    manager.nodes.create({\n      category: 'flow', \n      family: 'step', \n      type: 'default', \n      extra: {\n        position: {x: 5, y: 0, z: 0}\n      },\n    });\n\n    manager.nodes.create({\n      category: 'data', \n      family: 'state', \n      type: 'default', \n      extra: {\n        position: {x: 0, y: 0, z: -3}\n      },\n    });\n\n    manager.nodes.create({\n      category: 'flow', \n      family: 'step', \n      type: 'pause', \n      extra: {\n        position: {x: -5, y: 0, z: -9}\n      },\n    });\n\n    manager.nodes.create({\n      category: 'flow', \n      family: 'step', \n      type: 'function-call', \n      extra: {\n        position: {x: 5, y: 0, z: -9}\n      },\n    });\n\n    manager.nodes.create({\n      category: 'flow', \n      family: 'signal', \n      type: 'listen', \n      extra: {\n        position: {x: -5, y: 0, z: -16}\n      },\n    });\n\n    manager.nodes.create({\n      category: 'flow', \n      family: 'signal', \n      type: 'emit', \n      extra: {\n        position: {x: 5, y: 0, z: -16}\n      },\n    });\n\n  },\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_TEST);\n\n//# sourceURL=webpack://frontend-industry/./src/utils/test-diagram-manager.js?");

/***/ }),

/***/ "./src/views/data-state-editor.js":
/*!****************************************!*\
  !*** ./src/views/data-state-editor.js ***!
  \****************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ \"./node_modules/lit-html/lit-html.js\");\n/* harmony import */ var _state_data_states_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../state/data-states.js */ \"./src/state/data-states.js\");\n/* harmony import */ var _state_location_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../state/location.js */ \"./src/state/location.js\");\n/* harmony import */ var _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/diagram-manager.js */ \"./src/utils/diagram-manager.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _components_toast__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/toast */ \"./src/components/toast/index.js\");\n/* harmony import */ var _components_modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/modal */ \"./src/components/modal/index.js\");\n\n\n\n\n\n\n\n\n\nconst _ENV = {\n  myDIV: null,\n  state: null,\n  stateRef: null,  // the referenced state, used for update\n  modalDelete: null,\n};\n\nconst _EDITOR = {\n  _env: _ENV,\n\n  init: () => {\n    _ENV.myDIV = document.createElement('article');\n    _ENV.myDIV.classList.add(\"state-editor\");\n  },\n\n  getComponent() {\n    return _ENV.myDIV;\n  },\n\n  _render: () => {\n    let { state } = _ENV;\n    if (state === null) { return; }  // The state is not initialized\n    const _innerHTML = lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n      <h3>State editor</h3>\n      <div class=\"state\">\n        <fieldset data-name=\"id\">\n          <legend>ID</legend>\n          <input name=\"id\" type=\"text\" .value=\"${state.id}\" autocomplete=\"off\">\n          <div class=\"validation-info\"></div>\n        </fieldset>\n        <fieldset data-name=\"name\">\n          <legend>Name</legend>\n          <input name=\"name\" type=\"text\" .value=\"${state.name}\" autocomplete=\"off\">\n          <div class=\"validation-info\"></div>\n        </fieldset>\n        <fieldset data-name=\"description\">\n          <legend>Description</legend>\n          <input name=\"description\" type=\"text\" .value=\"${state.description}\" autocomplete=\"off\">\n          <div class=\"validation-info\"></div>\n        </fieldset>\n        <button @click=${_EDITOR._onclickButtonSave}>Save</button>\n        <button @click=${_EDITOR._onclickButtonDelete}>Delete</button>\n        <button @click=${_EDITOR._onclickButtonNew}>Create new</button>\n      </div>\n      <fieldset class=\"properties\">\n        <legend>Properties</legend>\n        ${_EDITOR._renderProperties()}\n        <button @click=${_EDITOR._onclickButtonAddProp}>Add</button>\n      </fieldset>\n      <div class=\"snackbar\" data-name=\"created\">State created</div>\n      <div class=\"snackbar\" data-name=\"updated\">State updated</div>\n      <div class=\"snackbar\" data-name=\"deleted\">State deleted</div>\n      ${_EDITOR._renderModalDelete()}\n    `;\n    (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(_innerHTML, _ENV.myDIV);\n  },\n\n  _renderProp: ({ property }) => {\n    const _innerHTML = lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n      <div class=\"property\" data-id=\"${property.id}\">\n        <legend>Name</legend>\n        <input data-type=\"prop\" type=\"text\" .value=\"${property.id}\" autocomplete=\"off\">\n        <button @click=${_EDITOR._onclickButtonDelProp}>Delete</button>\n        <div class=\"validation-info\"></div>\n      </div>\n    `;\n\n    return _innerHTML;\n  },\n\n  _renderProperties: () => {\n    if (_ENV.state === null) { return; }  // The state is not initialized\n    const { properties } = _ENV.state;\n    const _propsHTML = [];\n    Object.values(properties).forEach(property => {\n      _propsHTML.push(_EDITOR._renderProp({ property }));\n    });\n    return _propsHTML;\n  },\n\n  _renderModalDelete: () => {\n    return lit_html__WEBPACK_IMPORTED_MODULE_0__.html`\n    <!-- The Modal -->\n    <div id=\"modal-delete\" class=\"modal info\">\n    \n      <!-- Modal content -->\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <span class=\"close\">&times;</span>\n          <h2>Delete?</h2>\n        </div>\n        <div class=\"modal-body\">\n          <p>Do you really want to delete this element?</p>\n          <p>\n            <button type=\"button\" @click=\"${_EDITOR._onButtonConfirmDeleteClick}\">Yes</button>\n            <button type=\"button\" @click=\"${() => _ENV.modalDelete && _ENV.modalDelete.close()}\">No</button>\n          </p>\n        </div>\n        <div class=\"modal-footer\">\n          <!-- <h3>Modal Footer</h3> -->\n        </div>\n      </div>\n    \n    </div>\n    `;\n  },\n\n  update: ({ params=null }) => {\n    if (params !== null) {\n      if (Object.keys(params).length === 0) {  // No parameters\n        _ENV.stateRef = null; // No reference state\n        _ENV.state = {  // Initialize with the default state\n          id: '',\n          name: '',\n          description: '',\n          properties: {\n            'newprop': {\n              id: 'newprop',\n              type: null,\n              value: null,\n            }\n          },\n        };\n        _state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.deSelectState();\n      } else {\n        _state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.selectState({ id: params['id'] })\n        _ENV.stateRef = params['id'];\n        _ENV.state = _utils__WEBPACK_IMPORTED_MODULE_4__.default.deepClone(_state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.getState({ id: _ENV.stateRef })); // clone the referenced state\n      }\n\n      // TODO: LOAD STATE 🔍⚠️\n    } else {\n      // TODO: NORMAL UPDATE 🔍⚠️\n    }\n\n    _EDITOR._render();\n\n    if (_ENV.stateRef !== null) {\n      _ENV.myDIV.querySelector(`div.state input[name=\"id\"]`).setAttribute('disabled', true);  // disable the modification of ID\n    } else {\n      _ENV.myDIV.querySelector(`div.state input[name=\"id\"]`).removeAttribute('disabled');\n    }\n  },\n\n  _validateState: ({ name , check=null }) => {\n    const { myDIV, state } = _ENV;\n    const _errors = [];\n    const _validationInfo = myDIV.querySelector(`div.state fieldset[data-name=\"${name}\"] div.validation-info`);\n    _validationInfo.innerHTML = '';\n\n    const _value = myDIV.querySelector(`div.state input[name=\"${name}\"]`).value;\n    let _valueCheck = check !== null ? check.test(_value) : true;\n    if (_valueCheck === false) { _errors.push('Bad name'); }\n\n    if (name === 'id') {  // Specific check by ID\n      if (_state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.getState({ id: _value }) !== undefined) { // Check duplicated state id\n        _valueCheck = false;\n        _errors.push('Duplicated state ID');\n      }\n    }\n    \n    if (name === 'name') {  // Specific check by name\n      const _searchByName = Object.values(_state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.getStates()).find(_state => _state.name === _value);\n      if (_searchByName !== undefined && _searchByName.id !== _ENV.stateRef) {  // Check if it is not the same state id\n        _valueCheck = false;\n        _errors.push('Duplicated state name');\n      }\n    }\n\n    if (_valueCheck === false) {\n      _errors.forEach(_e => {\n        _validationInfo.innerHTML += `${_e}</br>`;\n      });\n      _validationInfo.style.display = 'block';\n    } else {\n      _validationInfo.style.display = 'none';\n      state[name] = _value;  // update value\n    }\n\n    return _valueCheck;\n  },\n\n  _validateProperty: ({ name, check }) => {\n    const { myDIV } = _ENV;\n    const { properties } = _ENV.state;\n    const _errors = [];\n    const _validationInfo = myDIV.querySelector(`fieldset.properties div.property[data-id=\"${name}\"] div.validation-info`);\n    _validationInfo.innerHTML = '';\n\n    const _value = myDIV.querySelector(`fieldset.properties div.property[data-id=\"${name}\"] input[data-type=\"prop\"]`).value;\n    let _valueCheck = check.test(_value);\n    if (_valueCheck === false) { _errors.push('Bad name'); }\n\n    const _idCheck = Object.keys(properties).filter(_k => _k === _value); // Check property name duplication\n    if (_idCheck.length > 0 && name !== _value) {\n      _valueCheck = false;\n      _errors.push('Name duplicated');\n    } else if (_idCheck.length === 0 && name !== _value && _valueCheck !== false) {\n      delete properties[name];  // Delete old new property\n      myDIV.querySelector(`fieldset.properties div.property[data-id=\"${name}\"]`).setAttribute('data-id', _value); // Change the property DOM\n    }\n\n    if (_valueCheck === false) {\n      _errors.forEach(_e => {\n        _validationInfo.innerHTML += `${_e}</br>`;\n      });\n      _validationInfo.style.display = 'block';\n    } else {\n      _validationInfo.style.display = 'none';\n      // properties[name] = _value;  // update value\n      properties[_value] = {  // update value\n        id: _value,\n        type: null,\n        value: null,\n      };\n    }\n\n    return _valueCheck;\n  },\n\n  _validate: () => {\n    const { properties } = _ENV.state;\n    let _validations = {\n      state: [\n        { name: 'id', check: /^[a-z0-9_-]{3,16}$/, result: null },\n        { name: 'name', check: /^[a-z0-9_-]{3,16}$/, result: null },\n        { name: 'description', result: null }\n      ],\n      properties: Object.keys(properties).map(_k => {\n        return { name: _k, check: /^[a-z0-9_-]{3,16}$/, result: null };\n      }),\n    };\n\n    if (_ENV.stateRef !== null) {  // Not validate id when update a state\n      delete _validations.state.splice(0, 1);\n    }\n\n    _validations.state.forEach(_v => {  // Validate state\n      _v.result = _EDITOR._validateState(_v);\n    });\n\n    _validations.properties.forEach(_v => { // Validate properties\n      _v.result = _EDITOR._validateProperty(_v);\n    });\n\n    const _someErrors = _validations.state.some(_v => _v.result === false) || \n      _validations.properties.some(_v => _v.result === false);\n\n    return _someErrors;\n  },\n\n  _onclickButtonSave: () => {\n    const _someError = _EDITOR._validate();\n\n    if (_someError !== false) return; // Save state only if there are no errors\n\n    if (_ENV.stateRef === null) { // Create if there is no reference\n      _state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.create(_utils__WEBPACK_IMPORTED_MODULE_4__.default.deepClone(_ENV.state));\n      _components_toast__WEBPACK_IMPORTED_MODULE_5__.default.openToast({  // Notify creation\n        element: _ENV.myDIV.querySelector('div.snackbar[data-name=\"created\"]'),\n        delay: 1000,\n      });\n      setTimeout(()=>{\n        _state_location_js__WEBPACK_IMPORTED_MODULE_2__.default.changeView({urlView:`data/state/${_ENV.state.id}/edit`});  // Redirect to 'edit state'\n      }, 1000);\n    } else {  // Update\n      _state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.update(_utils__WEBPACK_IMPORTED_MODULE_4__.default.deepClone(_ENV.state));\n      _components_toast__WEBPACK_IMPORTED_MODULE_5__.default.openToast({  // Notify updated\n        element: _ENV.myDIV.querySelector('div.snackbar[data-name=\"updated\"]'),\n        delay: 1000,\n      });\n    }\n  },\n\n  _onclickButtonDelete: () => {\n    if (_ENV.stateRef === null) {return;} // Nothing to delete\n    if (_ENV.modalDelete === null) {  // Initialize modal for delete\n      _ENV.modalDelete = new _components_modal__WEBPACK_IMPORTED_MODULE_6__.Modal({ element: _ENV.myDIV.querySelector('#modal-delete') });  // TODO: REVIEW CODE 🔍⚠️\n    }\n    _ENV.modalDelete.open();\n  },\n\n  _onButtonConfirmDeleteClick: (_event) => {\n    _ENV.modalDelete.close();\n    _state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.getStateReferences({ id: _ENV.stateRef }).forEach(_r => {  // delete references\n      // stateDataStates.deleteReference({ id: _r.id }); // TODO: Why delete the node using the diagram manager 🔍⚠️\n      _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_3__.default.nodes.delete({ id: _r.id });\n    });\n    _state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.deSelectState();  // deselect state\n    _state_data_states_js__WEBPACK_IMPORTED_MODULE_1__.default.delete({ id: _ENV.stateRef });  // delete state\n    _components_toast__WEBPACK_IMPORTED_MODULE_5__.default.openToast({  // Notify deletion\n      element: _ENV.myDIV.querySelector('div.snackbar[data-name=\"deleted\"]'),\n      delay: 1000,\n    });\n    setTimeout(()=>{\n      _state_location_js__WEBPACK_IMPORTED_MODULE_2__.default.changeView({urlView:`data/state/new`});  // Redirect to 'new state'\n    }, 1000);\n  },\n\n  _onclickButtonNew: () => {\n    _state_location_js__WEBPACK_IMPORTED_MODULE_2__.default.changeView({urlView:`data/state/new`});  // Redirect to 'new state'\n  },\n\n  _onclickButtonAddProp: () => {\n    const { properties } = _ENV.state;\n    let _name = 'newprop';\n    let _nameIndex = 1;\n\n    do {\n      _name = `newprop${_nameIndex++}`;\n    } while (properties[_name] !== undefined);\n\n    properties[_name] = {\n      id: _name,\n      type: null,\n      value: null,\n    };\n\n    _EDITOR.update({});\n  },\n\n  _onclickButtonDelProp: (_event) => {\n    const _id = _event.target.parentElement.getAttribute('data-id');\n    delete _ENV.state.properties[_id];\n    _EDITOR.update({});\n  },\n\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_EDITOR);\n\n//# sourceURL=webpack://frontend-industry/./src/views/data-state-editor.js?");

/***/ }),

/***/ "./src/views/diagram.js":
/*!******************************!*\
  !*** ./src/views/diagram.js ***!
  \******************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ \"./node_modules/lit-html/lit-html.js\");\n/* harmony import */ var _libs_diagram_renderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../libs/diagram-renderer */ \"./src/libs/diagram-renderer/index.js\");\n/* harmony import */ var _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/diagram-manager.js */ \"./src/utils/diagram-manager.js\");\n\n\n\n\n\n\n\nconst _DIAGRAM = {\n  _env: {\n    myDIV: null,\n    initialized: false,\n  },\n\n  init: () => {\n    const { _env } = _DIAGRAM;\n    _env.myDIV = document.createElement('article');\n    _env.myDIV.classList.add(\"diagram\");\n    \n    _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_2__.default.init({ renderer: _libs_diagram_renderer__WEBPACK_IMPORTED_MODULE_1__.default });\n    _DIAGRAM._initRenderer();\n  },\n\n  _initRenderer: () => {\n    _libs_diagram_renderer__WEBPACK_IMPORTED_MODULE_1__.default.init({ manager: _utils_diagram_manager_js__WEBPACK_IMPORTED_MODULE_2__.default }).then((_result) => {\n      _libs_diagram_renderer__WEBPACK_IMPORTED_MODULE_1__.default.initScene({ diagramView: _DIAGRAM });\n      // _diagramManager.tests.testNodes();\n    });\n  },\n\n  getComponent() {\n    const { _env } = _DIAGRAM;\n    return _env.myDIV;\n  },\n\n  _render: () => {\n    const { _env } = _DIAGRAM;\n    const _innerHTML = lit_html__WEBPACK_IMPORTED_MODULE_0__.html`<div class=\"viewport\"></div>`;\n    (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(_innerHTML, _env.myDIV);\n  },\n\n  update: () => {\n    _DIAGRAM._render();\n  },\n\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_DIAGRAM);\n\n//# sourceURL=webpack://frontend-industry/./src/views/diagram.js?");

/***/ }),

/***/ "./src/views/index.js":
/*!****************************!*\
  !*** ./src/views/index.js ***!
  \****************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _diagram_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./diagram.js */ \"./src/views/diagram.js\");\n/* harmony import */ var _data_state_editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./data-state-editor */ \"./src/views/data-state-editor.js\");\n\n\n\n\n\n\nconst _VIEWS = {\n  _env: {\n    views: {\n      'diagram': _diagram_js__WEBPACK_IMPORTED_MODULE_0__.default,\n      'state-editor': _data_state_editor__WEBPACK_IMPORTED_MODULE_1__.default,\n    },\n  },\n\n  init: () => {\n    _diagram_js__WEBPACK_IMPORTED_MODULE_0__.default.init();\n    _data_state_editor__WEBPACK_IMPORTED_MODULE_1__.default.init();\n  },\n\n  getView: ({ name }) => {\n    const { views } = _VIEWS._env;\n    return views[name];\n  },\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_VIEWS);\n\n//# sourceURL=webpack://frontend-industry/./src/views/index.js?");

/***/ })

},
0,[["./src/index.js","runtime~shared","shared"]]]);